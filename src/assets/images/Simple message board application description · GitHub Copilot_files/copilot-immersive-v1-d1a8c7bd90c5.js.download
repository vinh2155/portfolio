"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["copilot-immersive-v1","ui_packages_code-mirror_CodeMirror_tsx"],{79929:(e,t,a)=>{a.d(t,{A:()=>n});let n={messageContainer:"ChatMessage-module__messageContainer--A1rW_","message-action":"ChatMessage-module__message-action--gd8kA",user:"ChatMessage-module__user--x7t7S",ai:"ChatMessage-module__ai--NWwZ0",contentContainer:"ChatMessage-module__contentContainer--s3iSV",message:"ChatMessage-module__message--_amJV",messageContent:"ChatMessage-module__messageContent--cNCus",hasClientConfirmations:"ChatMessage-module__hasClientConfirmations--nYPDm",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--q02uE",skillExecutionText:"ChatMessage-module__skillExecutionText--Fl5HE",fileListItem:"ChatMessage-module__fileListItem--jEMb9",avatar:"ChatMessage-module__avatar--rn6Gb",clientConfirmationContainer:"ChatMessage-module__clientConfirmationContainer--bBSQw",confirmationStatusText:"ChatMessage-module__confirmationStatusText--LA2mj",messageContentWrapper:"ChatMessage-module__messageContentWrapper--Cuc5Y","snippet-clipboard-content":"ChatMessage-module__snippet-clipboard-content--OZiSB",messageActionsContainer:"ChatMessage-module__messageActionsContainer--E6h9A"}},35984:(e,t,a)=>{a.d(t,{E:()=>n});let n=a(24774).Lz.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{border:0,backgroundColor:"transparent"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace",fontSize:"12px",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"var(--borderRadius-medium)",boxShadow:"var(--shadow-resting-medium, var(--color-shadow-medium))",minWidth:"auto"},'.cm-tooltip.cm-tooltip-autocomplete li[role="option"]':{padding:"2px 8px",margin:0,color:"var(--fgColor-default, var(--color-fg-default))",whiteSpace:"pre"},'.cm-tooltip.cm-tooltip-autocomplete li[role="option"]:first-child':{borderTopLeftRadius:"var(--borderRadius-medium)",borderTopRightRadius:"var(--borderRadius-medium)"},'.cm-tooltip.cm-tooltip-autocomplete li[role="option"]:last-child':{borderBottomLeftRadius:"var(--borderRadius-medium)",borderBottomRightRadius:"var(--borderRadius-medium)"},".cm-tooltip.cm-tooltip-autocomplete ul li[aria-selected], .cm-tooltip.cm-tooltip-autocomplete ul li[aria-selected] .cm-completionDetail":{color:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",background:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis))"},".cm-completionDetail":{paddingLeft:"8px",color:"var(--fgColor-muted, var(--color-fg-muted))",fontSize:"var(--fontSize-small)",fontStyle:"normal"}})},11617:(e,t,a)=>{a.d(t,{o:()=>l});var n=a(45230),r=a(54528),i=a(24774),s=a(15874);let o=(0,a(57909).zw)()?[]:[{key:"Alt-g",run:()=>!0,preventDefault:!0}],l=[(0,n.b6)(),(0,s.WD)(),(0,i.$K)({formatNumber:e=>e.toString().padStart(3," ")}),(0,s.SG)(),(0,i.vX)({position:"absolute"}),(0,r.$P)({top:!0}),i.Lz.editorAttributes.of({class:"js-codemirror-editor","data-testid":"codemirror-editor"}),i.w4.of([...o,...n.pw,...r.Eo,...n.cL])]},44246:(e,t,a)=>{a.d(t,{G:()=>r});var n=a(24774);function r(e=null,t="bottom"){return[n.S7.of(()=>({dom:e,top:"top"===t}))]}},84763:(e,t,a)=>{a.d(t,{I:()=>r});var n=a(24774);function r(e){return[n.Z9.fromClass(class{constructor(t){t.scrollDOM.tabIndex=0,t.scrollDOM.setAttribute("role","region"),t.scrollDOM.setAttribute("aria-labelledby",e)}})]}},82521:(e,t,a)=>{a.d(t,{h:()=>m});var n=a(24774),r=a(13281),i=a(53839);let s=i.Pe.define({map:({from:e,to:t,severity:a},n)=>({from:n.mapPos(e),to:n.mapPos(t),severity:a})}),o=i.sU.define({create:()=>n.NZ.none,update(e,t){for(let a of(e=e.map(t.changes),t.effects))a.is(s)&&("error"===a.value.severity?e=e.update({add:[l.range(a.value.from,a.value.to)]}):"warning"===a.value.severity?e=e.update({add:[c.range(a.value.from,a.value.to)]}):"info"===a.value.severity&&(e=e.update({add:[d.range(a.value.from,a.value.to)]})));return e},provide:e=>n.Lz.decorations.from(e)}),l=n.NZ.mark({class:"CodeMirror-lint-mark-error"}),c=n.NZ.mark({class:"CodeMirror-lint-mark-warning"}),d=n.NZ.mark({class:"CodeMirror-lint-mark-info"}),u=(e,t)=>{let{from:a,to:n,severity:i}=e.detail,o=(0,r.TU)(t,{line:a.lineNumber,ch:a.character}),l=(0,r.TU)(t,{line:n.lineNumber,ch:n.character});t.dispatch({effects:[s.of({from:o,to:l,severity:i})]})};function m(){return[n.Lz.domEventHandlers({"secret-detected:lint":u}),o]}},87556:(e,t,a)=>{a.d(t,{r:()=>S});var n=a(5853),r=a(43720);let i={ruby:[{tag:r._A.variableName,color:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable))"}],html:[{tag:r._A.meta,color:"var(--color-prettylights-syntax-constant)"},{tag:r._A.name,color:"var(--color-prettylights-syntax-entity-tag)"}],javascript:[{tag:r._A.name,color:"var(--color-prettylights-syntax-variable)"}],typescript:[{tag:r._A.name,color:"var(--color-prettylights-syntax-variable)"},{tag:r._A.typeName,color:"var(--color-prettylights-syntax-keyword)"}],java:[{tag:r._A.typeName,color:"var(--color-prettylights-syntax-entity)"}],"c++":[{tag:r._A.meta,color:"var(--color-prettylights-syntax-constant)"},{tag:r._A.typeName,color:"var(--color-prettylights-syntax-keyword)"}],php:[{tag:r._A.processingInstruction,color:"var(--color-prettylights-syntax-constant)"},{tag:r._A.name,color:"var(--color-prettylights-syntax-entity)"}]},s=Object.keys(i);var o=a(53839),l=a(82360),c=a(9299),d=a(47404),u=a(24774),m=a(5225),p=a(35984),h=a(26559);let f=(0,m.A)(async function(){let e=new Request("/autocomplete/emojis_for_editor",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json",...(0,h.kt)()}}),t=await fetch(e);if(200!==t.status)throw Error(`emoji request failed with a ${t.status}`);let a=await t.json();return Object.keys(a).map(e=>{let t=a[e];return{name:e,src:t[0],emoji:t[1]}})});var g=a(50467),y=a(13281);let x=new WeakMap;function _(e,t){if((0,y.w0)(e)){let a=(0,y.Lo)(e.state);(0,y.tJ)(e,`${t}${a}${t}`)}else{let a=(0,y.BE)(e);(0,y.TC)(e,t.repeat(2)),(0,y.f9)(e,a.anchor+t.length)}return!0}function v(e,t){let a=(0,y.BE)(e),n=e.state.doc.lineAt(a.from),r=(0,y.Lo)(e.state),i=RegExp(`^${"ol"===t?"\\d+\\.":t}\\s`);if(r){let a=(r.endsWith(`
`)?r.slice(0,-2):r).split(`
`).map((t,a)=>{let r=n.number+a;return{text:e.state.doc.line(r).text,lineNumber:r}}),s=a.every(e=>i.test(e.text));for(let n=0;n<a.length;n++){let r=a[n];if(s){let t=r.text.match(i);t&&(0,y.YH)(e,r?.lineNumber,t[0])}else{let a=`${"ol"===t?`${n+1}.`:t} `;(0,y.Md)(e,r?.lineNumber,a)}}}else{let r=n.text.match(i);if(r)(0,y.YH)(e,n.number,r[0]);else{let r=`${"ol"===t?"1.":t} `;(0,y.Md)(e,n.number,r),n.text||(0,y.f9)(e,a.anchor+r.length)}}return!0}let b=[{key:"Mod-i",run:e=>_(e,"_"),preventDefault:!0},{key:"Mod-b",run:e=>_(e,"**"),preventDefault:!0},{key:"Mod-e",run:e=>_(e,"`"),preventDefault:!0},{key:"Mod-k",run:e=>{let t=(0,y.Lo)(e.state);if(t){let a=`[${t}](url)`;(0,y.tJ)(e,a);let n=(0,y.I6)(e,a).value.from;(0,y.td)(e,n+t.length+3,n+t.length+6)}else{let t=(0,y.BE)(e);(0,y.TC)(e,"[](url)"),(0,y.f9)(e,t.anchor+1)}return!0},preventDefault:!0},{key:"Shift-Mod-.",run:e=>v(e,">"),preventDefault:!0},{key:"Shift-Mod-7",run:e=>v(e,"ol"),preventDefault:!0},{key:"Shift-Mod-8",run:e=>v(e,"-"),preventDefault:!0},{key:"Mod-v",run:e=>(x.set(e,!1),!1)},{key:"Shift-Mod-v",run:e=>(x.set(e,!0),!1)}];function j(e){let t=u.NZ.line({attributes:{dir:"auto"}}),a=new o.vB;for(let{from:n,to:r}of e.visibleRanges)for(let i=n;i<=r;){let n=e.state.doc.lineAt(i);a.add(n.from,n.from,t),i=n.to+1}return a.finish()}let C=u.Z9.fromClass(class{update(e){(e.docChanged||e.viewportChanged)&&(this.decorations=j(e.view))}constructor(e){(0,g._)(this,"decorations",void 0),this.decorations=j(e)}},{decorations:e=>e.decorations}),N=[u.Lz.domEventHandlers({keydown(e){(e.metaKey||e.ctrlKey)&&"k"===e.key&&e.stopPropagation()},paste(e,t){x.get(t)||function(e,t){let a=(0,y.Lo)(e.state),n=t.clipboardData;if(a&&n){let r=n.getData("text/plain");if(!/^https?:\/\//i.test(r))return;r&&(t.preventDefault(),(0,y.tJ)(e,`[${a}](${r})`))}}(t,e),x.set(t,!1)}}),u.w4.of(b),C];async function S({autoCompleteCompartment:e,view:t,viewB:a,fileName:r,languageCompartment:m,managedExtensions:h,themeCompartment:g}){let y=r.split(".").pop()||"",x=y?n.e.find(e=>e.extensions.includes(y)||e.filename&&e.filename.test(r)):void 0;if(x&&t){var _;let n=(_=x.name,s.includes(_.toLowerCase())?i[_.toLowerCase()]:null);n&&w(t,a,{effects:g.reconfigure((0,l.O)(n))}),"Markdown"===x.name?(w(t,a,{effects:m.reconfigure((0,c.markdown)({base:c.markdownLanguage}))}),w(t,a,{effects:o.Pe.reconfigure.of([...N,...h])}),w(t,a,{effects:e.reconfigure([p.E,(0,d.yU)({override:[async e=>(function(e,t=[]){let a=e.matchBefore(/:\w+/);if(!a||a&&a.from===a.to&&!e.explicit)return null;let n=t.filter(e=>-1!==e.name.indexOf(a.text.replace(":",""))).map(e=>({label:e.name,apply:e.emoji||`:${e.name}:`,type:e.src}));return{from:a.from,to:a.to,options:n,filter:!1}})(e,await f())],icons:!1,addToOptions:[{render:e=>{let t=document.createElement("img");return t.className="emoji emoji-result mr-2",t.height=20,t.width=20,t.alt=`:${e.label}:`,t.src=e.type,t.setAttribute("async",""),t},position:0}]}),o.Nb.highest(u.w4.of([{key:"Tab",run:d.$w}]))])})):(w(t,a,{effects:e.reconfigure([])}),w(t,a,{effects:m.reconfigure(await x.load())}))}}function w(e,t,a){e.dispatch(a),t&&t.dispatch(a)}},82360:(e,t,a)=>{a.d(t,{O:()=>u});var n=a(24774),r=a(15874),i=a(43720);let s={"&":{background:"var(--codeMirror-bgColor, var(--color-codemirror-bg))",color:"var(--codeMirror-fgColor, var(--color-codemirror-text))",cursor:"text"},".cm-gutters, .cm-gutters.cm-gutters-before":{background:"var(--codeMirror-gutters-bgColor, var(--color-codemirror-gutters-bg))",borderRightWidth:0},".cm-lineNumbers .cm-gutterElement":{color:"var(--codeMirror-lineNumber-fgColor, var(--color-codemirror-linenumber-text))",fontFamily:"var(--fontStack-monospace)",fontSize:"var(--codeMirror-gutter-fontSize, var(--codeMirror-content-fontSize, 12px))",lineHeight:"20px",padding:"0 16px 0 16px"},".cm-content":{caretColor:"var(--codeMirror-cursor-fgColor, var(--color-codemirror-cursor))",fontFamily:"var(--fontStack-monospace)",fontSize:"var(--codeMirror-content-fontSize, 12px)",background:"var(--codeMirror-lines-bgColor, var(--color-codemirror-lines-bg))",lineHeight:"20px",paddingTop:"8px"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, #d7d4f0))"},"&.cm-focused":{outline:"none"},"&.hide-help-until-focus":{"&.cm-focused .cm-panels-bottom":{display:"block"},"& .cm-panels-bottom":{display:"none"}},"&.hide-help":{"& .cm-panels-top":{display:"none",position:"absolute"}},".cm-content ::-moz-selection":{backgroundColor:"var(--codeMirror-selection-bgColor, var(--color-codemirror-selection-bg, #d7d4f0))"},".cm-activeLine":{backgroundColor:"var(--codeMirror-activeline-bgColor, var(--color-codemirror-activeline-bg))"},".cm-line":{paddingLeft:"16px"},".cm-help-panel":{background:"var(--bgColor-muted, var(--color-canvas-subtle))",padding:"7px 10px",margin:0,fontSize:"13px",lineHeight:"16px",color:"var(--fgColor-muted, var(--color-fg-muted))",cursor:"default"},".cm-panels-bottom":{borderTop:"var(--borderWidth-thin, 1px) solid var(--borderColor-default, var(--color-border-default))",background:"none"},".js-upload-markdown-image & .cm-panels-bottom":{bottom:"30px !important"},".cm-panel.cm-search":{background:"var(--bgColor-muted, var(--color-canvas-subtle))",padding:"8px",fontSize:"16px"},".cm-panel.cm-search > button":{borderRadius:"6px",padding:"4px 8px",background:"var(--codeMirror-bgColor, var(--color-codemirror-bg))",color:"var(--button-default-fgColor-rest, var(--color-btn-text))",border:"1px solid var(--button-default-borderColor-rest, var(--color-btn-border))",textTransform:"capitalize"},".cm-panel.cm-search > label":{color:"var(--fgColor-default, var(--color-fg-default))",textTransform:"capitalize",fontSize:"12px"},".cm-panel.cm-search > input":{borderRadius:"6px",padding:"4px 8px",background:"var(--bgColor-default, var(--color-canvas-default))",color:"var(--fgColor-default, var(--color-fg-default))",border:"1px solid var(--borderColor-default, var(--color-border-default))",fontSize:"12px"},'.cm-panel.cm-search > button[name="close"]':{padding:"4px"},".cm-panels-top":{borderBottom:"var(--borderWidth-thin, 1px) solid var(--color-border-default)",background:"none"},".cm-panel.cm-search input, .cm-panel.cm-search button, .cm-panel.cm-search label":{marginRight:"8px",marginBottom:"4px",marginTop:"4px",marginLeft:0},".cm-lintRange":{cursor:"help",backgroundImage:"none !important"},".cm-placeholder":{height:"1em",color:"var(--fgColor-muted)"},"&.custom-tooltips .cm-tooltip":{border:"none !important",backgroundColor:"transparent !important"},"&.custom-tooltips .cm-diagnostic":{padding:0,marginLeft:"0 !important",borderLeft:"none !important",whiteSpace:"unset"}},o=[{tag:[i._A.keyword],color:"var(--codeMirror-syntax-fgColor-keyword, var(--color-codemirror-syntax-keyword))"},{tag:[i._A.comment],color:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment))"},{tag:[i._A.bracket],color:"var(--codeMirror-matchingBracket-fgColor, var(--color-codemirror-matchingbracket-text))"},{tag:[i._A.string,i._A.url,i._A.regexp],color:"var(--codeMirror-syntax-fgColor-string, var(--color-codemirror-syntax-string))"},{tag:[i._A.constant(i._A.name),i._A.propertyName,i._A.attributeName],color:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant))"},{tag:[i._A.atom,i._A.number,i._A.bool],color:"var(--codeMirror-syntax-fgColor-constant, var(--color-codemirror-syntax-constant))"},{tag:[i._A.function(i._A.variableName)],color:"var(--codeMirror-syntax-fgColor-entity, var(--color-codemirror-syntax-entity))"},{tag:i._A.definition(i._A.variableName),color:"var(--codeMirror-syntax-fgColor-variable, var(--color-codemirror-syntax-variable))"},{tag:i._A.meta,color:"inherit"},{tag:i._A.heading,fontWeight:"bold",color:"inherit !important"},{tag:i._A.monospace,color:"var(--codeMirror-syntax-fgColor-comment, var(--color-codemirror-syntax-comment))"}],l=[{tag:i._A.link,textDecoration:"underline"},{tag:i._A.emphasis,fontStyle:"italic"},{tag:i._A.strong,fontWeight:"bold"},{tag:i._A.strikethrough,textDecoration:"line-through"}],c=[...o,...l],d=[...o,...l];function u(e=[]){let t=[...null!==document.querySelector('[data-color-mode="dark"]')?d:c,...e];return[n.Lz.theme(s),(0,r.y9)(r.cr.define(t),{fallback:!0})]}},13281:(e,t,a)=>{a.d(t,{BE:()=>o,Cw:()=>N,I6:()=>b,Lo:()=>d,Md:()=>f,TB:()=>j,TC:()=>v,TU:()=>m,YH:()=>g,Z3:()=>p,eO:()=>x,e_:()=>_,f9:()=>l,fJ:()=>S,fV:()=>h,tJ:()=>y,td:()=>u,w0:()=>c,ye:()=>C});var n=a(15874),r=a(54528),i=a(53839),s=a(24774);let o=e=>e.state.selection.main,l=(e,t)=>{e.dispatch({selection:{anchor:t}})},c=e=>e.state.selection.ranges.some(e=>!e.empty),d=e=>e.sliceDoc(e.selection.main.from,e.selection.main.to),u=(e,t,a)=>{e.dispatch({selection:{anchor:t,head:a}})};function m(e,t){return e.state.doc.line(t.line+1).from+t.ch}function p(e,t){let a=e.state.doc.lineAt(t);return{line:a.number-1,ch:t-a.from}}let h=(e,t)=>e.state.doc.line(t),f=(e,t,a)=>{let n=h(e,t);_(e,n.from,n.from,a)},g=(e,t,a)=>{let n=h(e,t);_(e,n.from,n.from+a.length,"")},y=(e,t)=>{e.dispatch(e.state.replaceSelection(t))},x=(e,t,a)=>e.sliceDoc(t,a),_=(e,t,a,n)=>{e.dispatch({changes:{from:t,to:a,insert:n}})},v=(e,t)=>{let a=o(e);_(e,a.from,a.to,t)},b=(e,t)=>new r.ZX(e.state.doc,t).next(),j=(e,t,a)=>{let n=new r.ZX(e.state.doc,t).next();e.dispatch({changes:{from:n.value.from,to:n.value.to,insert:a}})},C=(e,t,a,n,r)=>{if(void 0!==a)try{let o=h(e,t),l=h(e,a);if(o&&l){e.focus();let t=r?l.from+r:l.to;u(e,o.from+(n??0),t),e.dispatch({effects:[s.Lz.scrollIntoView(i.OF.range(o.from,l.to),{y:"center"})]})}}catch{}else try{let a=h(e,t);a&&(e.focus(),l(e,a.from+(n??0)),e.dispatch({effects:[s.Lz.scrollIntoView(a.from,{y:"center"})]}))}catch{}};function N(e){return e.state.facet(n.Xt)}function S(e,t){if(e===t)return[];let a=0,n=Math.min(e.length,t.length);for(;a<n&&e[a]===t[a];)a++;let r=e.length,i=t.length;for(;r>a&&i>a&&e[r-1]===t[i-1];)r--,i--;return[{from:a,to:r,insert:t.slice(a,i)}]}},98637:(e,t,a)=>{a.d(t,{T:()=>d});var n=a(88795),r=a(96235),i=a(60183),s=a(75367),o=a(60039),l=a(96540),c=a(93955);function d(){let{sendAnalyticsEvent:e}=(0,s.s)(),t=function(){let e=function(){let e=(0,n.t)(),t=(0,c.i)();return(0,l.useMemo)(()=>({react_app:"code-view",repository_id:e.id,repository_nwo:`${e.ownerLogin}/${e.name}`,repository_public:e.public,repository_is_fork:e.isFork,actor_id:t?.id,actor_login:t?.login}),[e,t])}(),t=(0,n.t)(),a=(0,r.yH8)(r.tTz,{owner:t.ownerLogin,repo:t.name});return(0,l.useCallback)((t,n,r)=>{let i={target:t,interaction:n,context:r,...e,...{url:window.location.href,user_agent:window.navigator.userAgent,browser_width:window.innerWidth,browser_languages:window.navigator.languages.join(",")}};(0,o.lS)(a,{method:"POST",body:i})},[e,a])}(),a=(0,i.u)("code_nav_ui_events");return{sendRepoClickEvent:(0,l.useCallback)((n,r={})=>{e("repository.click",n,r),a&&t(n,"click",r)},[e,t,a]),sendRepoKeyDownEvent:(0,l.useCallback)((n,r={})=>{e("repository.keydown",n,r),a&&t(n,"keydown",r)},[e,t,a]),sendStats:(0,l.useCallback)((n,r={})=>{e(n,"",r),a&&t(n,"stats",r)},[e,t,a]),sendMarketplaceActionEvent:(0,l.useCallback)((t,a={})=>{e("marketplace.action.click",t,a)},[e])}}},62834:(e,t,a)=>{a.d(t,{o:()=>u});var n=a(5225),r=a(88795),i=a(96235),s=a(60039),o=a(96540);async function l(e){let t=await (0,s.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,n.A)(l,{cache:c});function u(e,t,a){let n=(0,r.t)(),[s,l]=(0,o.useState)({list:[],directories:[],loading:!0}),c=(0,i.ClY)({repo:n,commitOid:e,includeDirectories:!a});return(0,o.useEffect)(()=>{let e=!1,a=async()=>{l({list:[],directories:[],loading:!0});let t=await d(c);if(e)return;let a=t?.paths||[],n=t?.directories||[];l({list:a.concat(n).sort(),directories:n,error:!t})};return t&&a(),function(){e=!0}},[c,t,a]),s}},21113:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(141),r=a(88795),i=a(96235),s=a(80663),o=a(96540);function l(){let e=(0,r.t)(),{path:t,action:a,refInfo:l}=(0,n.eu)(),[c]=(0,s.I)(()=>!1,!0,[]);function d(e){return e?`?${e}`:""}function u(e){return c?"":void 0===e?window.location.hash:e?`#${e}`:""}return{getItemUrl:o.useCallback(t=>(0,i.IO9)({repo:e,commitish:l.name,action:"directory"===t.contentType?"tree":"blob",path:t.path}),[e.ownerLogin,e.name,l.name]),getUrl(n={}){let r=(0,i.IO9)({repo:e,commitish:n.commitish||l.name,action:n.action||a,path:n.path||t})+function({params:e,hash:t}){return d(e)+u(t)}(n);return n.absolute?new URL(r,window.location.origin).href:r},createPermalink(n={}){let r=(0,i.IO9)({repo:e,commitish:l.currentOid,action:n.action||a,path:n.path||t})+function({params:e,hash:t}){return d(e)+u(t)}(n);return n.absolute?new URL(r,window.location.origin).href:r},isCurrentPagePermalink:()=>!c&&l.name===l.currentOid&&window.location.pathname.includes(l.currentOid)}}},89276:(e,t,a)=>{a.d(t,{z:()=>WebWorker});var n=a(35750),r=a(18150),i=a(85242),s=a(50467);let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,s._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};var o=new WeakMap,l=new WeakMap;let MainThreadWorker=class MainThreadWorker{async postMessage(e){if((0,n._)(this,o))return;let t={data:(0,n._)(this,l).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,i._)(this,o,!0)}constructor(e){(0,r._)(this,o,{writable:!0,value:!1}),(0,s._)(this,"onmessage",void 0),(0,r._)(this,l,{writable:!0,value:void 0}),(0,i._)(this,l,e)}}},27406:(e,t,a)=>{a.d(t,{j:()=>s});var n=a(5225),r=a(91385);let i=(0,n.A)(r.fN);function s({data:e}){let{query:t,baseList:a,startTime:n}=e,s=t.replaceAll("\\","");return{query:t,list:a.filter(e=>{var t,a;return t=e,""===(a=s)||(0,r.qA)(a,t)&&i(a,t)>0}).sort((e,t)=>i(s,t)-i(s,e)),baseCount:a.length,startTime:n}}},8367:(e,t,a)=>{function n(e){return r(e)[0]}function r(e){let t=[];for(let a of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[n,r]=a.trim().split("=");e===n&&void 0!==r&&t.push({key:n,value:r})}return t}function i(e,t,a=null,n=!1,r="lax"){let s=document.domain;if(null==s)throw Error("Unable to get document domain");s.endsWith(".github.com")&&(s="github.com");let o="https:"===location.protocol?"; secure":"",l=a?`; expires=${a}`:"";!1===n&&(s=`.${s}`);try{document.cookie=`${e}=${t}; path=/; domain=${s}${l}${o}; samesite=${r}`}catch{}}function s(e,t=!1){let a=document.domain;if(null==a)throw Error("Unable to get document domain");a.endsWith(".github.com")&&(a="github.com");let n=new Date(Date.now()-1).toUTCString(),r="https:"===location.protocol?"; secure":"",i=`; expires=${n}`;!1===t&&(a=`.${a}`);try{document.cookie=`${e}=''; path=/; domain=${a}${i}${r}`}catch{}}a.d(t,{OR:()=>r,Ri:()=>n,TV:()=>i,Yj:()=>s})},38659:(e,t,a)=>{a.d(t,{v:()=>c});var n=a(21728),r=a(85788),i=a(4144),s=a(53207),o=a(31971),l=a(34901);function c(){let e=(0,n.c)(6),t=(0,s.qw)(),a=(0,l.A3)("activePlugin"),c=(0,r.zy)();if(o.W.improvedNavigation){let a;return e[0]!==c||e[1]!==t?(a=(0,i.B)(c,t),e[0]=c,e[1]=t,e[2]=a):a=e[2],a}{let n;return e[3]!==a||e[4]!==t?(n=a?t.find(e=>e.id===a):void 0,e[3]=a,e[4]=t,e[5]=n):n=e[5],n}}},39376:(e,t,a)=>{a.d(t,{p:()=>h});var n=a(52811),r=a(38007),i=a(96540),s=a(83880),o=a(22069),l=a(34901),c=a(47397),d=a(44435),u=a(88011),m=a(66889),p=a(38659);function h({excludeFeedback:e,inputRef:t,isLatestMessage:a,isStreaming:h,removeOutdatedContentPreviewItems:f}){let{message:g}=(0,s.V)(),y=(0,l.bP)("currentUserLogin","mode"),x=(0,u.tD)(),_=(0,c.b)(),v=(0,p.v)(),b=(0,o.Th)(g,y.currentUserLogin),j="Copilot"===b.name,C="user"===b.type,N=j||(0,o.yh)(b),S=j&&!!g.agentErrors?.length,w=!S&&!!j&&!!g.error&&g.error.isError,I=j&&!e&&(!a||!h)&&!w,T=(0,i.useRef)(null),k=g.interrupted,E=g.clientConfirmations&&g.clientConfirmations.length>0,A=w&&g.error?.retryable,[L,R]=(0,i.useState)([]),[D,P]=(0,i.useState)(void 0),B=(A||k)&&a,M=(0,i.useMemo)(()=>({openLinksInCurrentTab:"assistive"===y.mode,isStreaming:a&&h,extensions:v?.markdownExtensions?v.markdownExtensions.map(e=>e()):[]}),[y.mode,a,h,v?.markdownExtensions]),O=!w&&(I||N&&!!g.content&&!h)&&(!C||!g.confirmations)||C&&!a||w&&a,F=(0,i.useRef)(0);(0,i.useEffect)(()=>{let e=(g.skillExecutions??[]).find(e=>!L.some(t=>t.slug===e.slug&&t.statusMessage===e.statusMessage));if(e){let t=setTimeout(()=>{F.current=Date.now(),R([...L,e]),P(e)},Math.max(0,2e3-(Date.now()-F.current)));return()=>clearTimeout(t)}},[g.skillExecutions,L]),(0,i.useEffect)(()=>{a&&h&&(0,n.i)("Copilot is responding")},[a,h]),(0,i.useEffect)(()=>{a&&!h&&T.current&&(0,n.C)(T.current)},[a,h]);let $=(0,i.useCallback)(async(e,t,a)=>{if(a)a("accepted"===e.state);else{let a=x();await _.sendChatMessage({thread:(0,d.W)(a),content:`@${b.name} ${(0,m.Z)(e.state)} Confirmation: ${t}`,references:g.references??[],topic:a.currentTopic,context:a.context,confirmations:e,customInstructions:a.customInstructions,model:a.model})}},[x,_,b.name,g.references]),U=(0,i.useCallback)(()=>{window.setTimeout(()=>t?.current?.focus(),1)},[t]),V=(0,i.useCallback)(async()=>{let e=x(),t=(0,d.W)(e);t&&(f?.(),U(),(0,r.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY",mode:e.mode}),await _.retryLastUnsuccessfulChatMessage(t))},[x,f,U,_]),W=(0,i.useCallback)(async e=>{let t=x(),a=(0,d.W)(t);a&&(f?.(),U(),(0,r.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY_FOR_NEW_SUBTHREAD",mode:t.mode}),await _.retryUserChatMessage(a,g,e))},[x,_,g,f,U]),z=(0,i.useCallback)(async e=>{let t=x(),a=(0,d.W)(t);a&&(f?.(),await _.editUserChatMessage(a,g,e))},[x,_,g,f]);return{author:b,removeOutdatedContentPreviewItems:f,handleConfirmationAction:$,handleRetryErrorMessage:V,handleRetryCopilotResponse:W,handleEditUserMessage:z,hasClientConfirmations:E,isCopilot:j,isUser:C,isAI:N,isAgentError:S,isError:w,isInterrupted:k,myRef:T,rendererConfig:M,renderFeedback:I,shouldShowMessageActions:O,skillExecutionToUseForRespondingText:D,showRetryButton:B}}},84863:(e,t,a)=>{a.d(t,{Y:()=>d});var n=a(21728),r=a(96540),i=a(22069),s=a(74244),o=a(34901),l=a(47397),c=a(44435);function d(e){let t,a,d,u,m,p,h,f,g,y,x=(0,n.c)(26),_=(0,o.Pk)(),v=(0,l.b)(),{currentTopic:b,messages:j,selectedThreadID:C}=_;x[0]!==_?(t=(0,c.W)(_),x[0]=_,x[1]=t):t=x[1];let N=t,S=(0,r.useRef)(null),w=e||S;return x[2]!==v||x[3]!==j.length||x[4]!==N?(a=()=>{N&&j.length>0&&v.showTopicPicker(!1)},d=[N,j.length,v],x[2]=v,x[3]=j.length,x[4]=N,x[5]=a,x[6]=d):(a=x[5],d=x[6]),(0,r.useEffect)(a,d),x[7]!==b||x[8]!==C?(u=()=>{let e=b?(0,i.P)(b)?b.name:String(b.id):null;C&&e&&s.Jt.setSelectedTopic(C,e)},m=[C,b],x[7]=b,x[8]=C,x[9]=u,x[10]=m):(u=x[9],m=x[10]),(0,r.useEffect)(u,m),x[11]!==w?(p=()=>{let e=window.setTimeout(()=>{w.current?.focus()},1);return()=>{window.clearTimeout(e)}},h=[w],x[11]=w,x[12]=p,x[13]=h):(p=x[12],h=x[13]),(0,r.useEffect)(p,h),x[14]!==v||x[15]!==_.context?.[0]||x[16]!==_.currentRepository?(f=()=>{let e=_.context?.[0]??_.currentRepository;return e&&v.generateSuggestions(e),()=>{v.clearSuggestions()}},x[14]=v,x[15]=_.context?.[0],x[16]=_.currentRepository,x[17]=f):f=x[17],x[18]!==v||x[19]!==_.context||x[20]!==_.currentRepository||x[21]!==_.currentTopic||x[22]!==_.selectedThreadID?(g=[v,_.context,_.currentTopic,_.currentRepository,_.selectedThreadID],x[18]=v,x[19]=_.context,x[20]=_.currentRepository,x[21]=_.currentTopic,x[22]=_.selectedThreadID,x[23]=g):g=x[23],(0,r.useEffect)(f,g),x[24]!==w?(y={textAreaRef:w},x[24]=w,x[25]=y):y=x[25],y}},59220:(e,t,a)=>{a.d(t,{a:()=>o});var n=a(96540),r=a(44669),i=a(13468),s=a(99377);function o(e){let{streamingMessage:t,isWaitingOnCopilot:a,messages:o,selectedThreadID:l,pendingFirstMessage:c}=e,d=(0,n.useMemo)(()=>{let e={id:s.Wp,role:"assistant",content:"",createdAt:"",threadID:l||"",references:[],clientSide:!0,messageIndex:-1},n=(0,i.B)(o,c);return a?[...n,t??e]:n},[l,o,c,a,t]);return{messages:d,groupedMessages:(0,r.A)(d)}}},3246:(e,t,a)=>{a.d(t,{G:()=>c});var n=a(21728),r=a(47397),i=a(22069),s=a(31971),o=a(66871),l=a(26807);function c(){let e,t=(0,n.c)(3),a=(0,r.b)(),c=(0,l.Z)();return t[0]!==a||t[1]!==c?(e=async e=>{window.location.pathname!==i.Jz&&(s.W.improvedNavigation?c(i.Jz):(0,o.kd)(i.Jz),a.dispatch({type:"SELECT_PLUGIN",plugin:null}),await a.selectThread(null,e))},t[0]=a,t[1]=c,t[2]=e):e=t[2],e}},66889:(e,t,a)=>{a.d(t,{Z:()=>n});function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}},99168:(e,t,a)=>{a.d(t,{LU:()=>s,SI:()=>d,SX:()=>h,by:()=>c,g:()=>m,oR:()=>p,oy:()=>i,wt:()=>l,yA:()=>u});var n=a(22069),r=a(99377);function i(e){return e.split("#")[0]}function s(e,t){let a=i(e),n=t.get(a)??[],r=n.indexOf(e);return n.length>1&&-1!==r?r+1:null}function o(e,t){return`file:${e.name}#${t}`}function l(e,t,a){switch(e.type){case"thread-scoped-file":return s(o(e,t),a)??void 0;case"draft-issue":return s(p({ref:e,messageIndex:t}).id,a)??void 0}}function c(e,t,a){return{type:"file",id:`file:${(0,n.Vb)(e)}#0`,reference:e,messageId:t??r.Wp,name:e.path,language:e.languageName??"",value:"",isStreaming:!0,isUserEdited:!1,timestamp:a?new Date(a):new Date}}function d(e,t){return{type:"issue",id:`issue:${e.number}`,messageId:t??r.Wp,name:e.title??"",number:e.number,owner:e.repository.owner,repo:e.repository.name,href:e.url}}function u(e){return{type:e.type,tag:e.tag,parentTag:e.parentTag,repository:e.repository,number:e.number,title:e.name,state:e.state,url:e.href}}function m(e){switch(e.type){case"file":return{type:"thread-scoped-file",name:e.name,language:e.language,text:e.value};case"new-issue":return{type:"draft-issue",tag:e.tag,parentTag:e.parentTag,title:e.name,description:e.body,repository:e.repository,template:e.template,assignees:e.assignees,labels:e.labels,issueType:e.issueType,projects:e.projects,milestone:e.milestone,templateFormValuesById:e.defaultValuesById};default:return null}}function p({ref:e,messageIndex:t,messageId:a,timestamp:n}){switch(e.type){case"thread-scoped-file":return function(e,t,a=r.Wp,n){return{type:"file",id:o(e,t),reference:e,messageId:a,name:e.name,language:e.language,value:e.text,timestamp:n?new Date(n):new Date,isStreaming:!1,isUserEdited:a===r.Wp}}(e,t,a,n);case"draft-issue":return function({ref:e,messageId:t=r.Wp,messageIndex:a}){return{type:"new-issue",id:`new-issue:${e.tag}#${a}`,tag:e.tag,parentTag:e.parentTag,repository:e.repository,name:e.title,body:e.description,assignees:e.assignees??[],labels:e.labels??[],issueType:e.issueType,projects:e.projects??[],milestone:e.milestone,isUserEdited:t===r.Wp,messageId:t,isStreaming:!1,template:e.template,defaultValuesById:e.templateFormValuesById??{}}}({ref:e,messageIndex:t,messageId:a});default:return null}}function h(e,t,a){let n=i(e.id),r=a.get(n),s=r?.findIndex(t=>t===e.id)??-1,o=r?.[s-1];return o&&t.get(o)}},48236:(e,t,a)=>{var n,r,i,s,o,l,c=a(32420),d=a(16058),u=a(48551),m=a(74848),p=a(21728);function h(e){let t,a=(0,p.c)(2);return a[0]!==e.children?(t=(0,m.jsx)(m.Fragment,{children:e.children}),a[0]=e.children,a[1]=t):t=a[1],t}try{h.displayName||(h.displayName="App")}catch{}var f=a(50467),g=a(39627),y=a(52450),x=a(34164),_=a(96540);let v={scrollContainer:"ContentView-module__scrollContainer--wpj1Y",contentContainer:"ContentView-module__contentContainer--bYW7x",content:"ContentView-module__content--gJIEz",medium:"ContentView-module__medium--S91Um",small:"ContentView-module__small--MfxBK",banner:"ContentView-module__banner--Fz5_d",serviceHeader:"ContentView-module__serviceHeader--KN8ix",serviceTitle:"ContentView-module__serviceTitle--hjweZ",serviceDescription:"ContentView-module__serviceDescription--__XLT",serviceActions:"ContentView-module__serviceActions--q6aEC",section:"ContentView-module__section--Fa2ri",sectionTitle:"ContentView-module__sectionTitle--KVZXe",sectionGrid:"ContentView-module__sectionGrid--cOEZL",sectionGridEmpty:"ContentView-module__sectionGridEmpty--wCrfV",skeletonCard:"ContentView-module__skeletonCard--edod5"};function b(e){let t,a,n,r,i=(0,p.c)(10),{children:s,width:o}=e;if(i[0]!==s){for(let e of(t=[],a=[],_.Children.toArray(s)))_.isValidElement(e)&&e.type===j?t.push(e):a.push(e);i[0]=s,i[1]=t,i[2]=a}else t=i[1],a=i[2];let l="small"===o,c="medium"===o;return i[3]!==l||i[4]!==c?(n=(0,x.$)(v.content,{[v.small]:l,[v.medium]:c}),i[3]=l,i[4]=c,i[5]=n):n=i[5],i[6]!==t||i[7]!==a||i[8]!==n?(r=(0,m.jsx)("div",{className:v.scrollContainer,children:(0,m.jsx)("div",{className:v.contentContainer,children:(0,m.jsxs)("div",{className:n,children:[t,a]})})}),i[6]=t,i[7]=a,i[8]=n,i[9]=r):r=i[9],r}function j(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:v.banner,children:n}),a[0]=n,a[1]=t):t=a[1],t}function C(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:v.serviceHeader,children:n}),a[0]=n,a[1]=t):t=a[1],t}function N(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("section",{className:v.section,children:n}),a[0]=n,a[1]=t):t=a[1],t}function S(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("h2",{className:v.serviceTitle,children:n}),a[0]=n,a[1]=t):t=a[1],t}function w(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("p",{className:v.serviceDescription,children:n}),a[0]=n,a[1]=t):t=a[1],t}function I(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:v.serviceActions,children:n}),a[0]=n,a[1]=t):t=a[1],t}function T(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("h3",{className:v.sectionTitle,children:n}),a[0]=n,a[1]=t):t=a[1],t}function k(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:v.sectionGridEmpty,children:n}),a[0]=n,a[1]=t):t=a[1],t}function E(e){let t,a,n,r=(0,p.c)(8),{children:i,loading:s}=e;if(void 0!==s&&s){let e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:v.sectionGrid,"data-testid":"service-view-skeleton",children:[void 0,void 0,void 0].map(R)}),r[0]=e):e=r[0],e}if(r[1]!==i){let e=_.Children.toArray(i);t=e.find(L),a=e.filter(A),r[1]=i,r[2]=t,r[3]=a}else t=r[2],a=r[3];let o=a;if(0===o.length&&t){let e;return r[4]!==t?(e=(0,m.jsx)(m.Fragment,{children:t}),r[4]=t,r[5]=e):e=r[5],e}return r[6]!==o?(n=(0,m.jsx)("div",{className:v.sectionGrid,children:o}),r[6]=o,r[7]=n):n=r[7],n}function A(e){return!(_.isValidElement(e)&&e.type===k)}function L(e){return _.isValidElement(e)&&e.type===k}function R(e,t){return(0,m.jsx)(y.f,{className:v.skeletonCard},t)}E.Empty=k,N.Title=T,N.Grid=E;let D={Title:S,Description:w,Actions:I,Container:b,Banner:j,Header:C,Section:N};D.displayName="ContentView",b.displayName="ContentView.Container",j.displayName="ContentView.Banner",C.displayName="ContentView.Header",N.displayName="ContentView.Section",S.displayName="ContentView.Title",w.displayName="ContentView.Description",I.displayName="ContentView.Actions",T.displayName="ContentView.Section.Title",E.displayName="ContentView.Section.Grid",k.displayName="ContentView.Section.Grid.Empty";var P=a(82164),B=a(38621);let M={header:"AgentsView-module__header--EkfyX",button:"AgentsView-module__button--d749M",counter:"AgentsView-module__counter--D8Z1d",filterButtons:"AgentsView-module__filterButtons--sCvuN",failedTaskCreationBanners:"AgentsView-module__failedTaskCreationBanners--MP7vY"};var O=a(58207),F=a(90514),$=a(74433),U=a(64262),V=a(1948),W=a(34901),z=a(87517),H=a(36613),q=a(47397),G=a(54187),K=a(38911);function Q(e){let t,a,n,r=(0,p.c)(8),{problemStatement:i,handleRetry:s,handleDismiss:o}=e,l=function(e,t=50,a=2){let n=t*a;return e.length<=n?e:`${e.substring(0,n).trim()}...`}(i??"",20,1),c=`Failed to create a task for '${l}'. Please try again.`;return r[0]!==o?(t=(0,m.jsx)(K.l.SecondaryAction,{onClick:o,children:"Dismiss"}),r[0]=o,r[1]=t):t=r[1],r[2]!==s?(a=(0,m.jsx)(K.l.PrimaryAction,{onClick:s,children:"Retry"}),r[2]=s,r[3]=a):a=r[3],r[4]!==c||r[5]!==t||r[6]!==a?(n=(0,m.jsx)(K.l,{variant:"critical",title:"Task Creation Failed",hideTitle:!0,description:c,secondaryAction:t,primaryAction:a}),r[4]=c,r[5]=t,r[6]=a,r[7]=n):n=r[7],n}try{Q.displayName||(Q.displayName="TaskCreationFailedBanner")}catch{}var Y=a(27851),J=a(46309),X=a(49048);function Z(e){let t,a=(0,p.c)(3),{tasks:n,isError:r}=e;return a[0]!==r||a[1]!==n?(t=(0,m.jsx)(P.qJ.List,{id:"tasks-list","aria-labelledby":"open-tab",children:r?(0,m.jsxs)(P.qJ.EmptyState,{children:[(0,m.jsx)(B.AlertIcon,{size:24}),(0,m.jsx)("p",{children:"Sorry, something went wrong"})]}):0===n.length?(0,m.jsx)(P.qJ.EmptyState,{children:(0,m.jsx)("p",{children:"No open tasks yet. Start a new task to see it here."})}):(0,m.jsx)(m.Fragment,{children:n.map(ee)})}),a[0]=r,a[1]=n,a[2]=t):t=a[2],t}function ee(e){return e.isOptimistic?(0,m.jsx)(F.eB,{title:`Creating: ${e.problemStatement??""}`,repositoryNwo:e.nwo??""},e.clientGeneratedId):e.pull&&(0,m.jsx)(F.ZL,{state:e.latest_session_state,startedAt:e.latest_session_updated_at,revisionCount:e.session_count-1,prState:e.pull.state,prUrl:e.pull.url,prTitle:e.pull.title,prNwo:e.pull.repository_nwo,prNumber:e.pull.number,prInMergeQueue:e.pull.inMergeQueue??!1},e.pull.id)}function et(e){let t,a,n=(0,p.c)(5),{tasks:r,isError:i}=e;return n[0]!==i||n[1]!==r?(t=i?(0,m.jsxs)(P.qJ.EmptyState,{children:[(0,m.jsx)(B.AlertIcon,{size:24}),(0,m.jsx)("p",{children:"Sorry, something went wrong"})]}):0===r.length?(0,m.jsx)(P.qJ.EmptyState,{children:(0,m.jsx)("p",{children:"No closed tasks yet."})}):r.map(ea),n[0]=i,n[1]=r,n[2]=t):t=n[2],n[3]!==t?(a=(0,m.jsx)(P.qJ.List,{id:"tasks-list","aria-labelledby":"closed-tab",children:t}),n[3]=t,n[4]=a):a=n[4],a}function ea(e){return(0,m.jsx)(F.ZL,{state:e.latest_session_state,startedAt:e.latest_session_updated_at,revisionCount:e.session_count-1,prState:e.pull.state,prUrl:e.pull.url,prTitle:e.pull.title,prNwo:e.pull.repository_nwo,prNumber:e.pull.number,prInMergeQueue:e.pull.inMergeQueue??!1},e.pull.id)}function en(e){let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(31),{tasks:f,isError:g,activeTab:y,setActiveTab:x}=e;h[0]!==f?(t=f.filter(ei),h[0]=f,h[1]=t):t=h[1];let _=t;h[2]!==f?(a=f.filter(er),h[2]=f,h[3]=a):a=h[3];let v=a;h[4]!==x?(n=()=>x("open"),h[4]=x,h[5]=n):n=h[5];let b="open"===y;h[6]!==_.length?(r=(0,m.jsx)("span",{className:M.counter,children:_.length}),h[6]=_.length,h[7]=r):r=h[7],h[8]!==n||h[9]!==b||h[10]!==r?(i=(0,m.jsxs)("button",{onClick:n,role:"tab","aria-selected":b,"aria-controls":"tasks-list",id:"open-tab",className:M.button,children:["Open ",r]}),h[8]=n,h[9]=b,h[10]=r,h[11]=i):i=h[11],h[12]!==x?(s=()=>x("closed"),h[12]=x,h[13]=s):s=h[13];let j="closed"===y;return h[14]!==v.length?(o=(0,m.jsx)("span",{className:M.counter,children:v.length}),h[14]=v.length,h[15]=o):o=h[15],h[16]!==s||h[17]!==j||h[18]!==o?(l=(0,m.jsxs)("button",{onClick:s,role:"tab","aria-selected":j,"aria-controls":"tasks-list",id:"closed-tab",className:M.button,children:["Closed ",o]}),h[16]=s,h[17]=j,h[18]=o,h[19]=l):l=h[19],h[20]!==l||h[21]!==i?(c=(0,m.jsx)(P.qJ.Header,{children:(0,m.jsxs)("div",{role:"tablist","aria-label":"Filter pull requests",className:M.filterButtons,children:[i,l]})}),h[20]=l,h[21]=i,h[22]=c):c=h[22],h[23]!==y||h[24]!==v||h[25]!==g||h[26]!==_?(d="open"===y?(0,m.jsx)(Z,{tasks:_,isError:g}):(0,m.jsx)(et,{tasks:v,isError:g}),h[23]=y,h[24]=v,h[25]=g,h[26]=_,h[27]=d):d=h[27],h[28]!==c||h[29]!==d?(u=(0,m.jsxs)(P.qJ,{children:[c,d]}),h[28]=c,h[29]=d,h[30]=u):u=h[30],u}function er(e){return!!(e.pull&&("merged"===e.pull.state||"closed"===e.pull.state))}function ei(e){return!e.pull||"merged"!==e.pull.state&&"closed"!==e.pull.state}function es(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(V.Fn,{children:(0,m.jsx)(eo,{})}),t[0]=e):e=t[0],e}function eo(){let e,t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C,N,S,w=(0,p.c)(53),[I,T]=(0,_.useState)("open"),{apiURL:k,sessionsPollingInterval:E,showCopilotCodingAgentPremiumRequestsBanner:A,tasks:L,pullRequestsMap:R}=(0,U.X)();w[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],w[0]=e):e=w[0];let[P,B]=(0,_.useState)(e),F=k??"";w[1]!==R||w[2]!==L||w[3]!==E||w[4]!==F?(t={apiURL:F,sessionsPollingInterval:E,initialTasks:L,initialPullRequestsMap:R},w[1]=R,w[2]=L,w[3]=E,w[4]=F,w[5]=t):t=w[5];let{tasks:V,isError:K}=(0,O.s)(t),Z=k??"";w[6]===Symbol.for("react.memo_cache_sentinel")?(a={onError:(e,t)=>{B(a=>[...a,{...t,error:e,baseRef:t.baseRef,timestamp:new Date().toISOString()}])}},w[6]=a):a=w[6],w[7]!==Z?(n={apiURL:Z,onCreateError:a},w[7]=Z,w[8]=n):n=w[8];let{createTask:ee}=(0,X.Z)(n),et=(0,q.b)();w[9]===Symbol.for("react.memo_cache_sentinel")?(r=[],w[9]=r):r=w[9],(0,_.useEffect)(eu,r),w[10]!==et?(i=()=>{et.selectThread(null,{includeThreads:!1,clearTopic:!0})},s=[et],w[10]=et,w[11]=i,w[12]=s):(i=w[11],s=w[12]),(0,_.useEffect)(i,s),w[13]!==ee||w[14]!==et?(o=async(e,t,a)=>{let n=e.trim();""!==n&&a&&""!==a.trim()&&(t?(T("open"),ee({nwo:t.nameWithOwner,problemStatement:n,baseRef:a,eventType:"agents_page"})):et.sendChatMessage({content:n,thread:null,references:[]}))},w[13]=ee,w[14]=et,w[15]=o):o=w[15];let ea=o;w[16]!==ee||w[17]!==P?(l=e=>{let t=P[e];t&&(B(t=>t.filter((t,a)=>a!==e)),ee({nwo:t.nwo,problemStatement:t.problemStatement,baseRef:t.baseRef,eventType:"agents_page"}))},w[16]=ee,w[17]=P,w[18]=l):l=w[18];let er=l,{ssoOrganizations:ei,currentReferences:es}=(0,W.Pk)();w[19]!==ei?(c=ei.map(ed),w[19]=ei,w[20]=c):c=w[20];let eo=c;w[21]!==es?(d=es.find(ec),w[21]=es,w[22]=d):d=w[22];let em=d;w[23]!==eo?(u=()=>{let e=sessionStorage.getItem("PROTECTED_ORGS");JSON.stringify(eo)!==e&&(new G.l().removeLocalStorageAuthToken(),sessionStorage.setItem("PROTECTED_ORGS",JSON.stringify(eo)))},h=[eo],w[23]=eo,w[24]=u,w[25]=h):(u=w[24],h=w[25]),(0,_.useEffect)(u,h);let[ep,eh]=(0,_.useState)(!1);w[26]!==em?(f=em?{...em,private:em?.visibility==="private"}:void 0,w[26]=em,w[27]=f):f=w[27];let ef=f;return w[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,m.jsx)("div",{className:M.header}),w[28]=g):g=w[28],w[29]!==ep||w[30]!==A?(y=A&&!ep&&(0,m.jsx)(D.Banner,{children:(0,m.jsx)($.C,{onBannerDismiss:()=>eh(!0)})}),w[29]=ep,w[30]=A,w[31]=y):y=w[31],w[32]===Symbol.for("react.memo_cache_sentinel")?(x=(0,m.jsxs)(D.Header,{children:[(0,m.jsx)(D.Title,{children:"Agents"}),(0,m.jsx)(D.Description,{children:"Delegate tasks to GitHub Copilot coding agent to work on in the background, and then monitor Copilot's progress."})]}),w[32]=x):x=w[32],w[33]!==eo?(v=eo.length>0&&!(0,Y.G7)("global_sso_banner")&&(0,m.jsx)(D.Section,{children:(0,m.jsx)(z.x,{protectedOrgs:eo,redirectURI:el})}),w[33]=eo,w[34]=v):v=w[34],w[35]!==ea||w[36]!==ef?(b=(0,m.jsx)(H.Q,{handleUserSubmit:ea,initialRepo:ef}),w[35]=ea,w[36]=ef,w[37]=b):b=w[37],w[38]!==P||w[39]!==er?(j=P.length>0&&(0,m.jsx)(J.B,{direction:"vertical",className:M.failedTaskCreationBanners,children:P.map((e,t)=>(0,m.jsx)(Q,{problemStatement:e?.problemStatement,handleRetry:()=>er(t),handleDismiss:()=>{B(e=>e.filter((e,a)=>a!==t))}},`${e?.nwo}-${e?.problemStatement}-${e?.timestamp}`))}),w[38]=P,w[39]=er,w[40]=j):j=w[40],w[41]!==b||w[42]!==j?(C=(0,m.jsxs)(D.Section,{children:[b,j]}),w[41]=b,w[42]=j,w[43]=C):C=w[43],w[44]!==I||w[45]!==K||w[46]!==V?(N=(0,m.jsx)(D.Section,{children:(0,m.jsx)(en,{tasks:V,isError:K,activeTab:I,setActiveTab:T})}),w[44]=I,w[45]=K,w[46]=V,w[47]=N):N=w[47],w[48]!==y||w[49]!==v||w[50]!==C||w[51]!==N?(S=(0,m.jsxs)(m.Fragment,{children:[g,(0,m.jsxs)(D.Container,{width:"small",children:[y,x,v,C,N]})]}),w[48]=y,w[49]=v,w[50]=C,w[51]=N,w[52]=S):S=w[52],S}function el(){return location.href}function ec(e){return"repository"===e.type}function ed(e){return e.login}function eu(){(0,g.D)("Agents \xb7 GitHub Copilot")}try{Z.displayName||(Z.displayName="OpenTaskList")}catch{}try{et.displayName||(et.displayName="ClosedTaskList")}catch{}try{en.displayName||(en.displayName="TaskList")}catch{}try{es.displayName||(es.displayName="AgentsViewWrapper")}catch{}try{eo.displayName||(eo.displayName="AgentsView")}catch{}var em=a(28391);let ep={subList:"Navigation-module__subList--Ued7A",section:"Navigation-module__section--KRddB",expandButton:"Navigation-module__expandButton--v40lv",item:"Navigation-module__item--KtIqz",link:"Navigation-module__link--ybSvz",contextButton:"Navigation-module__contextButton--AhNds",icon:"Navigation-module__icon--szbQF",textWrapper:"Navigation-module__textWrapper--qEAz8",text:"Navigation-module__text--KFINZ"};function eh(e){let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(37),{"aria-current":f,children:g,contextMenuComponent:y,expandOnClick:x,hasItems:v,href:b,icon:j,iconOverride:C,onLinkClick:N,id:S,displayName:w,label:I}=e,T=void 0===x||x,[k,E]=(0,_.useState)(!1);h[0]!==k?(t=()=>{E(!k)},h[0]=k,h[1]=t):t=h[1];let A=t;h[2]!==T||h[3]!==S||h[4]!==N?(a=e=>{N?.(e,S),T&&E(!0)},h[2]=T,h[3]=S,h[4]=N,h[5]=a):a=h[5];let L=a;h[6]!==f||h[7]!==L?(n={"aria-current":f,className:ep.link,onClick:L},h[6]=f,h[7]=L,h[8]=n):n=h[8];let R=n;return h[9]!==k||h[10]!==v||h[11]!==A?(r=v&&(0,m.jsx)("button",{"aria-label":"Expand","aria-expanded":k,className:ep.expandButton,onClick:A,children:k?(0,m.jsx)(B.ChevronDownIcon,{size:12}):(0,m.jsx)(B.ChevronRightIcon,{size:12})}),h[9]=k,h[10]=v,h[11]=A,h[12]=r):r=h[12],h[13]!==j||h[14]!==C?(i=j?(0,m.jsx)(j,{size:16}):C,h[13]=j,h[14]=C,h[15]=i):i=h[15],h[16]!==i?(s=(0,m.jsx)("div",{className:ep.icon,children:i}),h[16]=i,h[17]=s):s=h[17],h[18]!==w?(o=(0,m.jsx)("div",{className:ep.textWrapper,children:(0,m.jsx)("div",{className:ep.text,children:w})}),h[18]=w,h[19]=o):o=h[19],h[20]!==R||h[21]!==b||h[22]!==I||h[23]!==s||h[24]!==o?(l=(0,m.jsxs)(em.N,{to:b,...R,children:[s,o,I]}),h[20]=R,h[21]=b,h[22]=I,h[23]=s,h[24]=o,h[25]=l):l=h[25],h[26]!==y||h[27]!==r||h[28]!==l?(c=(0,m.jsxs)("div",{className:ep.item,children:[r,l,y]}),h[26]=y,h[27]=r,h[28]=l,h[29]=c):c=h[29],h[30]!==g||h[31]!==k||h[32]!==v?(d=k&&v&&(0,m.jsx)("ul",{className:ep.subList,children:g}),h[30]=g,h[31]=k,h[32]=v,h[33]=d):d=h[33],h[34]!==c||h[35]!==d?(u=(0,m.jsxs)("li",{className:ep.section,children:[c,d]}),h[34]=c,h[35]=d,h[36]=u):u=h[36],u}try{eh.displayName||(eh.displayName="Navigation")}catch{}try{(n=function(e){let t,a,n,r,i=(0,p.c)(14),{"aria-current":s,contextMenuComponent:o,displayName:l,href:c,icon:d,iconOverride:u,onLinkClick:h}=e;return i[0]!==d||i[1]!==u?(t=d?(0,m.jsx)(d,{size:16,className:ep.icon}):u,i[0]=d,i[1]=u,i[2]=t):t=i[2],i[3]!==l?(a=(0,m.jsx)("div",{className:ep.textWrapper,children:(0,m.jsx)("div",{className:ep.text,children:l})}),i[3]=l,i[4]=a):a=i[4],i[5]!==s||i[6]!==c||i[7]!==h||i[8]!==t||i[9]!==a?(n=(0,m.jsxs)(em.N,{className:ep.link,to:c,"aria-current":s,onClick:h,children:[t,a]}),i[5]=s,i[6]=c,i[7]=h,i[8]=t,i[9]=a,i[10]=n):n=i[10],i[11]!==o||i[12]!==n?(r=(0,m.jsxs)("li",{className:ep.item,children:[n,o]}),i[11]=o,i[12]=n,i[13]=r):r=i[13],r}).displayName||(n.displayName="NavigationSubItem")}catch{}try{(r=function(e){let t,a,n=(0,p.c)(3);return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(B.KebabHorizontalIcon,{size:16}),n[0]=t):t=n[0],n[1]!==e?(a=(0,m.jsx)("button",{...e,className:ep.contextButton,children:t}),n[1]=e,n[2]=a):a=n[2],a}).displayName||(r.displayName="NavigationContextMenuButton")}catch{}var ef=a(85788),eg=a(96679);let ey="agents",ex="/copilot/agents";function e_(e,t,a,n,r,i,s,o,l,c,d=0,u=!1){let m=new Date("2025-06-04T20:00:00.000Z"),p=new Date(m.getTime()-24*c*36e5),h=new Date(m.getTime()-24*d*36e5);return{id:e,number:t,state:a,title:n,reviewable_state:r,url:`http://github.localhost:80/monalisa/smile/pull/${t}`,labels:i,comments:s,assignees_avatar_urls:Array.from({length:o},(t,a)=>`https://avatars.githubusercontent.com/u/${e+a}?v=4`),created_at:p.toISOString(),updated_at:h.toISOString(),merged_at:"merged"===a?h.toISOString():void 0,closed_at:"closed"===a||"merged"===a?h.toISOString():void 0,author:l,head_sha:`${n.toLowerCase().replace(/\s+/g,"")}123456789abcdef0123456789abcdef01234567`.substring(0,40),repository_nwo:"monalisa/smile",inMergeQueue:u}}function ev(e,t,a,n,r,i,s,o=0,l=0,c){let d=new Date("2025-06-04T20:00:00.000Z"),u=new Date(d.getTime()-60*s*6e4),m=new Date(d.getTime()-60*o*6e4);return{id:e,name:t,user_id:a,agent_id:n,state:r,owner_id:9919,repo_id:4,resource_type:"pull",resource_id:i,created_at:u.toISOString(),last_updated_at:m.toISOString(),completed_at:"completed"===r||"failed"===r?m.toISOString():void 0,workflow_run_id:12340+Math.floor(30*Math.random()),log_entries:[],error:c?{message:c}:null,premium_requests:l,event_identifiers:null,event_type:"api_call_received"}}function eb(e,t){return{resource_type:"pull",resource_id:e.id,session_count:1,latest_session_updated_at:t.last_updated_at,latest_session_state:t.state,pull:e}}(()=>{let e=["cancelled","idle","in_progress","waiting_for_user","completed","failed","timed_out"],t={titles:["Refactor database queries for performance","Implement dark mode theme","Optimize API response times","Add mobile responsive design","Implement caching layer","Add internationalization support","Update documentation and README","Fix critical security vulnerability","Add user authentication system","Initial project setup and configuration","Implement real-time notifications","Add search functionality","Optimize bundle size","Add unit tests coverage","Implement error handling","Add accessibility features","Optimize database connections","Implement feature flags","Migrate to TypeScript","Implement CI/CD pipeline","Add monitoring and alerts"],authors:["alice-dev","bob-backend","charlie-frontend","diana-fullstack","eve-designer","frank-security"],labels:[["performance","database"],["ui","theme","enhancement"],["performance","api"],["mobile","responsive","ui"],["performance","caching","backend"],["i18n","feature","localization"]],errorMessages:["timeout","validation error","resource conflict","permission denied"]},a=1;return[...["open","closed","merged"].flatMap(n=>e.map(e=>{let r=(a-1)%t.titles.length,i=t.titles[r],s=t.authors[(a-1)%t.authors.length],o=t.labels[r%t.labels.length],l=eb(e_(a,a,n,i,Math.random()>.7?"draft":"ready",o,Math.floor(15*Math.random())+1,Math.floor(3*Math.random()),s,a,a),ev(`session-${a.toString().padStart(3,"0")}`,`${i.split(" ").slice(0,3).join(" ")} - ${e}`,0x996718+a,1143300+a,e,a,a,a,Math.floor(10*Math.random()),"failed"===e?`Operation failed due to ${t.errorMessages[Math.floor(4*Math.random())]}`:void 0));return a++,l})),eb(e_(a,a,"open","Add feature flags support (in merge queue)","ready",["feature","flags"],5,1,"alice-dev",21,0,!0),ev(`session-${a.toString().padStart(3,"0")}`,"Add feature flags support - in_progress",0x996718+a,1143300+a,"in_progress",a,1,0,2,void 0))]})();var ej=a(47139),eC=a(18337);function eN(e){let t,a,n,r=(0,p.c)(6),{onLinkClick:i}=e,s=(0,ef.zy)(),o=eg.fV?.pathname||s?.pathname||"";r[0]!==i?(t=(e,t)=>{i?.(e,t)},r[0]=i,r[1]=t):t=r[1];let l=t,c=o===ex?"page":void 0;return r[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(ej.A,{variant:"success",children:"Preview"}),r[2]=a):a=r[2],r[3]!==l||r[4]!==c?(n=(0,m.jsx)(eh,{"aria-current":c,displayName:"Agents",href:ex,icon:eC.p,id:ey,onLinkClick:l,label:a}),r[3]=l,r[4]=c,r[5]=n):n=r[5],n}try{eN.displayName||(eN.displayName="AgentsViewNavigation")}catch{}let eS=/\/copilot\/agents/;let AgentsPlugin=class AgentsPlugin{matchPage(e){return!!e&&eS.test(e)}matchView(e){return!!e&&eS.test(e)}constructor(){(0,f._)(this,"id",ey),(0,f._)(this,"displayName","Agents"),(0,f._)(this,"routes",[eS]),(0,f._)(this,"ViewComponent",es),(0,f._)(this,"NavigationComponent",eN),(0,f._)(this,"navigationItems",[{id:ey,displayName:"Agents",href:ex,icon:eC.p,label:(0,_.createElement)(ej.A,{variant:"success"},"Preview")}])}};var ew=a(53207),eI=a(22069),eT=a(31971);let ek=(0,_.lazy)(async()=>({default:(await Promise.all([a.e("vendors-node_modules_d3-interpolate_src_value_js-node_modules_d3-selection_src_select_js"),a.e("vendors-node_modules_d3-transition_src_index_js"),a.e("vendors-node_modules_d3-zoom_src_index_js"),a.e("vendors-node_modules_d3-dag_bundle_d3-dag_esm_min_js-node_modules_lz-string_libs_lz-string_js-6649eb"),a.e("ui_packages_copilot-loops_components_Loop_tsx")]).then(a.bind(a,21974))).Loop}));try{ek.displayName||(ek.displayName="LazyLoop")}catch{}var eE=a(97586),eA=a(99038);function eL(e){let t,a,n=(0,p.c)(5),{onLinkClick:r}=e,i=(0,ef.zy)(),s=eg.fV?.pathname||i?.pathname||"";n[0]!==r?(t=(e,t)=>{r?.(e,t)},n[0]=r,n[1]=t):t=n[1];let o=t,l=s===eE.QK?"page":void 0;return n[2]!==o||n[3]!==l?(a=(0,m.jsx)(eh,{"aria-current":l,displayName:"Loops",href:eE.QK,icon:eA.LP,id:eE.S$,onLinkClick:o}),n[2]=o,n[3]=l,n[4]=a):a=n[4],a}try{eL.displayName||(eL.displayName="PipesNavigation")}catch{}var eR=a(35714),eD=a(47970),eP=a(5204),eB=a(83880),eM=a(29637);function eO(){let{message:e}=(0,eB.V)(),t=(0,eM.O)(e);return t?.pipeline??null}let eF={container:"LoopBlock-module__container--CK9SB",streaming:"LoopBlock-module__streaming--TPBwx",header:"LoopBlock-module__header--uYMyT",headerCollapsed:"LoopBlock-module__headerCollapsed--NY9yJ",expandButton:"LoopBlock-module__expandButton--Kkc8L",content:"LoopBlock-module__content--tBcqk",node:"LoopBlock-module__node--B18Tf",iconContainer:"LoopBlock-module__iconContainer--VPfOh",checkIcon:"LoopBlock-module__checkIcon--eqIgJ",nodeTitle:"LoopBlock-module__nodeTitle--sHCHD"};var e$=a(55847);function eU(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(26),{loop:u,headerButton:h,isStreaming:f}=e,[g,y]=(0,_.useState)(!0);if(!u)return null;d[0]!==g?(t=()=>y(!g),d[0]=g,d[1]=t):t=d[1];let v=t,b=f&&eF.streaming;d[2]!==b?(a=(0,x.$)(eF.container,b),d[2]=b,d[3]=a):a=d[3];let j=!g&&eF.headerCollapsed;return d[4]!==j?(n=(0,x.$)(eF.header,j),d[4]=j,d[5]=n):n=d[5],d[6]!==g?(r=g?(0,m.jsx)(B.ChevronDownIcon,{size:16}):(0,m.jsx)(B.ChevronRightIcon,{size:16}),d[6]=g,d[7]=r):r=d[7],d[8]!==u.title?(i=(0,m.jsx)("span",{children:u.title}),d[8]=u.title,d[9]=i):i=d[9],d[10]!==r||d[11]!==i||d[12]!==v?(s=(0,m.jsx)(e$.Q,{variant:"invisible",onClick:v,className:eF.expandButton,leadingVisual:r,children:i}),d[10]=r,d[11]=i,d[12]=v,d[13]=s):s=d[13],d[14]!==h||d[15]!==n||d[16]!==s?(o=(0,m.jsxs)("div",{className:n,children:[s,h]}),d[14]=h,d[15]=n,d[16]=s,d[17]=o):o=d[17],d[18]!==g||d[19]!==f||d[20]!==u.nodes?(l=g&&(0,m.jsx)("div",{className:eF.content,children:u.nodes.map((e,t)=>{let a=f&&t===u.nodes.length-1;return(0,m.jsxs)("div",{className:eF.node,children:[(0,m.jsx)("div",{className:eF.iconContainer,children:(0,m.jsx)(B.CheckCircleFillIcon,{size:16,className:eF.checkIcon})}),a&&!e.title?null:(0,m.jsx)("span",{className:eF.nodeTitle,children:e.title})]},e.id)})}),d[18]=g,d[19]=f,d[20]=u.nodes,d[21]=l):l=d[21],d[22]!==l||d[23]!==a||d[24]!==o?(c=(0,m.jsxs)("div",{className:a,children:[o,l]}),d[22]=l,d[23]=a,d[24]=o,d[25]=c):c=d[25],c}try{eU.displayName||(eU.displayName="LoopBlockContent")}catch{}function eV(e){let t,a=(0,p.c)(3),{isStreaming:n}=e,r=eO();return a[0]!==n||a[1]!==r?(t=(0,m.jsx)(eU,{loop:r,isStreaming:n}),a[0]=n,a[1]=r,a[2]=t):t=a[2],t}try{eV.displayName||(eV.displayName="ReadOnlyLoopBlock")}catch{}var eW=a(74837),ez=a(79048),eH=a(47311);function eq(e){let t,a,n,r=(0,p.c)(12),{isStreaming:i}=e,s=eO(),{updateLoop:o}=(0,eW.k)(),l=(0,eH.H_)();r[0]!==s||r[1]!==l||r[2]!==o?(t=()=>{l&&s&&o((0,ez.cZ)({...s,id:l},[]))},r[0]=s,r[1]=l,r[2]=o,r[3]=t):t=r[3];let c=t;r[4]!==c||r[5]!==i||r[6]!==l?(a=l&&!i?(0,m.jsx)(e$.Q,{variant:"invisible",onClick:c,children:"Restore"}):null,r[4]=c,r[5]=i,r[6]=l,r[7]=a):a=r[7];let d=a;return r[8]!==i||r[9]!==s||r[10]!==d?(n=(0,m.jsx)(eU,{loop:s,headerButton:d,isStreaming:i}),r[8]=i,r[9]=s,r[10]=d,r[11]=n):n=r[11],n}try{eq.displayName||(eq.displayName="InteractiveLoopBlock")}catch{}function eG(e){let t,a=(0,p.c)(4),{isStreaming:n}=e;if((0,eP.Ak)()){let e;return a[0]!==n?(e=(0,m.jsx)(eq,{isStreaming:n}),a[0]=n,a[1]=e):e=a[1],e}return a[2]!==n?(t=(0,m.jsx)(eV,{isStreaming:n}),a[2]=n,a[3]=t):t=a[3],t}try{eG.displayName||(eG.displayName="LoopBlock")}catch{}let eK="data-loop-block",eQ=(0,eR.F)(eK),eY={div:(e,t)=>{let a=(0,eR.k)(e,eK);return a?(0,m.jsx)(eG,{...a}):t}};function eJ(){return{transformMarkdown:e=>(0,eD.YR)(e,"code",e=>{"loop"===e.lang&&(e.data={hName:"div",hProperties:{[eQ]:JSON.stringify({isStreaming:e.isStreaming??!1})},hChildren:[]})}),transformHtml:e=>(0,eD.YR)(e,"element",(e,t,a)=>{let n=e.children?.[0];a&&void 0!==t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&eQ in n.properties&&a.children.splice(t,1,n)}),reactComponents:eY}}var eX=a(38043),eZ=a(11354),e0=a(66346),e1=a(85351),e2=a(7144),e3=a(19606);function e4(e){return!!e&&"object"==typeof e&&"loopID"in e&&"string"==typeof e.loopID}let IndexedDBLoopsStorage=class IndexedDBLoopsStorage{async getLoop(e,t){let a=await this.getPipelineRecord(e);if(!a)return(0,e2.YD)("loop record not found");let n=t===e3.qD?a.pipeline:a.draftPipeline;return n?(0,e2.$j)(n):(0,e2.YD)("loop not found")}async getAllLoops(e){let t=await this.getAllPipelineRecords();if(!t)return{success:!0,data:[]};let a=t.map(t=>e===e3.qD?t.pipeline:t.draftPipeline).filter(e=>null!==e);return(0,e2.$j)(a)}async createLoop(e){try{let t,a;"string"==typeof e?(t={id:e,version:"",title:"",updatedAt:Date.now(),nodes:[]},a=e):a=(t=e).id;let n={loopID:a,pipeline:null,draftPipeline:{...t}},r=await this.createPipelineRecord(n);if(!r?.draftPipeline)return(0,e2.YD)("Failed to create loop");return(0,e2.$j)(r.draftPipeline)}catch(e){return(0,e2.YD)(e)}}async updateLoop(e,t){try{let a=await this.updatePipelineRecord(e,e=>{let a=t(e.draftPipeline);return{...e,draftPipeline:a}});if(!a?.draftPipeline)return(0,e2.YD)("Error updating loop");return(0,e2.$j)(a.draftPipeline)}catch(e){return(0,e2.YD)(e)}}async deleteLoop(e){try{return await this.deletePipeline(e),{success:!0,data:void 0}}catch(e){return(0,e2.YD)(e)}}async saveLoop(e){try{let t=await this.updatePipelineRecord(e,e=>{if(!e.draftPipeline)throw Error("No draft pipeline to save");return{...e,pipeline:{...e.draftPipeline}}});if(!t?.pipeline)return(0,e2.YD)("Error saving loop");return(0,e2.$j)(t.pipeline)}catch(e){return(0,e2.YD)(e)}}async revertLoop(e){try{let t=await this.updatePipelineRecord(e,e=>{if(!e.pipeline)throw Error("No saved pipeline to revert to");return{...e,draftPipeline:{...e.pipeline}}});if(!t?.pipeline)return(0,e2.YD)("Error reverting loop");return(0,e2.$j)(t.pipeline)}catch(e){return(0,e2.YD)(e)}}async getPipelineRecord(e){return this.withTransaction(IndexedDBLoopsStorage.PIPELINES_STORE,"readonly",t=>t.get(e),e=>e4(e)?e:null)}async getPipeline(e){return this.getPipelineRecord(e)}async getAllPipelineRecords(){return this.withTransaction(IndexedDBLoopsStorage.PIPELINES_STORE,"readonly",e=>e.getAll(),e=>Array.isArray(e)?e.filter(e=>e4(e)?e.pipeline:null):[])}createPipelineRecord(e){let t=Date.now(),a=e.pipeline?{...e.pipeline,id:e.loopID,updatedAt:t}:e.pipeline,n=e.draftPipeline?{...e.draftPipeline,id:e.loopID,updatedAt:t}:e.draftPipeline,r={...e,pipeline:a,draftPipeline:n};return this.withTransaction(IndexedDBLoopsStorage.PIPELINES_STORE,"readwrite",e=>e.put(r),()=>r)}async updatePipelineRecord(e,t){let a=await this.getDatabase();return new Promise((n,r)=>{let i=a.transaction(IndexedDBLoopsStorage.PIPELINES_STORE,"readwrite");i.oncomplete=()=>a.close(),i.onerror=()=>r(i.error);let s=i.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE),o=s.get(e);o.onerror=()=>r(o.error),o.onsuccess=()=>{let a=o.result;if(!e4(a))return void r(Error(`Pipeline with ID ${e} not found`));try{let i=t(a),o=i.pipeline?{...i.pipeline,id:e}:i.pipeline,l=i.draftPipeline?{...i.draftPipeline,id:e,updatedAt:Date.now()}:i.draftPipeline,c={...i,pipeline:o,draftPipeline:l},d=s.put(c);d.onerror=()=>r(d.error),d.onsuccess=()=>n(c)}catch(e){r(e)}}})}deletePipeline(e){return this.withTransaction(IndexedDBLoopsStorage.PIPELINES_STORE,"readwrite",t=>t.delete(e),()=>e)}getExecution(e,t,a){if(a===e3.qD)return this.getLatestExecution(e,t);try{let n=IndexedDBLoopsStorage.getExecutionKey(e,t,a),r=IndexedDBLoopsStorage.executionStorage.getItem(n);if(!r)return Promise.resolve((0,e2.YD)(`execution ${a} not found`));return Promise.resolve({success:!0,data:JSON.parse(r)})}catch{return Promise.resolve((0,e2.YD)("error getting execution"))}}getLatestExecution(e,t){let a=IndexedDBLoopsStorage.executionStorage.getKeys(),n=null;for(let r of a){let a=IndexedDBLoopsStorage.executionStorage.getItem(r);if(!a)continue;let i=JSON.parse(a);i&&"object"==typeof i&&"id"in i&&"string"==typeof i.id&&"createdAt"in i&&"number"==typeof i.createdAt&&"nodes"in i&&"object"==typeof i.nodes&&i.loopID===e&&i.loopVersion===t&&(!n||i.createdAt>n.createdAt)&&(n=i)}return Promise.resolve(n?(0,e2.$j)(n):(0,e2.YD)("no latest execution found"))}async createExecution(e,t,a){let n=crypto.randomUUID(),r={id:n,loopID:e,loopVersion:t,createdAt:Date.now(),nodes:{},...a};try{let a=IndexedDBLoopsStorage.getExecutionKey(e,t,n);return IndexedDBLoopsStorage.executionStorage.setItem(a,JSON.stringify(r)),(0,e2.$j)(r)}catch(e){return(0,e2.YD)(e)}}async updateExecution(e,t,a,n){try{let r=IndexedDBLoopsStorage.getExecutionKey(e,t,a);if(!IndexedDBLoopsStorage.executionStorage.getItem(r))throw Error(`No execution found for pipeline ${e}`);return IndexedDBLoopsStorage.executionStorage.setItem(r,JSON.stringify(n)),(0,e2.$j)(n)}catch(e){return(0,e2.YD)(e)}}static getExecutionKey(e,t,a){return JSON.stringify({loopID:e,version:t,executionID:a})}async withTransaction(e,t,a,n){let r=await this.getDatabase();return new Promise((i,s)=>{let o=r.transaction(e,t);o.oncomplete=()=>r.close(),o.onerror=()=>s(o.error);let l=a(o.objectStore(e));l.onsuccess=()=>i(n(l.result)),l.onerror=()=>s(l.error)})}getDatabase(){return new Promise((e,t)=>{let a=indexedDB.open(IndexedDBLoopsStorage.PIPES_DB,IndexedDBLoopsStorage.CURRENT_VERSION);a.onerror=()=>t(a.error),a.onsuccess=()=>e(a.result),a.onupgradeneeded=async e=>{try{await IndexedDBLoopsStorage.handleDatabaseUpgrade(a.result,e)}catch(e){t(e)}}})}static async handleDatabaseUpgrade(e,t){let a=t.oldVersion;if(0===a)return void await IndexedDBLoopsStorage.upgradeFromVersion0(e);a<2&&await IndexedDBLoopsStorage.upgradeFromVersion1(t),a<3&&await IndexedDBLoopsStorage.upgradeFromVersion2(t),a<4&&await IndexedDBLoopsStorage.upgradeFromVersion3(t),a<5&&await IndexedDBLoopsStorage.upgradeFromVersion4(t),a<6&&await IndexedDBLoopsStorage.upgradeFromVersion5(t),a<7&&await IndexedDBLoopsStorage.upgradeFromVersion6(t),a<8&&await IndexedDBLoopsStorage.upgradeFromVersion7(t),a<9&&await IndexedDBLoopsStorage.upgradeFromVersion8(t)}static upgradeFromVersion0(e){return new Promise((t,a)=>{try{e.createObjectStore(IndexedDBLoopsStorage.PIPELINES_STORE,{keyPath:"loopID"}).createIndex("loopID","loopID",{unique:!0}),t()}catch(e){a(e)}})}static async waitForAllAndResolve(e,t,a){try{await Promise.all(e),t()}catch(e){a(e)}}static upgradeFromVersion1(e){return new Promise((t,a)=>{if(!e.target)return t();let n=e.target.transaction;if(!n)return t();let r=n.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE).openCursor(),i=[];r.onsuccess=function(e){let n=e.target?.result;if(n)try{let e=n.value;e.pipeline&&(e.pipeline.updatedAt=new Date().toISOString());let t=new Promise((t,a)=>{let r=n.update(e);r.onsuccess=()=>t(),r.onerror=()=>a(r.error)});i.push(t),n.continue()}catch(e){a(e)}else IndexedDBLoopsStorage.waitForAllAndResolve(i,t,a)},r.onerror=function(){a(r.error)}})}static upgradeFromVersion2(e){return new Promise((t,a)=>{if(!e.target)return t();let n=e.target.transaction;if(!n)return t();let r=[],i=n.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE).openCursor();i.onsuccess=function(e){let i=e.target?.result;if(i){let e=i.value;e?.pipeline&&!e.pipeline.updatedAt&&(e.pipeline.updatedAt=new Date().toISOString()),r.push(e),i.continue()}else try{n.db.deleteObjectStore(IndexedDBLoopsStorage.PIPELINES_STORE);let e=n.db.createObjectStore(IndexedDBLoopsStorage.PIPELINES_STORE,{keyPath:"loopID"});e.createIndex("loopID","loopID",{unique:!0});let i=r.map(e=>({loopID:e.pipeline.id,threadID:e.threadID,pipeline:e.pipeline}));if(0===i.length)return void t();let s=[];for(let t of i){let a=new Promise((a,n)=>{let r=e.put(t);r.onsuccess=()=>a(),r.onerror=()=>n(r.error)});s.push(a)}IndexedDBLoopsStorage.waitForAllAndResolve(s,t,a)}catch(e){a(e)}},i.onerror=function(){a(i.error)}})}static upgradeFromVersion3(e){return new Promise((t,a)=>{if(!e.target)return t();let n=e.target.transaction;if(!n)return t();let r=n.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE).openCursor(),i=[];r.onsuccess=function(e){let n=e.target?.result;if(n)try{let e=n.value;if(e.pipeline&&!e.draftPipeline){e.draftPipeline={...e.pipeline};let t=new Promise((t,a)=>{let r=n.update(e);r.onsuccess=()=>t(),r.onerror=e=>a(e)});i.push(t)}n.continue()}catch(e){a(e)}else IndexedDBLoopsStorage.waitForAllAndResolve(i,t,a)},r.onerror=function(){a(r.error)}})}static upgradeFromVersion4(e){return new Promise((t,a)=>{if(!e.target)return t();let n=e.target.transaction;if(!n)return t();let r=n.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE).openCursor(),i=[];r.onsuccess=function(e){let n=e.target?.result;if(n)try{let e=n.value;if(e.threadID&&e.loopID)try{(0,eZ.aq)(e.loopID,e.threadID)}catch(e){(0,e0.FF)("Failed to migrate thread ID to localStorage:",e)}if("threadID"in e){delete e.threadID;let t=new Promise((t,a)=>{let r=n.update(e);r.onsuccess=()=>t(),r.onerror=e=>a(e)});i.push(t)}n.continue()}catch(e){a(e)}else IndexedDBLoopsStorage.waitForAllAndResolve(i,t,a)},r.onerror=function(){a(r.error)}})}static upgradeFromVersion5(e){return new Promise(t=>{if(!e.target)return t();let a=e.target.transaction;if(!a)return t();a.db.deleteObjectStore(IndexedDBLoopsStorage.EXECUTION_STORE);let n=a.db.createObjectStore(IndexedDBLoopsStorage.EXECUTION_STORE,{keyPath:["pipelineId","executionId"]});n.createIndex("pipelineId, executionId",["pipelineId","executionId"],{unique:!0}),n.createIndex("pipelineId","pipelineId",{unique:!1}),t()})}static upgradeFromVersion6(e){return new Promise(t=>{if(!e.target)return t();let a=e.target.transaction;if(!a)return t();a.db.objectStoreNames.contains(IndexedDBLoopsStorage.EXECUTION_STORE)&&a.db.deleteObjectStore(IndexedDBLoopsStorage.EXECUTION_STORE),t()})}static upgradeFromVersion7(e){return new Promise((t,a)=>{if(!e.target)return t();let n=e.target.transaction;if(!n)return t();let r=n.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE).openCursor(),i=[];r.onsuccess=function(e){let n=e.target?.result;if(n)try{let e=n.value;if("string"==typeof e.pipeline?.updatedAt||"string"==typeof e.draftPipeline?.updatedAt){e.pipeline&&(e.pipeline={...e.pipeline,updatedAt:new Date(e.pipeline.updatedAt).getTime()}),e.draftPipeline&&(e.draftPipeline={...e.draftPipeline,updatedAt:new Date(e.draftPipeline.updatedAt).getTime()});let t=new Promise((t,a)=>{let r=n.update(e);r.onsuccess=()=>t(),r.onerror=e=>a(e)});i.push(t)}n.continue()}catch(e){a(e)}else IndexedDBLoopsStorage.waitForAllAndResolve(i,t,a)},r.onerror=function(){a(r.error)}})}static upgradeFromVersion8(e){return new Promise((t,a)=>{if(!e.target)return t();let n=e.target.transaction;if(!n)return t();let r=n.objectStore(IndexedDBLoopsStorage.PIPELINES_STORE).openCursor(),i=[];r.onsuccess=function(e){let n=e.target?.result;if(n)try{let e=n.value,t=!1;for(let a of e.pipeline?.nodes??[])"text"===a.type&&"inputType"in a&&"object"==typeof a.inputType&&(a.metadata={...a.inputType,inputType:a.inputType.type},t=!0),"prompt"===a.type&&"model"in a&&(a.metadata={model:a.model},t=!0);for(let a of e.draftPipeline?.nodes??[])"text"===a.type&&"inputType"in a&&"object"==typeof a.inputType&&(a.metadata={...a.inputType,inputType:a.inputType.type},t=!0),"prompt"===a.type&&"model"in a&&(a.metadata={model:a.model},t=!0);if(t){let t=new Promise((t,a)=>{let r=n.update(e);r.onsuccess=()=>t(),r.onerror=e=>a(e)});i.push(t)}n.continue()}catch(e){a(e)}else IndexedDBLoopsStorage.waitForAllAndResolve(i,t,a)},r.onerror=function(){a(r.error)}})}};(0,f._)(IndexedDBLoopsStorage,"PIPES_DB","copilot-pipes"),(0,f._)(IndexedDBLoopsStorage,"PIPELINES_STORE","pipelines"),(0,f._)(IndexedDBLoopsStorage,"EXECUTION_STORE","executionStates"),(0,f._)(IndexedDBLoopsStorage,"CURRENT_VERSION",9),(0,f._)(IndexedDBLoopsStorage,"executionStorage",(0,e1.A)("sessionStorage",{ttl:18e5,throwQuotaErrorsOnSet:!1}));var e5=a(35750),e6=a(18150),e7=a(85242),e8=a(88243),e9=a(16213),te=a(879),tt=a(67522),ta=a(38007),tn=new WeakMap,tr=new WeakMap,ti=new WeakMap,ts=new WeakSet;let ChatCompletionsClient=class ChatCompletionsClient{async *getChatCompletion(e,t,a){let n=(0,tt.wv)(),r=t??n.id,i=await (0,e5._)(this,tn).getAuthToken(),s=await (0,eI.p)({basePath:(0,e5._)(this,tr),body:{messages:e,model:r,stream:!0},path:"/chat/completions",method:"POST",streamingResponse:!0,authToken:i,integrationId:this.directConnectConfiguration.integrationID,realIp:(0,e5._)(this,ti),signal:a});if(!s.ok){let e=await s.response?.text()??"Unknown error",t=e;try{let a=JSON.parse(e);t=a.error?.message||s.error}catch(e){}throw(0,ta.BI)("dotcom_chat.error",{type:"execution",nodeType:"prompt",mode:"pipes",errorMessage:t}),Error(`Failed to get chat completion: ${t}`)}!a?.aborted&&s.body&&(yield*(0,e8._)(this,ts,to).call(this,s.body,a))}get directConnectConfiguration(){return{integrationID:"copilot-chat"}}constructor(e,t,a=""){(0,e9._)(this,ts),(0,e6._)(this,tn,{writable:!0,value:void 0}),(0,e6._)(this,tr,{writable:!0,value:void 0}),(0,e6._)(this,ti,{writable:!0,value:void 0}),(0,e7._)(this,tr,e),(0,e7._)(this,tn,new te.J(t)),(0,e7._)(this,ti,a)}};async function*to(e,t){let a=new TextDecoder("utf-8"),n=e.getReader(),r="";try{for(;;){if(t?.aborted)return;let{done:e,value:i}=await n.read();if(e)break;for(r+=a.decode(i);;){if(r.startsWith("data: [DONE]"))return;let e=r.indexOf(`

`);if(-1===e)break;let t=r.slice(0,e).replace(/^data:\s+/,"");if(""===t){r=r.slice(e+2);continue}try{let e=JSON.parse(t),a=e.choices?.[0]?.delta?.content??"";a&&(yield a)}catch{}r=r.slice(e+2)}}}finally{n.releaseLock()}}var tl=a(60039);let tc=["SAML"],td={FORBIDDEN:["SAML error"]};var tu=new WeakMap;let GraphQLClient=class GraphQLClient{async getGraphQLResponse(e,t){let a=await (0,tl.Sr)((0,e5._)(this,tu),{method:"POST",body:{query:e},signal:t});if(a.ok){let e=await a.json();if(function(e,t){var a;if("errors"in(e="errors"in(a=e)?{...a,errors:a.errors.filter(e=>!tc.includes(e.type)&&!td[e.type]?.includes(e.message))}:a)&&e.errors.length){let t=e.errors.map(e=>`${e.message}${e.path?` (path: ${e.path})`:""}`).join(", ");throw(0,ta.BI)("dotcom_chat.error",{type:"execution",nodeType:"graphql",mode:"pipes",errorMessage:t}),Error(t)}if(!("data"in e)){let a=`Expected data property in response: ${JSON.stringify(e)}. requestId: ${t}`;throw(0,e0.vV)(a),(0,ta.BI)("dotcom_chat.error",{type:"execution",nodeType:"graphql",mode:"pipes",errorMessage:a}),Error("Failed to fetch data.")}return!0}(e,a.headers.get("X-Github-Request-Id")||""))return e}else throw Error("Failed to get GraphQL response.")}constructor(e){(0,e6._)(this,tu,{writable:!0,value:void 0}),(0,e7._)(this,tu,e)}};var tm=a(25745);let tp={scrollContainer:"ServiceView-module__scrollContainer--LFK5G",contentContainer:"ServiceView-module__contentContainer--DZVDS",v3SpacesContent:"ServiceView-module__v3SpacesContent--PvJhy",content:"ServiceView-module__content--B7ctp",small:"ServiceView-module__small--e46Wl",empty:"ServiceView-module__empty--I19W6",banner:"ServiceView-module__banner--kVai_",serviceHeader:"ServiceView-module__serviceHeader--R2TLR",serviceDescription:"ServiceView-module__serviceDescription--koXJM",serviceTitle:"ServiceView-module__serviceTitle--orySH",serviceIcon:"ServiceView-module__serviceIcon--a2C77",section:"ServiceView-module__section--_ycAN",sectionTitle:"ServiceView-module__sectionTitle--hD3JM",sectionGrid:"ServiceView-module__sectionGrid--Fa4lP",sectionGridEmpty:"ServiceView-module__sectionGridEmpty--KiT2u",skeletonCard:"ServiceView-module__skeletonCard--MT87J"};function th(e){let t,a,n,r,i,s=(0,p.c)(12),{children:o,empty:l,width:c}=e;if(s[0]!==o){for(let e of(t=[],a=[],_.Children.toArray(o)))_.isValidElement(e)&&e.type===tf?t.push(e):a.push(e);s[0]=o,s[1]=t,s[2]=a}else t=s[1],a=s[2];let d="small"===c;return s[3]!==l||s[4]!==d?(n=(0,x.$)(tp.content,{[tp.v3SpacesContent]:eT.W.spacesV3UI,[tp.empty]:l,[tp.small]:d}),s[3]=l,s[4]=d,s[5]=n):n=s[5],s[6]!==a||s[7]!==n?(r=(0,m.jsx)("div",{className:n,children:a}),s[6]=a,s[7]=n,s[8]=r):r=s[8],s[9]!==t||s[10]!==r?(i=(0,m.jsx)("div",{className:tp.scrollContainer,children:(0,m.jsxs)("div",{className:tp.contentContainer,children:[t,r]})}),s[9]=t,s[10]=r,s[11]=i):i=s[11],i}function tf(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:tp.banner,children:n}),a[0]=n,a[1]=t):t=a[1],t}function tg(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:tp.serviceHeader,children:n}),a[0]=n,a[1]=t):t=a[1],t}function ty(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("section",{className:tp.section,children:n}),a[0]=n,a[1]=t):t=a[1],t}function tx(e){let t,a=(0,p.c)(2),{icon:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:tp.serviceIcon,children:n}),a[0]=n,a[1]=t):t=a[1],t}function t_(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("h2",{className:tp.serviceTitle,children:n}),a[0]=n,a[1]=t):t=a[1],t}function tv(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("p",{className:tp.serviceDescription,children:n}),a[0]=n,a[1]=t):t=a[1],t}function tb(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("h3",{className:tp.sectionTitle,children:n}),a[0]=n,a[1]=t):t=a[1],t}function tj(e){let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:tp.sectionGridEmpty,children:n}),a[0]=n,a[1]=t):t=a[1],t}function tC(e){let t,a,n,r=(0,p.c)(8),{children:i,loading:s}=e;if(void 0!==s&&s){let e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:tp.sectionGrid,"data-testid":"service-view-skeleton",children:[void 0,void 0,void 0].map(tw)}),r[0]=e):e=r[0],e}if(r[1]!==i){let e=_.Children.toArray(i);t=e.find(tS),a=e.filter(tN),r[1]=i,r[2]=t,r[3]=a}else t=r[2],a=r[3];let o=a;if(0===o.length&&t){let e;return r[4]!==t?(e=(0,m.jsx)(m.Fragment,{children:t}),r[4]=t,r[5]=e):e=r[5],e}return r[6]!==o?(n=(0,m.jsx)("div",{className:tp.sectionGrid,children:o}),r[6]=o,r[7]=n):n=r[7],n}function tN(e){return!(_.isValidElement(e)&&e.type===tj)}function tS(e){return _.isValidElement(e)&&e.type===tj}function tw(e,t){return(0,m.jsx)(y.f,{className:tp.skeletonCard},t)}tC.Empty=tj,ty.Title=tb,ty.Grid=tC;let tI={Icon:tx,Title:t_,Description:tv,Container:th,Banner:tf,Header:tg,Section:ty};try{th.displayName||(th.displayName="ServiceContainer")}catch{}try{tf.displayName||(tf.displayName="ServiceBanner")}catch{}try{tg.displayName||(tg.displayName="ServiceHeader")}catch{}try{ty.displayName||(ty.displayName="ServiceSection")}catch{}try{tx.displayName||(tx.displayName="Icon")}catch{}try{t_.displayName||(t_.displayName="Title")}catch{}try{tv.displayName||(tv.displayName="Description")}catch{}try{tb.displayName||(tb.displayName="SectionTitle")}catch{}try{tj.displayName||(tj.displayName="SectionGridEmpty")}catch{}try{tC.displayName||(tC.displayName="SectionGrid")}catch{}let tT={header:"LoopsView-module__header--SAuoB",input:"LoopsView-module__input--vIdQn"};var tk=a(91037),tE=a(20126),tA=a(44446),tL=a(87804),tR=a(33484),tD=a(10569),tP=a(87330),tB=a(15385);let tM={header:"LoopsViewHeader-module__header--rHbds",rightControls:"LoopsViewHeader-module__rightControls--aKkbw"};function tO(){let e,t,a,n,r=(0,p.c)(4),i=(0,_.useRef)(null),s=(0,_.useRef)(null);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{icon:B.KebabHorizontalIcon,"aria-label":"Menu",onClick:t$})}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{i.current?.openDialog(),(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"immersive"})},r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsxs)(tB.l.Item,{onSelect:t,children:["Give feedback",(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.CommentIcon,{})})]}),r[2]=a):a=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.jsx)("div",{className:tM.header,children:(0,m.jsxs)("div",{className:tM.rightControls,children:[(0,m.jsxs)(tD.W,{anchorRef:s,children:[e,(0,m.jsx)(tD.W.Overlay,{width:"small",children:(0,m.jsx)(tB.l,{children:(0,m.jsxs)(tB.l.Group,{children:[a,(0,m.jsxs)(tB.l.LinkItem,{href:"/settings/copilot",onClick:tF,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.GearIcon,{})}),"Settings"]})]})})})]}),(0,m.jsx)(tR.l,{ref:i,mode:"immersive",returnFocusRef:s})]})}),r[3]=n):n=r[3],n}function tF(){return(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_SETTINGS",mode:"immersive"})}function t$(){return(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU",mode:"immersive"})}try{tO.displayName||(tO.displayName="LoopsViewHeader")}catch{}let tU=[{altText:"GitHub Battle Royale report",assetPath:"/images/modules/loops/BattleRoyal.png",loop:{title:"GitHub Battle Royale",description:"Compare two GitHub users based on their pull request contributions and metrics",nodes:[{id:"1",type:"text",title:"Start Date",description:"The date 30 days ago from today",content:"@today-30d",metadata:{inputType:"date"}},{id:"2",type:"text",title:"First Username",description:"GitHub username for the first contestant",content:"jonrohan",metadata:{inputType:"text"}},{id:"3",type:"text",title:"Second Username",description:"GitHub username for the second contestant",content:"colebemis",metadata:{inputType:"text"}},{id:"4",type:"text",title:"Repository",description:"The repository to analyze (in owner/name format)",content:"primer/react",metadata:{inputType:"text"}},{id:"5",type:"github-graphql",title:"First User PRs",description:"Fetch PRs for the first user",content:`query {
  search(query: "repo:{{4}} author:{{2}} is:pr created:>={{1}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on PullRequest {
          title
          merged
          closed
          createdAt
          mergedAt
          additions
          deletions
          commits {
            totalCount
          }
          repository {
            nameWithOwner
          }
        }
      }
    }
  }
}`},{id:"6",type:"github-graphql",title:"Second User PRs",description:"Fetch PRs for the second user",content:`query {
  search(query: "repo:{{4}} author:{{3}} is:pr created:>={{1}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on PullRequest {
          title
          merged
          closed
          createdAt
          mergedAt
          additions
          deletions
          commits {
            totalCount
          }
          repository {
            nameWithOwner
          }
        }
      }
    }
  }
}`},{id:"7",type:"prompt",title:"Battle Analysis",description:"Compare the two users and determine a winner",content:`You're a GitHub Battle Royale announcer. Compare the following metrics between these two contestants based on their pull request data:

# Battle Royal \u{1F934}\u{1F5E1}\u{FE0F}\u{1F478}

1. Total PRs created
2. PR merge rate
3. Lines of code changed (additions + deletions)
4. Average commits per PR
5. PR velocity (PRs per month)

User 1 ({{2}}) data: {{5}}
User 2 ({{3}}) data: {{6}}

Analyze each metric and assign points (1-10) for each category. Then declare an overall winner with a dramatic announcement. Format your response as an exciting battle commentary.`}]}},{altText:"Battle Royale report",assetPath:"/images/modules/loops/FirstResponder.png",loop:{title:"First Responder Activity Report",description:"Generates a summary of a first responder's activity including new issues, PR reviews, and issue involvement from the past week",nodes:[{id:"1",type:"text",title:"First Responder Username",description:"GitHub username of the first responder",content:"",metadata:{inputType:"text"}},{id:"2",type:"text",title:"Start Date",description:"Start date for the report (1 week ago)",content:"@today-1w",metadata:{inputType:"date"}},{id:"repo",type:"text",title:"Repository",description:"The full repository name (e.g. owner/repo)",content:"primer/react",metadata:{inputType:"text"}},{id:"3",type:"github-graphql",title:"Created Issues",description:"Issues created by the user in the past week",content:`query {
  search(query: "repo:{{repo}} author:{{1}} is:issue created:>{{2}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on Issue {
          title
          url
          createdAt
          state
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
        }
      }
    }
  }
}`},{id:"4",type:"github-graphql",title:"PR Reviews",description:"PR reviews submitted by the user in the past week",content:`query {
  search(query: "repo:{{repo}} is:pr reviewed-by:{{1}} updated:>{{2}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on PullRequest {
          title
          url
          reviews(first: 5, author: "{{1}}") {
            edges {
              node {
                state
                submittedAt
              }
            }
          }
        }
      }
    }
  }
}`},{id:"involved_issues",type:"github-graphql",title:"Involved Issues",description:"Issues where the user was involved (commented or assigned) in the past week",content:`query {
  search(query: "repo:{{repo}} involves:{{1}} is:issue updated:>{{2}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on Issue {
          title
          url
          updatedAt
          state
          comments(last: 5) {
            nodes {
              author {
                login
              }
              createdAt
            }
          }
          assignees(first: 5) {
            nodes {
              login
            }
          }
        }
      }
    }
  }
}`},{id:"5",type:"prompt",title:"Activity Summary",description:"Summary report of the first responder's activity",content:`Generate a comprehensive summary report of the first responder's ({{1}}) activity in the {{repo}} repository over the past week. Include their issue creation, PR review activities, and issue involvement.

Issues Created:
{{3}}

PR Reviews:
{{4}}

Issue Involvement:
{{involved_issues}}

Please format the report with these sections:
1. Overview (total numbers)
2. Issue Activity
   - Created Issues
   - Issue Involvement (comments, assignments)
3. PR Review Activity (highlight significant reviews)
4. Key Observations

Keep the tone professional and focus on what the next first responder needs to know about as they come in for the next shift.`}]}},{altText:"GitHub repo feature announcement magazine",assetPath:"/images/modules/loops/NewsFlash.png",loop:{title:"Multi-Repo GitHub Feature Announcement Magazine",description:"Creates a tabloid-style frontpage focusing on new features and enhancements across multiple GitHub repositories",nodes:[{id:"repo1",type:"text",title:"Repository 1",description:"First repository to analyze (format: owner/repo)",content:"facebook/react",metadata:{inputType:"text"}},{id:"repo2",type:"text",title:"Repository 2",description:"Second repository to analyze (format: owner/repo)",content:"microsoft/vscode",metadata:{inputType:"text"}},{id:"repo3",type:"text",title:"Repository 3",description:"Third repository to analyze (format: owner/repo)",content:"primer/react",metadata:{inputType:"text"}},{id:"days",type:"text",title:"Days Limit",description:"Number of days to look back for data",content:"@today-30d",metadata:{inputType:"date"}},{id:"3",type:"github-graphql",title:"Feature PRs - Repository 1",description:"Fetch recent feature/enhancement pull requests from the first repository",content:`query {
  search(query: "repo:{{repo1}} is:pr created:>={{days}} sort:updated-desc", type: ISSUE, first: 10) {
    edges {
      node {
        ... on PullRequest {
          title
          url
          author {
            login
          }
          createdAt
          additions
          deletions
          changedFiles
          body
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
          reviews(first: 3) {
            nodes {
              author {
                login
              }
            }
          }
        }
      }
    }
  }
}`},{id:"4",type:"github-graphql",title:"Feature PRs - Repository 2",description:"Fetch recent feature/enhancement pull requests from the second repository",content:`query {
  search(query: "repo:{{repo2}} is:pr created:>={{days}} sort:updated-desc", type: ISSUE, first: 10) {
    edges {
      node {
        ... on PullRequest {
          title
          url
          author {
            login
          }
          createdAt
          additions
          deletions
          changedFiles
          body
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
          reviews(first: 3) {
            nodes {
              author {
                login
              }
            }
          }
        }
      }
    }
  }
}`},{id:"5",type:"github-graphql",title:"Feature PRs - Repository 3",description:"Fetch recent feature/enhancement pull requests from the third repository",content:`query {
  search(query: "repo:{{repo3}} is:pr created:>={{days}} sort:updated-desc", type: ISSUE, first: 10) {
    edges {
      node {
        ... on PullRequest {
          title
          url
          author {
            login
          }
          createdAt
          additions
          deletions
          changedFiles
          body
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
          reviews(first: 3) {
            nodes {
              author {
                login
              }
            }
          }
        }
      }
    }
  }
}`},{id:"6",type:"github-graphql",title:"Feature Requests - Repository 1",description:"Fetch recent feature request issues from the first repository",content:`query {
  search(query: "repo:{{repo1}} is:issue label:\\"Type: Feature Request\\" created:>={{days}} sort:updated-desc", type: ISSUE, first: 10) {
    edges {
      node {
        ... on Issue {
          title
          url
          author {
            login
          }
          createdAt
          body
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
          comments {
            totalCount
          }
        }
      }
    }
  }
}`},{id:"7",type:"github-graphql",title:"Feature Requests - Repository 2",description:"Fetch recent feature request issues from the second repository",content:`query {
  search(query: "repo:{{repo2}} is:issue label:enhancement,feature-request created:>={{days}} sort:updated-desc", type: ISSUE, first: 10) {
    edges {
      node {
        ... on Issue {
          title
          url
          author {
            login
          }
          createdAt
          body
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
          comments {
            totalCount
          }
        }
      }
    }
  }
}`},{id:"8",type:"github-graphql",title:"Feature Requests - Repository 3",description:"Fetch recent feature request issues from the third repository",content:`query {
  search(query: "repo:{{repo3}} is:issue label:enhancement,feature-request created:>={{days}} sort:updated-desc", type: ISSUE, first: 10) {
    edges {
      node {
        ... on Issue {
          title
          url
          author {
            login
          }
          createdAt
          body
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
          comments {
            totalCount
          }
        }
      }
    }
  }
}`},{id:"9",type:"text",title:"Magazine Style",description:"Define the style of the feature announcement magazine",content:`\u{2728}\u{1F4AB} \u{1F31F} OPEN SOURCE NEWS FLASH \u{1F31F} \u{1F4AB} \u{2728}
\u{1F680} BREAKING UPDATES \u{1F680} EXCLUSIVE FEATURES \u{1F3AF} HOT RELEASES \u{1F525}

Your #1 source for hot new features in your favorite open source projects! \u{1F308}`,metadata:{inputType:"text"}},{id:"10",type:"prompt",title:"Feature Magazine Content",description:"Generate tabloid-style headlines focusing on new features",content:`You are a tech magazine writer specializing in new feature announcements. Create an exciting frontpage covering the latest features and enhancements from these repositories: {{repo1}}, {{repo2}}, and {{repo3}}.

Use this data for each repository:
Repository 1:
- PRs: {{3}}
- Issues: {{6}}

Repository 2:
- PRs: {{4}}
- Issues: {{7}}

Repository 3:
- PRs: {{5}}
- Issues: {{8}}

Start with this header:
{{9}}

For each repository:
1. Create a section with an appropriate emoji
2. Include 2-3 exciting headlines about new features or requests
3. Focus on user impact and benefits
4. Include the original URLs as 'READ MORE' links
5. Mention scope of changes for PRs (additions + deletions)

End with a 'FEATURE FORECAST' section comparing the most exciting upcoming features across repositories.

Format everything in markdown and use emojis liberally.`}]}}],tV={cardContainer:"Card-module__cardContainer--Jk2It",cardContent:"Card-module__cardContent--A8hpe",cardMenu:"Card-module__cardMenu--o6v0Y",itemHeader:"Card-module__itemHeader--WIpbQ",edgeToEdge:"Card-module__edgeToEdge--o6nFA",itemImage:"Card-module__itemImage--fVqUU",itemMain:"Card-module__itemMain--M__Bj",itemContent:"Card-module__itemContent--QdREU",itemHeaderTitle:"Card-module__itemHeaderTitle--TwWdH",itemHeaderDescription:"Card-module__itemHeaderDescription--KFU1e",itemMetadata:"Card-module__itemMetadata--DWvmz",itemMetadataItem:"Card-module__itemMetadataItem--t_AWQ"},tW=e=>{let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(47),f=null,g=null,y=null,v=null,b=null,j=null;if(h[0]!==e.children){for(let t of _.Children.toArray(e.children))_.isValidElement(t)&&(t.type===tz?f=t:t.type===tH?g=t:t.type===tq?y=t:t.type===tG?v=t:t.type===tQ?b=t:t.type===tK&&(j=t));h[0]=e.children,h[1]=f,h[2]=g,h[3]=y,h[4]=v,h[5]=b,h[6]=j}else f=h[1],g=h[2],y=h[3],v=h[4],b=h[5],j=h[6];h[7]!==g?(t=(0,x.$)(tV.itemHeader,g&&tV.edgeToEdge),h[7]=g,h[8]=t):t=h[8];let C=f||g;h[9]!==t||h[10]!==C?(a=(0,m.jsx)("div",{className:t,children:C}),h[9]=t,h[10]=C,h[11]=a):a=h[11],h[12]!==v||h[13]!==y?(n=(0,m.jsxs)("div",{className:tV.itemContent,children:[y,v]}),h[12]=v,h[13]=y,h[14]=n):n=h[14],h[15]!==b?(r=(0,m.jsx)("div",{className:tV.itemMetadata,children:b}),h[15]=b,h[16]=r):r=h[16],h[17]!==n||h[18]!==r?(i=(0,m.jsxs)("div",{className:tV.itemMain,children:[n,r]}),h[17]=n,h[18]=r,h[19]=i):i=h[19],h[20]!==a||h[21]!==i?(s=(0,m.jsxs)(m.Fragment,{children:[a,i]}),h[20]=a,h[21]=i,h[22]=s):s=h[22];let N=s;if("href"in e){let t,a,n,r,i;return h[23]!==e?({href:t,...a}=e,h[23]=e,h[24]=t,h[25]=a):(t=h[24],a=h[25]),h[26]!==N||h[27]!==t||h[28]!==a?(n=(0,m.jsx)(ef.N_,{...a,to:t,className:tV.cardContent,children:N}),h[26]=N,h[27]=t,h[28]=a,h[29]=n):n=h[29],h[30]!==j?(r=j?(0,m.jsx)("div",{className:tV.cardMenu,children:j}):null,h[30]=j,h[31]=r):r=h[31],h[32]!==n||h[33]!==r?(i=(0,m.jsxs)("div",{className:tV.cardContainer,children:[n,r]}),h[32]=n,h[33]=r,h[34]=i):i=h[34],i}return h[35]!==e?({onClick:o,...l}=e,h[35]=e,h[36]=o,h[37]=l):(o=h[36],l=h[37]),h[38]!==N||h[39]!==o||h[40]!==l?(c=(0,m.jsx)("button",{...l,className:tV.cardContent,onClick:o,children:N}),h[38]=N,h[39]=o,h[40]=l,h[41]=c):c=h[41],h[42]!==j?(d=j?(0,m.jsx)("div",{className:tV.cardMenu,children:j}):null,h[42]=j,h[43]=d):d=h[43],h[44]!==c||h[45]!==d?(u=(0,m.jsxs)("div",{className:tV.cardContainer,children:[c,d]}),h[44]=c,h[45]=d,h[46]=u):u=h[46],u},tz=e=>{let t,a=(0,p.c)(3),{icon:n,color:r}=e;return a[0]!==r||a[1]!==n?(t=(0,m.jsx)(tA.I,{icon:n,hasBackground:!0,color:r,size:16}),a[0]=r,a[1]=n,a[2]=t):t=a[2],t},tH=e=>{let t,a=(0,p.c)(3),{img:n,alt:r}=e,i=void 0===r?"":r;return a[0]!==i||a[1]!==n?(t=(0,m.jsx)("img",{src:n,alt:i,className:tV.itemImage}),a[0]=i,a[1]=n,a[2]=t):t=a[2],t},tq=e=>{let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("h3",{className:tV.itemHeaderTitle,children:n}),a[0]=n,a[1]=t):t=a[1],t},tG=e=>{let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("p",{className:tV.itemHeaderDescription,children:n}),a[0]=n,a[1]=t):t=a[1],t},tK=e=>{let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)(m.Fragment,{children:n}),a[0]=n,a[1]=t):t=a[1],t},tQ=e=>{let t,a=(0,p.c)(2),{children:n}=e;return a[0]!==n?(t=(0,m.jsx)("div",{className:tV.itemMetadataItem,children:n}),a[0]=n,a[1]=t):t=a[1],t};tW.Icon=tz,tW.Image=tH,tW.Heading=tq,tW.Description=tG,tW.Menu=tK,tW.Metadata=tQ;try{tW.displayName||(tW.displayName="Card")}catch{}try{tz.displayName||(tz.displayName="Icon")}catch{}try{tH.displayName||(tH.displayName="Image")}catch{}try{tq.displayName||(tq.displayName="Heading")}catch{}try{tG.displayName||(tG.displayName="Description")}catch{}try{tK.displayName||(tK.displayName="Menu")}catch{}try{tQ.displayName||(tQ.displayName="Metadata")}catch{}var tY=a(94412),tJ=a(48148);function tX(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(25),{item:u,onClick:h}=e;d[0]!==u.color?(t=tJ.u.find(e=>e===u.color),d[0]=u.color,d[1]=t):t=d[1];let f=t,g=`${eI.Jz}/l/${u.id}`;return d[2]!==f||d[3]!==u.title?(a=f??(0,tJ.S)(u.title,tJ.u),d[2]=f,d[3]=u.title,d[4]=a):a=d[4],d[5]!==a?(n=(0,m.jsx)(tW.Icon,{icon:"loops",color:a}),d[5]=a,d[6]=n):n=d[6],d[7]!==u.title?(r=(0,m.jsx)(tW.Heading,{children:u.title}),d[7]=u.title,d[8]=r):r=d[8],d[9]!==u.description?(i=(0,m.jsx)(tW.Description,{children:u.description}),d[9]=u.description,d[10]=i):i=d[10],d[11]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)(eA.GS,{}),d[11]=s):s=d[11],d[12]!==u.nodes.length?(o=(0,m.jsxs)(tW.Metadata,{children:[s,u.nodes.length]}),d[12]=u.nodes.length,d[13]=o):o=d[13],d[14]!==u.id?(l=(0,m.jsx)(tW.Menu,{children:(0,m.jsx)(tY.T,{loopId:u.id})}),d[14]=u.id,d[15]=l):l=d[15],d[16]!==u.id||d[17]!==h||d[18]!==g||d[19]!==n||d[20]!==r||d[21]!==i||d[22]!==o||d[23]!==l?(c=(0,m.jsxs)(tW,{href:g,onClick:h,children:[n,r,i,o,l]},u.id),d[16]=u.id,d[17]=h,d[18]=g,d[19]=n,d[20]=r,d[21]=i,d[22]=o,d[23]=l,d[24]=c):c=d[24],c}try{tX.displayName||(tX.displayName="LoopCard")}catch{}function tZ(e){let t,a,n,r,i,s,o,l=(0,p.c)(20),{altText:c,assetPath:d,exampleLoop:u,onSelect:h}=e;l[0]!==u||l[1]!==h?(t=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"OVERVIEW_EXAMPLE_LOOP_SELECT",mode:"loops"}),h({...u,id:crypto.randomUUID(),updatedAt:Date.now()})},l[0]=u,l[1]=h,l[2]=t):t=l[2];let f=t;return l[3]!==c||l[4]!==d?(a=(0,m.jsx)(tW.Image,{alt:c,img:d}),l[3]=c,l[4]=d,l[5]=a):a=l[5],l[6]!==u.title?(n=(0,m.jsx)(tW.Heading,{children:u.title}),l[6]=u.title,l[7]=n):n=l[7],l[8]!==u.description?(r=(0,m.jsx)(tW.Description,{children:u.description}),l[8]=u.description,l[9]=r):r=l[9],l[10]===Symbol.for("react.memo_cache_sentinel")?(i=(0,m.jsx)(eA.GS,{}),l[10]=i):i=l[10],l[11]!==u.nodes.length?(s=(0,m.jsxs)(tW.Metadata,{children:[i,u.nodes.length]}),l[11]=u.nodes.length,l[12]=s):s=l[12],l[13]!==u.title||l[14]!==f||l[15]!==a||l[16]!==n||l[17]!==r||l[18]!==s?(o=(0,m.jsxs)(tW,{onClick:f,children:[a,n,r,s]},u.title),l[13]=u.title,l[14]=f,l[15]=a,l[16]=n,l[17]=r,l[18]=s,l[19]=o):o=l[19],o}try{tZ.displayName||(tZ.displayName="LoopExampleCard")}catch{}function t0(e){let t,a,n=(0,p.c)(5),{chatState:r,plugin:i}=e;if(!i||!(0,tL.j)(i))throw Error("LoopsView can only be used with a LoopsPlugin");return n[0]!==r?(t=(0,m.jsx)(t1,{chatState:r}),n[0]=r,n[1]=t):t=n[1],n[2]!==i.service||n[3]!==t?(a=(0,m.jsx)(eP.qT,{value:i.service,children:t}),n[2]=i.service,n[3]=t,n[4]=a):a=n[4],a}function t1(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x=(0,p.c)(32),{chatState:v}=e,{data:b,isLoading:j}=(0,tE.C)(),C=(0,q.b)(),N=(0,ef.Zp)(),S=(0,eP.EY)(),w=(0,tt.GF)(v.availableModels);x[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],x[0]=t):t=x[0],(0,_.useEffect)(t4,t),x[1]!==C?(a=()=>{C.selectThread(null,{includeThreads:!1,clearTopic:!0})},n=[C],x[1]=C,x[2]=a,x[3]=n):(a=x[2],n=x[3]),(0,_.useEffect)(a,n),x[4]!==w||x[5]!==S||x[6]!==C||x[7]!==N?(r=async e=>{let t=e.trim();if(""===t)return;(0,ta.BI)("dotcom_chat.activate",{target:"OVERVIEW_INITIAL_CREATE",mode:"loops"});let a=crypto.randomUUID(),n={scopeId:eE.S$},r=await C.createThread(n);await S.createLoop(a),(0,eZ.aq)(a,r.id);let i={content:t,model:w,references:[],thread:r,mode:eE.lh};C.sendChatMessage(i),N(`${eI.Jz}/l/${a}`)},x[4]=w,x[5]=S,x[6]=C,x[7]=N,x[8]=r):r=x[8];let I=r;x[9]!==S||x[10]!==N?(i=async e=>{await S.createLoop(e),N(`${eI.Jz}/l/${e.id}`)},x[9]=S,x[10]=N,x[11]=i):i=x[11];let T=i;return x[12]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)(tO,{}),x[12]=s):s=x[12],x[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsxs)(tI.Header,{children:[(0,m.jsx)(tI.Icon,{icon:(0,m.jsx)(tA.I,{icon:"loops",size:32})}),(0,m.jsx)(tI.Title,{children:"Automate once. Loop forever."}),(0,m.jsx)(tI.Description,{children:"Loops simplifies workflow automation by allowing you to define processes with clear inputs, prompts, and outputs\u2014no manual setup required. Powered by Copilot, Loops makes it easy to automate and manage tasks, streamlining your operations with minimal effort."})]}),x[13]=o):o=x[13],x[14]!==I?(l=(0,m.jsx)(tk.V,{hideAttachmentButton:!0,placeholder:"What would you like to automate?",size:"large",onSubmit:I}),x[14]=I,x[15]=l):l=x[15],x[16]===Symbol.for("react.memo_cache_sentinel")?(c=(0,m.jsx)(tm.h,{}),x[16]=c):c=x[16],x[17]!==l?(d=(0,m.jsxs)("div",{className:tT.header,children:[o,(0,m.jsxs)("div",{className:tT.input,children:[l,c]})]}),x[17]=l,x[18]=d):d=x[18],x[19]!==j||x[20]!==b?(u=j||b&&b.length>0?(0,m.jsxs)(tI.Section,{children:[(0,m.jsx)(tI.Section.Title,{children:"Your loops"}),(0,m.jsx)(tI.Section.Grid,{loading:j,children:b?.map(t2)})]}):null,x[19]=j,x[20]=b,x[21]=u):u=x[21],x[22]===Symbol.for("react.memo_cache_sentinel")?(h=(0,m.jsx)(tI.Section.Title,{children:"Examples"}),x[22]=h):h=x[22],x[23]!==T?(f=tU.map(e=>{let{altText:t,assetPath:a,loop:n}=e;return(0,m.jsx)(tZ,{altText:t,assetPath:a,exampleLoop:n,onSelect:T},n.title)}),x[23]=T,x[24]=f):f=x[24],x[25]!==j||x[26]!==f?(g=(0,m.jsxs)(tI.Section,{children:[h,(0,m.jsx)(tI.Section.Grid,{loading:j,children:f})]}),x[25]=j,x[26]=f,x[27]=g):g=x[27],x[28]!==d||x[29]!==u||x[30]!==g?(y=(0,m.jsxs)(m.Fragment,{children:[s,(0,m.jsxs)(tI.Container,{children:[d,u,g]})]}),x[28]=d,x[29]=u,x[30]=g,x[31]=y):y=x[31],y}function t2(e){return(0,m.jsx)(tX,{item:e,onClick:t3},e.id)}function t3(){return(0,ta.BI)("dotcom_chat.activate",{target:"OVERVIEW_USER_LOOP_SELECT",mode:"loops"})}function t4(){(0,g.D)("Loops \xb7 GitHub Copilot"),Promise.all([a.e("vendors-node_modules_d3-interpolate_src_value_js-node_modules_d3-selection_src_select_js"),a.e("vendors-node_modules_d3-transition_src_index_js"),a.e("vendors-node_modules_d3-zoom_src_index_js"),a.e("vendors-node_modules_d3-dag_bundle_d3-dag_esm_min_js-node_modules_lz-string_libs_lz-string_js-6649eb"),a.e("ui_packages_copilot-loops_components_Loop_tsx")]).then(a.bind(a,21974))}try{t0.displayName||(t0.displayName="LoopsView")}catch{}try{t1.displayName||(t1.displayName="LoopsViewInner")}catch{}var t5=new WeakMap,t6=new WeakSet;let LoopsClient=class LoopsClient{listLoops(){return(0,e8._)(this,t6,t7).call(this,{operation:"list-loops"})}listLoopVersions(e){return(0,e8._)(this,t6,t7).call(this,{operation:"list-loop-versions",loopID:e})}createLoop(e){return(0,e8._)(this,t6,t7).call(this,{operation:"create-loop",loop:e})}updateLoop(e,t,a){return(0,e8._)(this,t6,t7).call(this,{operation:"update-loop",loopID:e,version:t,loop:a})}getLoop(e,t){return(0,e8._)(this,t6,t7).call(this,{operation:"get-loop",loopID:e,versionConstraint:t})}deleteLoop(e){return(0,e8._)(this,t6,t7).call(this,{operation:"delete-loop",loopID:e})}createExecution(e,t,a,n){return(0,e8._)(this,t6,t7).call(this,{operation:"create-execution",loopID:e,version:t,executionInit:{inputValues:n,nodes:a}})}getExecution(e,t,a){return(0,e8._)(this,t6,t7).call(this,{operation:"get-execution",loopID:e,version:t,executionID:a})}updateNodeExecution(e,t,a,n,r){return(0,e8._)(this,t6,t7).call(this,{operation:"update-node-execution",loopID:e,version:t,executionID:a,nodeID:n,nodeExecution:r})}shareLoop(e){return(0,e8._)(this,t6,t7).call(this,{operation:"share-loop",loopID:e})}unshareLoop(e){return(0,e8._)(this,t6,t7).call(this,{operation:"unshare-loop",loopID:e})}getSharedLoop(e){return(0,e8._)(this,t6,t7).call(this,{operation:"get-shared-loop",shareID:e})}duplicateSharedLoop(e){return(0,e8._)(this,t6,t7).call(this,{operation:"duplicate-shared-loop",shareID:e})}constructor(e){(0,e9._)(this,t6),(0,e6._)(this,t5,{writable:!0,value:void 0}),(0,e7._)(this,t5,e)}};async function t7(e){let t=await (0,tl.DI)((0,e5._)(this,t5),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();try{return(0,e2.YD)(JSON.parse(e),t)}catch(e){return(0,e2.YD)(e,t)}}let a=204===t.status?void 0:await t.json();return(0,e2.$j)(a)}let LoopsPlugin=class LoopsPlugin{matchPage(e){return!!e&&(eE.bW.test(e)||eE.lN.test(e)||eE.ZS.test(e))}matchView(e){return!!e&&eE.qe.test(e)}matchThread(e,t){return!!this.routes.some(e=>e.test(eg.fV.pathname))||!!(0,eM.I)(t,!0)}async overrideCreateMessageOptions(e){return{...e,mode:eE.lh}}constructor(e,t,a,n,r,i){(0,f._)(this,"id",eE.S$),(0,f._)(this,"displayName",eE.Os),(0,f._)(this,"service",void 0),(0,f._)(this,"previewUrl",void 0),(0,f._)(this,"markdownExtensions",[eJ]),(0,f._)(this,"routes",[eE.qe,eE.bW,eE.lN,eE.ZS]),(0,f._)(this,"skipSyncRouteToThread",!0),(0,f._)(this,"PageComponent",ek),(0,f._)(this,"ViewComponent",t0),(0,f._)(this,"NavigationComponent",eL),(0,f._)(this,"navigationItems",[{id:eE.S$,displayName:"Loops",href:eE.QK,icon:eA.LP}]),this.service=new eX.J(new LoopsClient(a),new IndexedDBLoopsStorage,new GraphQLClient(t),new ChatCompletionsClient(e,n,i)),this.previewUrl=r}};let t8=(0,_.createContext)({registerNavigableRef:()=>{},unregisterNavigableRef:()=>{}});function t9(e){let t,a,n,r,i,s,o,l,c=(0,p.c)(9),{children:d}=e;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let[u,h]=_.useState(t);c[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{h(t=>t.some(t=>t===e)?t:[...t,e])},c[1]=a):a=c[1];let f=a;c[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{h(t=>t.filter(t=>t!==e))},c[2]=n):n=c[2];let g=n;return c[3]!==u?(r=()=>{let e=e=>{if(e.ctrlKey&&"F6"===e.key){let t=u.filter(aa).sort(at);if(0===t.length)return;let a=t.findIndex(ae),n=(!e.shiftKey?t[a+1]??t[0]:t[a-1]??t[t.length-1])?.current;if(n){if(!["A","BUTTON","INPUT","SELECT","TEXTAREA"].includes(n.tagName)&&!n.hasAttribute("tabindex")){n.setAttribute("tabindex","-1");let e=()=>{n.removeAttribute("tabindex"),n.removeEventListener("blur",e)};n.addEventListener("blur",e,{once:!0})}n.focus()}}};return eg.XC?.addEventListener("keydown",e),()=>{eg.XC?.removeEventListener("keydown",e)}},i=[u],c[3]=u,c[4]=r,c[5]=i):(r=c[4],i=c[5]),(0,_.useEffect)(r,i),c[6]===Symbol.for("react.memo_cache_sentinel")?(o={registerNavigableRef:f,unregisterNavigableRef:g},c[6]=o):o=c[6],s=o,c[7]!==d?(l=(0,m.jsx)(t8.Provider,{value:s,children:d}),c[7]=d,c[8]=l):l=c[8],l}function ae(e){return e.current?.contains(eg.XC?.activeElement||null)}function at(e,t){let a=e.current,n=t.current;return a===n?0:a.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}function aa(e){return null!==e.current}function an(){let e,t,a=(0,p.c)(4),n=(0,_.useRef)(null),{registerNavigableRef:r,unregisterNavigableRef:i}=(0,_.useContext)(t8);return a[0]!==r||a[1]!==i?(e=()=>(r(n),()=>{i(n)}),t=[r,i],a[0]=r,a[1]=i,a[2]=e,a[3]=t):(e=a[2],t=a[3]),(0,_.useEffect)(e,t),n}try{t8.displayName||(t8.displayName="NavigableRefContext")}catch{}try{t9.displayName||(t9.displayName="NavigableRefProvider")}catch{}var ar=a(96615),ai=a(68415),as=a(14253);let ao={trailingVisual:"SparkNavigation-module__trailingVisual--qCzSd"};function al(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(eh,{"aria-current":eg.fV.pathname===as.cP?"page":void 0,displayName:"Spark",href:as.cP,icon:B.SparkleIcon,id:as.eu,contextMenuComponent:(0,m.jsx)(B.ArrowUpRightIcon,{className:ao.trailingVisual})}),t[0]=e):e=t[0],e}try{al.displayName||(al.displayName="SparkNavigation")}catch{}let ac=/\/copilot\/spark/;let SparkPlugin=class SparkPlugin{matchView(e){return this.routes.some(t=>t.test(e))}constructor(){(0,f._)(this,"id",as.eu),(0,f._)(this,"displayName",as._x),(0,f._)(this,"routes",[ac]),(0,f._)(this,"NavigationComponent",al),(0,f._)(this,"navigationItems",[{id:as.eu,displayName:"Spark",href:as.cP,icon:B.SparkleIcon,label:(0,_.createElement)(ej.A,{variant:"success"},"Preview"),external:!0}])}};var ad=a(18312),au=a(33005),am=a(34910),ap=a(10871);let ah={container:"ImmersiveDisabled-module__container--EDOnQ",content:"ImmersiveDisabled-module__content--dpYC9",footer:"ImmersiveDisabled-module__footer--xPpOC",bannerContainer:"ImmersiveDisabled-module__bannerContainer--Y_iqm"};function af(){let e,t,a=(0,p.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:ah.content,children:(0,m.jsx)(am.A,{})}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsxs)("div",{className:ah.container,children:[e,(0,m.jsx)("div",{className:ah.footer,children:(0,m.jsx)("div",{className:ah.bannerContainer,children:(0,m.jsx)(K.l,{variant:"upsell",title:"Copilot is disabled",hideTitle:!0,description:"Copilot on GitHub is currently disabled by your organization.",primaryAction:(0,m.jsx)(ap.z,{as:"a",href:"https://github.com/settings/copilot",onClick:ag,children:"Settings"})})})})]}),a[1]=t):t=a[1],t}function ag(){return(0,ta.BI)("dotcom_chat.activate",{target:"NO_ACCESS_SETTING_DISABLED",mode:"immersive"})}try{af.displayName||(af.displayName="ImmersiveDisabled")}catch{}var ay=a(31637),ax=a(38659),a_=a(74244),av=a(6901),ab=a(68714),aj=a(99168);function aC(e){let t,a=(0,p.c)(7),{messageId:n,messageIndex:r,messageTimestamp:i}=e,{openPreviewPane:s,openItem:o,updateItem:l}=(0,au.xx)();return a[0]!==n||a[1]!==r||a[2]!==i||a[3]!==o||a[4]!==s||a[5]!==l?(t=(e,t)=>{let a;switch(e.type){case"file":a=(0,aj.by)(e,n,i);break;case"thread-scoped-file":a=(0,aj.oR)({ref:e,messageIndex:r,messageId:n,timestamp:i});break;case"draft-issue":a=(0,aj.oR)({ref:e,messageIndex:r,messageId:n});break;case"issue":a=(0,aj.SI)(e,n);break;default:return}t?.preventDefault(),l(a),o(a.id),s()},a[0]=n,a[1]=r,a[2]=i,a[3]=o,a[4]=s,a[5]=l,a[6]=t):t=a[6],t}function aN(){let e=(0,W.Pk)(),{referenceId:t,messageIndex:a}=function(){let e,t,a,n=(0,p.c)(6),r=(0,ef.zy)();if(n[0]!==r.search){let a=new URLSearchParams(r.search);e=a.get("reference_id"),t=a.get("message_index"),n[0]=r.search,n[1]=e,n[2]=t}else e=n[1],t=n[2];let i=t,s=null;if(null!==i){let e=parseInt(i,10);isNaN(e)||(s=e)}return n[3]!==s||n[4]!==e?(a={referenceId:e,messageIndex:s},n[3]=s,n[4]=e,n[5]=a):a=n[5],a}(),[,n]=(0,ef.ok)(),r=(0,_.useMemo)(()=>e.messages??[],[e.messages]),i=(0,_.useMemo)(()=>null!==a&&a>=0&&a<r.length?r[a]:null,[r,a]),s=(0,_.useMemo)(()=>i?.references??e.currentReferences??[],[i?.references,e.currentReferences]),o=(0,_.useMemo)(()=>t&&s.length?s.find(e=>(0,eI.Vb)(e)===t)??null:null,[t,s]),l=aC({messageIndex:a??r.length,messageId:i?.id,messageTimestamp:i?.createdAt});(0,_.useEffect)(()=>{o&&(l(o),n(e=>{let t=new URLSearchParams(e);return t.delete("reference_id"),t.delete("message_index"),t}))},[o,l,n])}var aS=a(5878),aw=a(70179),aI=a(31075),aT=a(69676),ak=a(82678),aE=a(71941),aA=a(34614),aL=a(32647);let aR={errorFallbackContainer:"ErrorFallback-module__errorFallbackContainer--woWrK"};function aD(e){let t,a,n,r,i=(0,p.c)(5),{regionName:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(aL.E.Visual,{children:(0,m.jsx)(B.AlertIcon,{size:"medium"})}),a=(0,m.jsx)(aL.E.Heading,{children:"Something went wrong"}),i[0]=t,i[1]=a):(t=i[0],a=i[1]),i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.jsx)(aA.A,{href:"https://support.github.com/",inline:!0,children:"contact support"}),i[2]=n):n=i[2],i[3]!==s?(r=(0,m.jsx)("div",{className:aR.errorFallbackContainer,children:(0,m.jsxs)(aL.E,{children:[t,a,(0,m.jsxs)(aL.E.Description,{children:[s," is temporarily unavailable due to an unknown error. Try reloading the page or, if the error persists,"," ",n,"."]})]})}),i[3]=s,i[4]=r):r=i[4],r}try{aD.displayName||(aD.displayName="ErrorFallback")}catch{}let aP={container:"ContentPreview-module__container--bV98v",toolbar:"ContentPreview-module__toolbar--b58FL",tabsContainer:"ContentPreview-module__tabsContainer--bNywg",actions:"ContentPreview-module__actions--AGnBu",tabs:"ContentPreview-module__tabs--Si9sh",rightDivider:"ContentPreview-module__rightDivider--Ta3Js",leftDivider:"ContentPreview-module__leftDivider--X7WDV",content:"ContentPreview-module__content--o15no"};var aB=a(83831),aM=a(83987),aO=a(76487),aF=a(98386);let a$={container:"FailureState-module__container--_USh9",icon:"FailureState-module__icon--mLSLn",heading:"FailureState-module__heading--zWxg1",subtitle:"FailureState-module__subtitle--RsZIp"};function aU(e){let t,a,n,r,i,s=(0,p.c)(11),{title:o,description:l,icon:c}=e;return s[0]!==c?(t=(0,m.jsx)(c,{size:24,className:a$.icon}),s[0]=c,s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)("h1",{className:"sr-only",children:"Content preview panel"}),s[2]=a):a=s[2],s[3]!==o?(n=(0,m.jsx)("h2",{className:a$.heading,children:o}),s[3]=o,s[4]=n):n=s[4],s[5]!==l?(r=(0,m.jsx)("p",{className:a$.subtitle,children:l}),s[5]=l,s[6]=r):r=s[6],s[7]!==t||s[8]!==n||s[9]!==r?(i=(0,m.jsxs)("div",{className:a$.container,children:[t,a,n,r]}),s[7]=t,s[8]=n,s[9]=r,s[10]=i):i=s[10],i}try{aU.displayName||(aU.displayName="FailureState")}catch{}var aV=a(30581);let aW={anchor:"VersionSelector-module__anchor--HA1Ko"};function az(e){let t,a,n,r,i,s=(0,p.c)(16),{item:o,onVersionSelect:l}=e,{versionedItems:c,openItem:d}=(0,au.xx)(),u=(0,aj.oy)(o.id),h=c.get(u)??[],f=h.indexOf(o.id);if((0,_.useEffect)(()=>{l&&h.length>1&&l(`Version${f+1}`)},[f,l,h.length]),h.length<=1)return null;let g=tD.W,y=f+1;s[0]!==y?(t=(0,m.jsx)(tD.W.Button,{variant:"invisible",className:aW.anchor,children:(0,m.jsx)(aV.g,{version:y,"data-testid":"version-selector"})}),s[0]=y,s[1]=t):t=s[1];let x=tD.W,v=tB.l;s[2]!==o.id||s[3]!==l||s[4]!==d?(a=(e,t)=>(0,m.jsxs)(tB.l.Item,{onSelect:()=>{d(e),l&&l(`Version${t+1}`)},selected:e===o.id,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(aV.g,{version:t+1})}),"Version ",t+1]},e),s[2]=o.id,s[3]=l,s[4]=d,s[5]=a):a=s[5];let b=h.map(a);return s[6]!==v||s[7]!==b?(n=(0,m.jsx)(v,{selectionVariant:"single",children:b}),s[6]=v,s[7]=b,s[8]=n):n=s[8],s[9]!==x.Overlay||s[10]!==n?(r=(0,m.jsx)(x.Overlay,{children:n}),s[9]=x.Overlay,s[10]=n,s[11]=r):r=s[11],s[12]!==g||s[13]!==t||s[14]!==r?(i=(0,m.jsxs)(g,{children:[t,r]}),s[12]=g,s[13]=t,s[14]=r,s[15]=i):i=s[15],i}try{az.displayName||(az.displayName="VersionSelector")}catch{}var aH=a(653),aq=a(21059),aG=a(42080),aK=a(9852),aQ=a(63867),aY=a(21110);let aJ={dialogFooter:"BulkCreateDialog-module__dialogFooter--YqZvT",dialogFooterStatus:"BulkCreateDialog-module__dialogFooterStatus--KsQ2J",dialogFooterActions:"BulkCreateDialog-module__dialogFooterActions--m5L85",loadingIndicator:"BulkCreateDialog-module__loadingIndicator--xHB2u"};function aX(e){let t,a=(0,p.c)(3);if("existing-issue"===e.type){if("open"===e.state){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueOpenedIcon,{className:"fgColor-open"}),a[0]=e):e=a[0],e}if("closed"===e.state){let e;return a[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueClosedIcon,{className:"fgColor-done"}),a[1]=e):e=a[1],e}}return a[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(B.IssueDraftIcon,{className:"fgColor-muted"}),a[2]=t):t=a[2],t}try{aX.displayName||(aX.displayName="IssueIcon")}catch{}var aZ=a(12528);let a0={container:"IssueTree-module__container--EErcx",subHeader:"IssueTree-module__subHeader--VwzZz",tree:"IssueTree-module__tree--h8xrq",grid:"IssueTree-module__grid--jV9IQ",item:"IssueTree-module__item--GkRJ9",rootItem:"IssueTree-module__rootItem--ztRGi",spacer:"IssueTree-module__spacer--aWeSP",leadingVisual:"IssueTree-module__leadingVisual--Z1iK2",content:"IssueTree-module__content--nIUaP",title:"IssueTree-module__title--SLEKZ",trailingVisual:"IssueTree-module__trailingVisual--MqocH"},a1=_.createContext({hasTrailingVisuals:void 0}),a2=_.createContext({level:0});function a3(e){let t,a,n,r,i,s,o,l=(0,p.c)(16),{subIssueCount:c,subIssueHeaderText:d,hasTrailingVisuals:u,children:h}=e,f=void 0===d?"Sub-issues":d,g=void 0!==u&&u;if(l[0]!==h){let e=_.Children.toArray(h);t=e.find(a5),a=e.filter(a4),l[0]=h,l[1]=t,l[2]=a}else t=l[1],a=l[2];let y=a;l[3]!==g?(r={hasTrailingVisuals:g},l[3]=g,l[4]=r):r=l[4],n=r;let x=!!g||void 0;return l[5]!==y||l[6]!==c||l[7]!==f?(i=y.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:a0.subHeader,children:[f,(0,m.jsx)(aZ.A,{children:c})]}),(0,m.jsx)("ul",{role:"tree",className:a0.tree,children:y})]}),l[5]=y,l[6]=c,l[7]=f,l[8]=i):i=l[8],l[9]!==t||l[10]!==x||l[11]!==i?(s=(0,m.jsxs)("div",{className:a0.container,"data-has-trailing-visual":x,children:[t,i]}),l[9]=t,l[10]=x,l[11]=i,l[12]=s):s=l[12],l[13]!==n||l[14]!==s?(o=(0,m.jsx)(a1.Provider,{value:n,children:s}),l[13]=n,l[14]=s,l[15]=o):o=l[15],o}function a4(e){return _.isValidElement(e)&&e.type===a7}function a5(e){return _.isValidElement(e)&&e.type===a6}function a6(e){let t,a,n,r,i=(0,p.c)(4);return i[0]===Symbol.for("react.memo_cache_sentinel")?(a={level:0},i[0]=a):a=i[0],t=a,i[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,x.$)(a0.item,a0.rootItem),i[1]=n):n=i[1],i[2]!==e?(r=(0,m.jsx)(a2.Provider,{value:t,children:(0,m.jsx)("div",{className:n,children:(0,m.jsx)(ne,{...e})})}),i[2]=e,i[3]=r):r=i[3],r}function a7(e){let t,a,n,r,i,s,o,l,c,d,u=(0,p.c)(19);if(u[0]!==e?({children:t,...a}=e,u[0]=e,u[1]=t,u[2]=a):(t=u[1],a=u[2]),u[3]!==t){let e=_.Children.toArray(t);n=e.filter(a9),r=e.filter(a8),u[3]=t,u[4]=n,u[5]=r}else n=u[4],r=u[5];let h=r,{level:f}=_.useContext(a2),g=f+1;return u[6]!==g?(s={level:g},u[6]=g,u[7]=s):s=u[7],i=s,u[8]!==h||u[9]!==a?(o=(0,m.jsx)(ne,{...a,children:h}),u[8]=h,u[9]=a,u[10]=o):o=u[10],u[11]!==n?(l=n.length>0&&(0,m.jsx)("ul",{role:"group",className:a0.tree,children:n}),u[11]=n,u[12]=l):l=u[12],u[13]!==o||u[14]!==l?(c=(0,m.jsxs)("li",{role:"treeitem","aria-selected":"false",className:a0.item,children:[o,l]}),u[13]=o,u[14]=l,u[15]=c):c=u[15],u[16]!==i||u[17]!==c?(d=(0,m.jsx)(a2.Provider,{value:i,children:c}),u[16]=i,u[17]=c,u[18]=d):d=u[18],d}function a8(e){return!(_.isValidElement(e)&&e.type===a7)}function a9(e){return _.isValidElement(e)&&e.type===a7}function ne(e){let t,a,n,r,i,s,o,l,c=(0,p.c)(27),{leadingVisual:d,title:u,trailingBadge:h,trailingVisual:f,href:g,onClick:y}=e,{level:x}=_.useContext(a2),{hasTrailingVisuals:v}=_.useContext(a1);e:{if(g){t="a";break e}if(y){t="button";break e}t="div"}let b=t;c[0]!==x?(a={"--level":x},c[0]=x,c[1]=a):a=c[1];let j=!!y||void 0;if(c[2]!==x?(n=x>0&&(0,m.jsx)("div",{className:a0.spacer}),c[2]=x,c[3]=n):n=c[3],c[4]!==d?(r=(0,m.jsx)("div",{className:a0.leadingVisual,children:d}),c[4]=d,c[5]=r):r=c[5],c[6]!==g||c[7]!==y||c[8]!==u||c[9]!==b){let e;c[11]!==g||c[12]!==y?(e={className:a0.title,href:g,onClick:y},c[11]=g,c[12]=y,c[13]=e):e=c[13],i=_.createElement(b,e,u),c[6]=g,c[7]=y,c[8]=u,c[9]=b,c[10]=i}else i=c[10];return c[14]!==i||c[15]!==h?(s=(0,m.jsxs)("div",{className:a0.content,children:[i,h]}),c[14]=i,c[15]=h,c[16]=s):s=c[16],c[17]!==v||c[18]!==f?(o=v&&(0,m.jsx)("div",{className:a0.trailingVisual,children:f}),c[17]=v,c[18]=f,c[19]=o):o=c[19],c[20]!==a||c[21]!==j||c[22]!==n||c[23]!==r||c[24]!==s||c[25]!==o?(l=(0,m.jsxs)("div",{className:a0.grid,style:a,"data-has-onclick":j,children:[n,r,s,o]}),c[20]=a,c[21]=j,c[22]=n,c[23]=r,c[24]=s,c[25]=o,c[26]=l):l=c[26],l}let nt=Object.assign(a3,{RootItem:a6,Item:a7});try{a3.displayName||(a3.displayName="Tree")}catch{}try{a6.displayName||(a6.displayName="TreeRootItem")}catch{}try{a7.displayName||(a7.displayName="TreeItem")}catch{}try{ne.displayName||(ne.displayName="TreeItemContent")}catch{}try{nt.displayName||(nt.displayName="IssueTree")}catch{}var na=a(60439),nn=a(94747),nr=a(97286);function ni(e,t){for(let a of(t(e),e.children))ni(a,t)}function ns(){let e,t,a=(0,p.c)(6),{items:n,allOpenItems:r,versionedItems:i}=(0,au.xx)();a[0]!==r?(e=new Set(r),a[0]=r,a[1]=e):e=a[1];let s=e;if(a[2]!==n||a[3]!==s||a[4]!==i){let e=[...i.entries()].filter(nc).map(e=>{let[,t]=e,a=t.find(e=>s.has(e));if(a)return n.get(a);let r=t.at(-1);return r?n.get(r):void 0}).filter(nl);for(let a of(t=e.reduce(no,new Map),e)){if(!a.parentTag)continue;let e=t.get(a.parentTag),n=t.get(a.tag);e&&n&&(n.parent=e,e.children.push(n))}a[2]=n,a[3]=s,a[4]=i,a[5]=t}else t=a[5];return t}function no(e,t){return e.set(t.tag,{item:t,parent:null,children:[]}),e}function nl(e){return!!e}function nc(e){let[t]=e;return t.startsWith("new-issue:")||t.startsWith("existing-issue:")}var nd=a(27221),nu=a(13468);function nm(){let e,t,a=(0,p.c)(4),{messages:n}=(0,W.Pk)();a[0]!==n?(e=(0,nu.B)(n),a[0]=n,a[1]=e):e=a[1];let r=e;return a[2]!==r?(t=(e,t)=>null==e?Promise.resolve(t):np(t,e.databaseId,r[0]?.threadID),a[2]=r,a[3]=t):t=a[3],t}async function np(e,t,a){let n=e.match(/(!\[.*\]\(https:\/\/(?:.+\.)?github\.com\/github-copilot\/chat\/attachments\/[0-9a-fA-F-]+\))/g),r=new Set;for(let e of n||[]){let t=e.match(/https:\/\/(?:.+\.)?github\.com\/github-copilot\/chat\/attachments\/[0-9a-fA-F-]+/)?.[0];t&&r.add(t)}if(r.size>0){let n=Array.from(r).map(async e=>{let t=await fetch(e),a=await t.blob(),n=a.type.split("/")[1],r=`copilot-image.${n}`,i=await createImageBitmap(a),s=i.width;return i.close(),{file:new File([a],r,{type:a.type}),url:e,width:s}}),i=await Promise.all(n);for(let a of(await Promise.all(i.map(async e=>{if(e)return{uploadedFile:await (0,nd.QM)(e.file,t?.toString()),originalUrl:e.url,width:e.width}}))))if(a){let{uploadedFile:t,originalUrl:n,width:r}=a,i=t.url;if(i){let t=RegExp(`!\\[(.*?)\\]\\(${n}\\)`,"g");e=e.replace(t,`<img alt="$1" width="${r}" src="${i}" />`)}}(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUE_CREATED_IMAGES",mode:"immersive",imageCount:r.size,threadId:a})}return e}function nh(e){return!e.state.error&&e.state.data?.job.state!=="success"&&e.state.data?.job.state!=="error"&&2e3}var nf=a(50363),ng=a(13432),ny=a(39172),nx=a(9798),n_=a(40961),nv=a(5338),nb=a(52392),nj=a(40616);async function nC(e,t,a){let n=await (0,ad.fetchQuery)(e,nb.F,{repoId:t,filename:a}).toPromise();return n&&n.node?(0,nj.EV)(n.node)??null:null}async function nN(e,t,a){let n,r={},i=new Map;for(let[s,o]of(ni(a,e=>i.set(e.item.tag,e.item)),i)){if(r[s]={errorMessages:[]},"new-issue"===o.type&&!o.repository){r[s].errorMessages.push("Repository is required");continue}let[a,i]=o.repository?.split("/")||[];if(!a||!i){r[s].errorMessages.push('Repository must be in the format "owner/repo"');continue}let l=await (0,na.tZ)(e,a,i);if(!l){r[s].errorMessages.push("Repository not found");continue}if(n??(n=l.owner.login),l.owner.login!==n){r[s].errorMessages.push("All issues must belong to the same repository owner");continue}if("existing-issue"===o.type)continue;if(!l.hasIssuesEnabled){r[s].errorMessages.push("Repository does not have issues enabled");continue}if(l.viewerInteractionLimitReasonHTML){r[s].errorMessages.push(l.viewerInteractionLimitReasonHTML);continue}let c=o.template?await nC(e,l.id,o.template):void 0;if(o.template&&!c){r[s].errorMessages.push("Issue template not found");continue}if(!l.isBlankIssuesEnabled&&!c){r[s].errorMessages.push("Issue template is required");continue}let d=(0,nf.O_)(o.name);if(d.isValid||r[s].errorMessages.push(d.errorMessage||"Issue title is invalid"),c&&(0,ng.GQ)(c.data)){t.current=null;let a=document.createElement("div"),n=(0,nv.H)(a);if((0,n_.flushSync)(()=>{n.render((0,m.jsx)(nx.c,{partialName:"copilot-creates-issues-bulk-validation",wasServerRendered:!1,children:(0,m.jsx)(ad.RelayEnvironmentProvider,{environment:e,children:(0,m.jsx)(nS,{repository:l,draftIssue:o,template:c,outputRef:t})})}))}),!t.current)throw Error("IssueFormRef is not set");let i=t.current;try{if(i.getInvalidInputs().length>0){r[s].errorMessages.push("Invalid form input");continue}o.body=i.markdown()}finally{i.clearSessionStorage(),n.unmount(),a.remove()}}let u=(0,nf.QK)(o.body??"");u.isValid||r[s].errorMessages.push(u.errorMessage||"Issue body is invalid")}return r}function nS(e){let t,a,n,r=(0,p.c)(10),{repository:i,draftIssue:s,template:o,outputRef:l}=e,c=`${i.owner.login}/${i.name}`;if(r[0]!==i.databaseId||r[1]!==i.slashCommandsEnabled||r[2]!==c?(a={type:"issue",repository:{databaseId:i.databaseId,nwo:c,slashCommandsEnabled:i.slashCommandsEnabled}},r[0]=i.databaseId,r[1]=i.slashCommandsEnabled,r[2]=c,r[3]=a):a=r[3],t=a,!(0,ng.GQ)(o.data))return;let d=`copilot-creates-issues:${s.tag}`;return r[4]!==s.defaultValuesById||r[5]!==l||r[6]!==t||r[7]!==d||r[8]!==o.data?(n=(0,m.jsx)(ny.Z,{outputRef:l,issueFormRef:o.data,subject:t,sessionStorageKey:d,defaultValuesById:s.defaultValuesById}),r[4]=s.defaultValuesById,r[5]=l,r[6]=t,r[7]=d,r[8]=o.data,r[9]=n):n=r[9],n}try{nS.displayName||(nS.displayName="IssueFormWrapper")}catch{}var nw=a(99377),nI=a(44435),nT=a(20382);function nk(){let e,t=(0,p.c)(8),a=(0,q.b)(),n=(0,W.Pk)(),{closeItems:r,openItem:i,openPreviewPane:s,versionedItems:o,updateItem:l}=(0,au.xx)();return t[0]!==r||t[1]!==a||t[2]!==i||t[3]!==s||t[4]!==n||t[5]!==l||t[6]!==o?(e=async e=>{if(0===e.length)return;let t=e.find(nA)??e[0];(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUES_CREATED",mode:"immersive",threadId:(0,nI.W)(n)?.id,chatReferrer:document.referrer,repositoryId:t.repository.databaseId,issueTag:t.tag,issueNumber:t.number,templateType:t.template?t.template.endsWith(".md")?"markdown":"yaml":"none",createdIssuesCount:e.length});let c=[],d=[];for(let t of e){let a=t.repository.owner.login,n=t.repository.name,r=t.number;l({type:"issue",id:nL(t),messageId:nw.Wp,name:t.title,owner:a,repo:n,number:r,href:t.url}),c.push(`[${a}/${n}#${r}](${t.url})`),d.push({url:t.url,parentUrl:t.parentTag?e.find(e=>e.tag===t.parentTag)?.url:void 0,title:t.title,repository:`${t.repository.owner.login}/${t.repository.name}`,number:t.number,state:"open"})}r(e.map(nE).flatMap(e=>o.get(e)??[])),i(nL(t)),s();let u=c.length>1?{type:"text",name:`timeline-event: {"type": "issue-created", "markdownContent": "Created ${e.length} issues"}`,text:`Fetch the details for all saved issues and return them in a code block with YAML following this example format:
\`\`\`\`yaml type="issue-tree"
${(0,nT.Bh)({data:d},{forceQuotes:!0,noArrayIndent:!0,lineWidth:-1})}\`\`\`\``}:{type:"text",name:`timeline-event: {"type": "issue-created", "markdownContent": "Issue saved to ${c[0]}"}`,text:`Fetch the issue details and return them in a code block with YAML following this example format:
\`\`\`\`yaml type="issue-tree"
${(0,nT.Bh)({data:d},{forceQuotes:!0,noArrayIndent:!0,lineWidth:-1})}\`\`\`\``};await a.sendChatMessage({thread:(0,nI.W)(n),content:c.length>1?`Saved the issues to ${c.join(", ")}`:`Saved the issue to ${c[0]}`,references:[u,...n.currentReferences],topic:n.currentTopic,context:n.context,customInstructions:n.customInstructions,model:n.model})},t[0]=r,t[1]=a,t[2]=i,t[3]=s,t[4]=n,t[5]=l,t[6]=o,t[7]=e):e=t[7],e}function nE(e){return`new-issue:${e.tag}`}function nA(e){return!e.parentTag}function nL(e){let t=e.repository.owner.login,a=e.repository.name,n=e.number;return`issue:${t}/${a}/${n}`}function nR({issueNode:e,onComplete:t,onCancel:a}){let n=(0,_.useMemo)(()=>{let t=e;for(;t?.parent;)t=t.parent;return t},[e]),r=(0,_.useMemo)(()=>{let e=0;return ni(n,t=>{"new-issue"===t.item.type&&e++}),e},[n]),{mutate:i,isLoading:s,data:o,isComplete:l,isError:c,error:d}=function(e){let t,a,n,r=(0,p.c)(13),{issueNode:i}=e;r[0]!==i?(t={issueNode:i},r[0]=i,r[1]=t):t=r[1];let s=function(e){let t,a,n,r=(0,p.c)(9),{issueNode:i}=e,s=(0,ad.useRelayEnvironment)(),o=nm();return r[0]!==i.item.tag?(t=["copilot-issues-bulk-create",i.item.tag],r[0]=i.item.tag,r[1]=t):t=r[1],r[2]!==s||r[3]!==i||r[4]!==o?(a=async()=>{let e=new Map;ni(i,t=>e.set(t.item.tag,t.item));let t=[],a=new Map;for(let[,n]of e){if("existing-issue"===n.type){t.push({tag:n.tag,parent_tag:n.parentTag,repository_nwo:n.repository,number:n.number});continue}let e=n.body;if(e&&n.repository){let t=a.get(n.repository);if(!t){let[e,r]=n.repository.split("/");null!=e&&null!=r&&(t=await (0,na.tZ)(s,e,r),a.set(n.repository,t))}e=await o(t,e)}t.push({title:n.name,tag:n.tag,repository_nwo:n.repository,body:e,parent_tag:n.parentTag,labels:n.labels,assignees:n.assignees,milestone:n.milestone,issue_type:n.issueType,template:n.template,projects:n.projects})}let n=await (0,tl.Sr)("/copilot_issues/bulk_create",{method:"POST",body:{data:{issues:t}}});if(429===n.status)throw Error((await n.json()).error||"Rate limit exceeded. Please try again later.");if(!n.ok)throw Error((await n.json()).error.message||"Failed to create issues.");return await n.json()},r[2]=s,r[3]=i,r[4]=o,r[5]=a):a=r[5],r[6]!==t||r[7]!==a?(n={mutationKey:t,mutationFn:a},r[6]=t,r[7]=a,r[8]=n):n=r[8],(0,nn.n)(n)}(t),o=function(e){let t,a,n,r=(0,p.c)(7),i=!!e;return r[0]!==e?(t=["copilot-issues-bulk-create-status",e],a=async t=>{let a=await (0,tl.Sr)(e);if(!a.ok){let e=await a.json();throw t.client.setQueryData(t.queryKey,e),Error(e?.job.error_message||"Failed to fetch job status")}return await a.json()},r[0]=e,r[1]=t,r[2]=a):(t=r[1],a=r[2]),r[3]!==i||r[4]!==t||r[5]!==a?(n={enabled:i,queryKey:t,queryFn:a,refetchInterval:nh},r[3]=i,r[4]=t,r[5]=a,r[6]=n):n=r[6],(0,nr.I)(n)}(s.data?.jobStatusUrl),l=s.error||o.error,c=s.isError||o.isError;r[2]!==s.isPending||r[3]!==o.data?.job.state||r[4]!==o.isLoading?(a=s.isPending||o.isLoading||["pending","queued","started"].includes(o.data?.job.state||""),r[2]=s.isPending,r[3]=o.data?.job.state,r[4]=o.isLoading,r[5]=a):a=r[5];let d=o.data?.job.state==="success";return r[6]!==s.mutate||r[7]!==o.data||r[8]!==l||r[9]!==c||r[10]!==a||r[11]!==d?(n={mutate:s.mutate,data:o.data,error:l,isError:c,isLoading:a,isComplete:d},r[6]=s.mutate,r[7]=o.data,r[8]=l,r[9]=c,r[10]=a,r[11]=d,r[12]=n):n=r[12],n}({issueNode:n}),u=nk(),{loading:h,result:f}=function(e){let t,a,n,r,i=(0,p.c)(8),[s,o]=(0,_.useState)(!1);i[0]===Symbol.for("react.memo_cache_sentinel")?(t={},i[0]=t):t=i[0];let[l,c]=(0,_.useState)(t),d=(0,ad.useRelayEnvironment)(),u=(0,_.useRef)(null);return i[1]!==d||i[2]!==e?(a=()=>{!async function(){o(!0),c(await nN(d,u,e)),o(!1)}()},n=[d,e],i[1]=d,i[2]=e,i[3]=a,i[4]=n):(a=i[3],n=i[4]),(0,_.useEffect)(a,n),i[5]!==s||i[6]!==l?(r={loading:s,result:l},i[5]=s,i[6]=l,i[7]=r):r=i[7],r}(n),g=(0,_.useMemo)(()=>f&&Object.values(f).some(e=>e.errorMessages.length>0),[f]);(0,_.useEffect)(()=>{if(!o||!l)return;let e=new Map;ni(n,t=>{e.set(t.item.tag,t.item)});let a=o.job.completed_issues.map(t=>{let a=e.get(t.tag),[n,r]=a.repository.split("/");return{tag:t.tag,parentTag:a.parentTag,template:"new-issue"===a.type?a.template:void 0,repository:{databaseId:t.repository_id,name:r,owner:{login:n}},number:t.number,title:a.name,url:t.href}});t(),u(a)},[n,o,l,t,u]);let y=(0,_.useCallback)(()=>{s||l||i()},[s,l,i]),x=(0,_.useCallback)(()=>{s||l||a()},[s,l,a]);return(0,m.jsx)(aK.l,{title:"Create all linked draft issues?",onClose:x,renderFooter:()=>h?null:(0,m.jsxs)(aK.l.Footer,{className:aJ.dialogFooter,children:[(0,m.jsx)("div",{className:aJ.dialogFooterStatus,children:c&&(0,m.jsx)(aY.v,{variant:"critical",children:d?.message})}),(0,m.jsxs)("div",{className:aJ.dialogFooterActions,children:[(0,m.jsx)(e$.Q,{variant:"default",onClick:x,inactive:s||l,children:"Cancel"}),(0,m.jsx)(e$.Q,{variant:"primary",onClick:y,loading:s||l,disabled:g||c,children:1===r?"Create 1 issue":`Create ${r} issues`})]})]}),children:h?(0,m.jsx)("div",{className:aJ.loadingIndicator,role:"status","aria-label":"Validating issues",children:(0,m.jsx)(aQ.A,{})}):g?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(K.l,{variant:"warning",hideTitle:!0,title:"Validation errors",description:"Fill out missing required fields to create all of these issues.",className:"mb-3"}),(0,m.jsx)(nD,{issueNode:n,iconSelector:e=>{if(f?.[e.item.tag]?.errorMessages.length)return(0,m.jsx)(B.AlertIcon,{className:"fgColor-attention","data-testid":`warning-icon-${e.item.tag}`})}})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"These drafts are linked. Creating a sub-issue automatically publishes its parent and any nested drafts."}),(0,m.jsx)(nD,{issueNode:n,iconSelector:e=>{if(o?.job.completed_issues.some(t=>t.tag===e.item.tag))return(0,m.jsx)(B.CheckIcon,{className:"fgColor-success","data-testid":`success-icon-${e.item.tag}`})}})]})})}function nD({issueNode:e,iconSelector:t}){let{versionedItems:a}=(0,au.xx)(),n=(0,_.useMemo)(()=>{let t=0;return ni(e,e=>{e.parent&&t++}),t},[e]),r=e=>{let n=(0,aj.LU)(e.item.id,a);return(0,m.jsx)(nt.Item,{title:e.item.name,leadingVisual:(0,m.jsx)(aX,{...e.item}),trailingBadge:null!=n?(0,m.jsx)(aV.g,{version:n}):void 0,trailingVisual:t?.(e),children:e.children.length>0&&e.children.map(r)},e.item.tag)},i=(0,aj.LU)(e.item.id,a);return(0,m.jsxs)(nt,{subIssueHeaderText:"existing-issue"===e.item.type?"New sub-issues":void 0,subIssueCount:n,hasTrailingVisuals:!0,children:[(0,m.jsx)(nt.RootItem,{title:e.item.name,leadingVisual:(0,m.jsx)(aX,{...e.item}),trailingBadge:null!=i?(0,m.jsx)(aV.g,{version:i}):void 0,trailingVisual:t?.(e)}),e.children.length>0&&e.children.map(r)]})}try{nR.displayName||(nR.displayName="BulkCreateDialog")}catch{}try{nD.displayName||(nD.displayName="IssueTree")}catch{}function nP({issueTemplate:e,issueNode:t,issueFormRef:a,noRepoAccess:n=!1,onClose:r}){let[i,s]=_.useState(!1),o=_.useRef(null),{repository:l}=(0,aq.u)(),c=l&&!e&&!l.isBlankIssuesEnabled,{clearSessionData:d}=(0,aq.u)(),u=(0,_.useCallback)(()=>{d(),a.current?.clearSessionStorage()},[d,a]),p=(0,_.useCallback)(()=>{u(),r?.()},[u,r]),[h,f]=_.useState(!1);return eT.W.draftIssueTree&&(t?.parent||t?.children.length)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(aG.cQ,{commandId:"github:submit-form",variant:"primary",disabled:n,"data-testid":"create-bulk-issue-dialog-button",ref:o,showKeybindingHint:!0,onClick:e=>{e.preventDefault(),f(!0)},children:"Create all"}),h&&(0,m.jsx)(nR,{issueNode:t,onComplete:()=>{f(!1),p()},onCancel:()=>{f(!1)}})]}):l&&l.hasIssuesEnabled?c?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(aG.cQ,{commandId:"github:submit-form",variant:"primary","data-testid":"create-issue-dialog-button",ref:o,showKeybindingHint:!0,onClick:e=>{e.preventDefault(),s(!0)},children:"Create"}),i&&(0,m.jsx)(aK.l,{title:"Select a template",onClose:()=>s(!1),footerButtons:[{buttonType:"primary",content:"OK",onClick:()=>s(!1)}],returnFocusRef:o,children:"This repository requires all issues to have a template. To create this issue, first select the appropriate template from the template dropdown."})]}):(0,m.jsx)(aH.l,{hideCreateMore:!0,className:"width-auto"}):null}try{nP.displayName||(nP.displayName="CreateIssueButton")}catch{}var nB=a(81441),nM=a(13233),nO=a(78758);function nF(e){let t,a,n,r,i,s=(0,p.c)(20),{className:o,messageId:l,messageIndex:c,messageTimestamp:d,references:u,size:h}=e;s[0]!==l||s[1]!==c||s[2]!==d?(t={messageId:l,messageIndex:c,messageTimestamp:d},s[0]=l,s[1]=c,s[2]=d,s[3]=t):t=s[3];let f=aC(t),{updateItem:g,versionedItems:y}=(0,au.xx)();return s[4]!==l||s[5]!==c||s[6]!==d||s[7]!==u||s[8]!==g?(a=()=>{for(let e of u){let t=(0,aj.oR)({ref:e,messageIndex:void 0!==c?c:1,messageId:l,timestamp:d});null!=t&&g(t)}},n=[l,c,d,u,g],s[4]=l,s[5]=c,s[6]=d,s[7]=u,s[8]=g,s[9]=a,s[10]=n):(a=s[9],n=s[10]),(0,_.useEffect)(a,n),s[11]!==c||s[12]!==y?(r=e=>(0,aj.wt)(e,c,y),s[11]=c,s[12]=y,s[13]=r):r=s[13],s[14]!==o||s[15]!==f||s[16]!==u||s[17]!==h||s[18]!==r?(i=(0,m.jsx)(nO.t,{references:u,onClickReference:f,size:h,className:o,getReferenceVersion:r}),s[14]=o,s[15]=f,s[16]=u,s[17]=h,s[18]=r,s[19]=i):i=s[19],i}try{nF.displayName||(nF.displayName="ChatMessageReferences")}catch{}var n$=a(24991);let nU=(0,_.createContext)(null),nV=()=>{let e=(0,_.useContext)(nU);if(!e)throw Error("Missing required ContentPreviewBlockContext provider.");return e};try{nU.displayName||(nU.displayName="ContentPreviewBlockContext")}catch{}var nW=a(23896),nz=a(65011),nH=a(57746);function nq(e){let t,a,n,r=(0,p.c)(4),{className:i}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)("g",{clipPath:"url(#clip0_6911_7629)",fill:"currentColor",children:(0,m.jsx)("path",{d:"M14.722 6.047a.75.75 0 11-1.5 0V3.615L10.2 6.638a.75.75 0 01-1.06-1.06l3.023-3.024H9.729a.75.75 0 010-1.499h4.243a.75.75 0 01.75.75v4.242zM1.278 9.953a.75.75 0 111.5 0v2.432L5.8 9.362a.75.75 0 011.06 1.06l-3.023 3.024h2.433a.75.75 0 010 1.499H2.028a.75.75 0 01-.75-.75V9.953z"})}),r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_6911_7629",children:(0,m.jsx)("path",{fill:"#fff",d:"M0 0H16V16H0z"})})}),r[1]=a):a=r[1],r[2]!==i?(n=(0,m.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",className:i,children:[t,a]}),r[2]=i,r[3]=n):n=r[3],n}try{nq.displayName||(nq.displayName="ExpandIcon")}catch{}let nG={container:"FileBlock-module__container--zWu5c",header:"FileBlock-module__header--X7DLN",language:"FileBlock-module__language--fbEB2",name:"FileBlock-module__name--rkkGx",previewCode:"FileBlock-module__previewCode--EieE9",isClipped:"FileBlock-module__isClipped--Z6AMg",expandIconContainer:"FileBlock-module__expandIconContainer--JwHHA",insightsButtonContainer:"FileBlock-module__insightsButtonContainer--BRMgP"};function nK(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,v,b,j,C,N=(0,p.c)(71),{language:S,name:w,code:I,line:T,children:k,isClipped:E,isStreaming:A,index:L,startOffset:R,endOffset:D}=e,{message:P}=(0,eB.V)(),{updateItem:M,openItem:O,openPreviewPane:F,versionedItems:$,getOpenItems:U}=(0,au.xx)(),{messageIndex:V,messageId:W,messageTimestamp:z,autoOpenPreviewPane:H,markdown:q,hasAutoOpenedPreviewPaneRef:G,setHasAutoOpenedPreviewPane:K}=nV(),{name:Q}=(0,nz.vL)(S),Y=`file:${w}`,J=`${Y}#${V}.${T}`,X=!!I,Z=$.get(Y)??[],ee=Z.indexOf(J),et=Z.length>1&&-1!==ee?ee+1:null;N[0]!==U||N[1]!==J||N[2]!==L||N[3]!==O||N[4]!==F?(t=(e,t)=>{(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_FILE_OPENED",mode:"immersive"}),O(J,void 0===t||t||U().length<1||0===L),e&&F()},N[0]=U,N[1]=J,N[2]=L,N[3]=O,N[4]=F,N[5]=t):t=N[5];let ea=t;N[6]!==I||N[7]!==J||N[8]!==A||N[9]!==S||N[10]!==q||N[11]!==W||N[12]!==z||N[13]!==w||N[14]!==X||N[15]!==M?(a=()=>{let e=I?.trimEnd();X&&W!==nw.Wp&&-1!==q.indexOf(e)&&M({messageId:W,id:J,language:S,name:w,value:I,type:"file",timestamp:new Date(z),isStreaming:A,isUserEdited:!1})},n=[I,S,W,w,M,J,X,z,A,q],N[6]=I,N[7]=J,N[8]=A,N[9]=S,N[10]=q,N[11]=W,N[12]=z,N[13]=w,N[14]=X,N[15]=M,N[16]=a,N[17]=n):(a=N[16],n=N[17]),(0,_.useEffect)(a,n),N[18]!==H||N[19]!==G||N[20]!==A||N[21]!==W||N[22]!==ea||N[23]!==X||N[24]!==K?(r=()=>{A&&X&&W!==nw.Wp&&(ea(H&&!G.current,!1),K(!0))},i=[A,X,ea,H,W,G,K],N[18]=H,N[19]=G,N[20]=A,N[21]=W,N[22]=ea,N[23]=X,N[24]=K,N[25]=r,N[26]=i):(r=N[25],i=N[26]),(0,_.useEffect)(r,i);let[en,er]=(0,_.useState)(!1),{publicCodeReferences:ei,codeVulnerabilities:es}=(0,nW.R)(P.copilotAnnotations,R,D);N[27]!==ea?(s=()=>ea(!0),N[27]=ea,N[28]=s):s=N[28];let eo=`View file: ${w}`,el=`chat-message-view-file-${w}`,ec=A?(0,m.jsx)(aQ.A,{size:"small",className:n$.sX}):nz.Yr.has(Q)?(0,m.jsx)(B.MarkdownIcon,{className:n$.sX}):(0,m.jsx)(B.CodeIcon,{className:n$.sX});N[29]!==w?(o=(0,m.jsx)("span",{className:nG.name,children:w}),N[29]=w,N[30]=o):o=N[30],N[31]!==et?(l=null!==et&&(0,m.jsx)(aV.g,{version:et}),N[31]=et,N[32]=l):l=N[32],N[33]!==nG.language||N[34]!==ec||N[35]!==o||N[36]!==l?(c=(0,m.jsxs)("div",{className:nG.language,children:[ec,o,l]}),N[33]=nG.language,N[34]=ec,N[35]=o,N[36]=l,N[37]=c):c=N[37],N[38]===Symbol.for("react.memo_cache_sentinel")?(d=(0,m.jsx)("div",{className:nG.expandIconContainer,children:(0,m.jsx)(nq,{})}),N[38]=d):d=N[38],N[39]!==nG.header||N[40]!==c?(u=(0,m.jsxs)("div",{className:nG.header,children:[c,d]}),N[39]=nG.header,N[40]=c,N[41]=u):u=N[41];let ed=E&&nG.isClipped;return N[42]!==ed?(h=(0,x.$)(nG.previewCode,ed),N[42]=ed,N[43]=h):h=N[43],N[44]!==k?(f=(0,m.jsx)("code",{children:k}),N[44]=k,N[45]=f):f=N[45],N[46]!==h||N[47]!==f?(g=(0,m.jsx)("pre",{className:h,"aria-hidden":!0,children:f}),N[46]=h,N[47]=f,N[48]=g):g=N[48],N[49]!==el||N[50]!==u||N[51]!==g||N[52]!==nG.container||N[53]!==s||N[54]!==eo?(y=(0,m.jsxs)("button",{className:nG.container,onClick:s,"aria-label":eo,"data-testid":el,children:[u,g]}),N[49]=el,N[50]=u,N[51]=g,N[52]=nG.container,N[53]=s,N[54]=eo,N[55]=y):y=N[55],N[56]!==es||N[57]!==ei.length||N[58]!==er?(v=(ei.length>0||es.length>0)&&(0,m.jsx)("div",{className:nG.insightsButtonContainer,children:(0,m.jsx)(tP.K,{variant:"invisible",size:"small",icon:B.ShieldIcon,"aria-label":"Code insights",onClick:()=>er(!0)})}),N[56]=es,N[57]=ei.length,N[58]=er,N[59]=v):v=N[59],N[60]!==y||N[61]!==v?(b=(0,m.jsxs)("div",{className:"position-relative",children:[y,v]}),N[60]=y,N[61]=v,N[62]=b):b=N[62],N[63]!==es||N[64]!==en||N[65]!==ei||N[66]!==er?(j=en&&(0,m.jsx)(nH.t,{publicCodeReferences:ei,codeVulnerabilities:es,onClose:()=>er(!1)}),N[63]=es,N[64]=en,N[65]=ei,N[66]=er,N[67]=j):j=N[67],N[68]!==b||N[69]!==j?(C=(0,m.jsxs)(m.Fragment,{children:[b,j]}),N[68]=b,N[69]=j,N[70]=C):C=N[70],C}try{nK.displayName||(nK.displayName="FileBlock")}catch{}let nQ="data-fileblock-props",nY=(0,eR.F)(nQ),nJ=/^name=(?<name>[^\s]+)/,nX=/^name=(?<name>[^\s]+)\n?/,nZ={code:(e,t)=>{let a=(0,eR.k)(e,nQ);return a?(0,m.jsx)(nK,{...a,children:e.children}):t}},n0=/^type=(?<type>[^\s]+)\n?/,n1=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e;function n2(e){let{messages:t}=(0,W.Pk)(),a=(0,nu.B)(t);return function(e,t){if(!e)return"";let a=e.match(/(!\[.*?\]\(image\d+\))/g);if(null==a)return e;for(let n of a){let a=/\(image(\d+)\)/,r=parseInt(n.match(a)[1],10),i=t.length-r,s=t[i]?.chatAttachmentUrl||t[i]?.url;if(s){let t=n.replace(a,`(${s})`);e=e.replace(n,t)}}return e}(e,(0,_.useMemo)(()=>a.flatMap(e=>e.mediaContent||[]),[a]))}let n3={container:"DraftIssueBlock-module__container--xuyX4",icon:"DraftIssueBlock-module__icon--unPEF",previewText:"DraftIssueBlock-module__previewText--G_AS3"};var n4=a(46996),n5=a(12874);let n6=(e,t)=>{let a=e||[],n=t||[];return a.length===n.length&&(0,n4.A)((0,n5.A)(a),(0,n5.A)(n))},n7=(e,t)=>{let a=e.title===t.title,n=e.body===t.description,r=e.repository===t.repository,i=e.template===t.template,s=e.issueType===t.issueType,o=e.milestone===t.milestone,l=n6(e.assignees,t.assignees),c=n6(e.labels,t.labels),d=n6(e.projects,t.projects),u=(0,n4.A)(e.templateFormValues,t.templateFormValuesById);return a&&n&&r&&i&&s&&o&&l&&c&&d&&u};function n8(e){let t,a,n=(0,p.c)(7),{issues:r,isStreaming:i,isIssueTree:s}=e,o=void 0!==s&&s,{messages:l,threadSelectedAt:c}=(0,W.Pk)();n[0]!==o||n[1]!==i||n[2]!==r||n[3]!==l||n[4]!==c?(t=()=>{let e=(0,nu.B)(l),t=e[e.length-1];if(t?.role==="assistant"&&!i&&new Date(t.createdAt)>=c&&t?.references&&r.length>0){let e=t.references.filter(n9);for(let t of r)if(t.tag){let a=e.find(e=>e.tag===t.tag);if(a&&!n7(t,a))return void(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUE_DRAFT_ISSUE_REFERENCE_MISMATCH",mode:"immersive",issueTree:o})}}},a=[i,r,l,c,o],n[0]=o,n[1]=i,n[2]=r,n[3]=l,n[4]=c,n[5]=t,n[6]=a):(t=n[5],a=n[6]),(0,_.useEffect)(t,a)}function n9(e){return"draft-issue"===e.type}let re="data-draft-issue-block",rt={fromUnknown:e=>{if("object"!=typeof e||null==e)return null;let t={};return"title"in e&&"string"==typeof e.title&&(t.title=e.title),"tag"in e&&"string"==typeof e.tag&&(t.tag=e.tag),"template-form-values"in e&&"object"==typeof e["template-form-values"]&&null!=e["template-form-values"]&&(t.templateFormValues=Object.fromEntries(Object.entries(e["template-form-values"]).map(([e,t])=>[e,"string"==typeof t?t.trim():t]))),"description"in e&&"string"==typeof e.description&&(t.body=e.description),"labels"in e&&Array.isArray(e.labels)&&(t.labels=e.labels.filter(e=>"string"==typeof e)),"assignees"in e&&Array.isArray(e.assignees)&&(t.assignees=e.assignees.filter(e=>"string"==typeof e)),"repository"in e&&"string"==typeof e.repository&&(t.repository=e.repository),"template"in e&&"string"==typeof e.template&&(t.template=e.template),"type"in e&&"string"==typeof e.type&&(t.issueType=e.type),"projects"in e&&Array.isArray(e.projects)&&(t.projects=e.projects.filter(e=>"string"==typeof e)),"milestone"in e&&"string"==typeof e.milestone&&(t.milestone=e.milestone),"state"in e&&"string"==typeof e.state&&(t.state=e.state),"parentTag"in e&&"string"==typeof e.parentTag&&(t.parentTag=e.parentTag),t}};function ra({yaml:e,isStreaming:t}){let[a,n]=(0,_.useState)(t);(0,_.useEffect)(()=>{t&&n(!0)},[t]);let{updateItem:r,openItem:i,openPreviewPane:s,versionedItems:o,items:l}=(0,au.xx)(),{messageId:c,messageIndex:d,autoOpenPreviewPane:u,hasAutoOpenedPreviewPaneRef:p,setHasAutoOpenedPreviewPane:h}=nV();e=n2(e);let f=(0,_.useRef)({}),g=(0,_.useMemo)(()=>{let t=(e=>{try{let t=(0,nT.Hh)(e);return rt.fromUnknown(t)}catch{return null}})(e);return null!=t?(f.current=t,t):f.current},[e]);n8({issues:[g],isStreaming:t,isIssueTree:!1}),(0,_.useEffect)(()=>(0,ta.BI)("dotcom_chat.activate",{target:"ISSUE_DRAFT_BLOCK_RENDERED",mode:"immersive"}),[]);let y=null!=g.tag?`new-issue:${g.tag}#${d}`:void 0,x=null!=y?(0,aj.LU)(y,o):null,v=null!=y?l.get(y):void 0,b=g.repository||v?.type!=="new-issue"?g.repository:v.repository||"",j=(0,_.useCallback)(({selectItem:e})=>{null!=y&&(i(y,e),(e||u&&!p.current)&&(s(),h(!0)),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_DRAFT_ISSUE_OPENED",mode:"immersive"}))},[y,i,u,p,s,h]);(0,_.useEffect)(()=>{null!=y&&r({messageId:c,name:g.title??"",body:g.body,repository:b,id:y,type:"new-issue",tag:g.tag??"",isStreaming:t,template:g.template,issueType:g.issueType,milestone:g.milestone,assignees:g.assignees?.sort()??[],labels:g.labels?.sort()??[],projects:g.projects?.sort()??[],isUserEdited:!1,defaultValuesById:g.templateFormValues??{}})},[y,t,b,g.assignees,g.body,g.tag,g.title,g.labels,g.template,g.issueType,g.projects,g.milestone,g.templateFormValues,c,r]),(0,_.useEffect)(()=>{null!=y&&a&&j({selectItem:!0})},[y,j,a]);let C=(0,_.useCallback)(()=>j({selectItem:!0}),[j]);return(0,m.jsxs)("div",{className:n3.container,role:"button",onClick:C,onKeyDown:e=>{("Enter"===e.code||"Space"===e.code)&&C()},tabIndex:0,children:[t?(0,m.jsx)(aQ.A,{size:"small",className:n$.sX}):(0,m.jsx)(B.IssueDraftIcon,{className:n3.icon}),(0,m.jsx)("span",{className:n3.previewText,children:g.title}),null!=x&&(0,m.jsx)(aV.g,{version:x})]})}try{ra.displayName||(ra.displayName="DraftIssueBlock")}catch{}let rn=(0,eR.F)(re),rr={div:(e,t)=>{let a=(0,eR.k)(e,re);return a?(0,m.jsx)(ra,{...a}):t}},ri={fromUnknown:e=>{if("object"!=typeof e||null===e)return null;let t={};return"tag"in e&&"string"==typeof e.tag&&(t.tag=e.tag),"parentTag"in e&&"string"==typeof e.parentTag&&(t.parentTag=e.parentTag),"title"in e&&"string"==typeof e.title&&(t.title=e.title),"repository"in e&&"string"==typeof e.repository&&(t.repository=e.repository),"number"in e&&"number"==typeof e.number&&(t.number=e.number),"state"in e&&"string"==typeof e.state&&(t.state=e.state),"url"in e&&"string"==typeof e.url&&(t.url=e.url),"parentUrl"in e&&"string"==typeof e.parentUrl&&(t.parentUrl=e.parentUrl),t}};function rs(e){try{let t=(0,nT.Hh)(e);if("object"==typeof t&&null!==t&&"data"in t&&Array.isArray(t.data))return t.data.map(ri.fromUnknown).filter(e=>!!e).filter(e=>!!e.url);return null}catch{return null}}function ro({data:e}){let[t,a]=(0,_.useState)(()=>rs(e)??[]);(0,_.useEffect)(()=>a(t=>rs(e)??t),[e]);let{messageId:n}=nV(),{updateItem:r,openItem:i,openPreviewPane:s}=(0,au.xx)(),o=(0,_.useMemo)(()=>{let e=t.reduce((e,t)=>(e.set(t.url,{item:t,parent:null,children:[]}),e),new Map);for(let a of t){if(!a.parentUrl)continue;let t=e.get(a.parentUrl),n=e.get(a.url);t&&n&&(n.parent=t,t.children.push(n))}return e},[t]),l=(0,_.useMemo)(()=>Array.from(o.values()).filter(e=>!e.parent),[o]);function c(e){if(!e.url)return;let[t,a]=e.repository?.split("/")??[];if(!t||!a||!e.number)return;let o=`issue:${t}/${a}/${e.number}`;r({messageId:n,name:e.title??"",number:e.number,owner:t,repo:a,id:o,href:e.url,type:"issue"}),i(o),s()}function d(e){return(0,m.jsx)(nt.Item,{title:e.item.title??"",leadingVisual:(0,m.jsx)(rl,{item:e.item}),trailingBadge:(0,m.jsx)(rc,{node:e}),href:e.item.url??"#",onClick:t=>{if(!t.metaKey&&!t.ctrlKey)return t.preventDefault(),c(e.item)},children:e.children.length>0&&e.children.map(d)},e.item.url)}return(0,m.jsx)(m.Fragment,{children:l.map(e=>{let t=-1;return ni(e,()=>t++),(0,m.jsxs)(nt,{subIssueCount:t,children:[(0,m.jsx)(nt.RootItem,{leadingVisual:(0,m.jsx)(rl,{item:e.item}),title:e.item.title??"",trailingBadge:(0,m.jsx)(rc,{node:e}),href:e.item.url??"#",onClick:t=>{if(!t.metaKey&&!t.ctrlKey)return t.preventDefault(),c(e.item)}}),e.children.map(d)]},e.item.url)})})}function rl(e){let t=(0,p.c)(2),{item:a}=e;if("open"===a.state){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueOpenedIcon,{className:"fgColor-open"}),t[0]=e):e=t[0],e}if("closed"===a.state){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueClosedIcon,{className:"fgColor-done"}),t[1]=e):e=t[1],e}}function rc(e){let t,a=(0,p.c)(5),{node:n}=e;if(!n.item.repository||!n.item.number)return null;if(n.item.repository===n.parent?.item.repository){let e;return a[0]!==n.item.number?(e=(0,m.jsxs)("span",{className:"fgColor-muted no-wrap",children:["#",n.item.number]}),a[0]=n.item.number,a[1]=e):e=a[1],e}return a[2]!==n.item.number||a[3]!==n.item.repository?(t=(0,m.jsxs)("span",{className:"fgColor-muted no-wrap",children:[n.item.repository,"#",n.item.number]}),a[2]=n.item.number,a[3]=n.item.repository,a[4]=t):t=a[4],t}try{ro.displayName||(ro.displayName="IssueTreeBlock")}catch{}try{rl.displayName||(rl.displayName="LeadingVisual")}catch{}try{rc.displayName||(rc.displayName="IssueLocation")}catch{}function rd(e){return"state"in e?"draft"===e.state:"assignees"in e||"labels"in e||"issueType"in e||"projects"in e||"milestone"in e||"template"in e||"templateFormValues"in e||"body"in e}function ru(e){return"state"in e&&("open"===e.state||"closed"===e.state)}function rm({data:e,isStreaming:t}){e=n2(e);let a=(0,_.useRef)([]),n=(0,_.useMemo)(()=>{let t=function(e){try{let t=(0,nT.gh)(e);if(Array.isArray(t))return t.filter(e=>"object"==typeof e&&null!=e).map(e=>{switch("state"in e?e.state:void 0){case void 0:case"draft":return rt.fromUnknown(e);case"open":case"closed":return ri.fromUnknown(e)}}).filter(e=>!!e).filter(e=>!!e.tag);return null}catch{return null}}(e);return t&&(a.current=t),a.current},[e]),{items:r,updateItem:i,openItem:s,openPreviewPane:o,closeItem:l,versionedItems:c}=(0,au.xx)(),{messageId:d,messageIndex:u,autoOpenPreviewPane:h,hasAutoOpenedPreviewPaneRef:f,setHasAutoOpenedPreviewPane:g}=nV(),y=(0,_.useCallback)(e=>rd(e)&&e.tag?`new-issue:${e.tag}#${u}`:ru(e)&&e.repository&&e.number?`existing-issue:${e.repository}/${e.number}`:void 0,[u]);n8({issues:n,isStreaming:t,isIssueTree:!0}),(0,_.useEffect)(()=>{for(let e of n)e.tag&&y(e)&&(rd(e)&&i({messageId:d,type:"new-issue",id:`new-issue:${e.tag}#${u}`,tag:e.tag,parentTag:e.parentTag,name:e.title??"",body:e.body,repository:e.repository,template:e.template,issueType:e.issueType,milestone:e.milestone,assignees:e.assignees?.sort()??[],labels:e.labels?.sort()??[],projects:e.projects?.sort()??[],defaultValuesById:e.templateFormValues??{},isUserEdited:!1,isStreaming:t}),ru(e)&&e.repository&&e.number&&e.url&&(l(`issue:${e.repository}/${e.number}`),i({messageId:d,type:"existing-issue",id:`existing-issue:${e.repository}/${e.number}`,tag:e.tag,parentTag:e.parentTag,repository:e.repository,number:e.number,name:e.title??"",state:e.state??"open",href:e.url})))},[y,t,n,d,u,i,l]);let x=(0,_.useCallback)((e,{selectItem:t})=>{let a=y(e);a&&(s(a,t),(t||h&&!f.current)&&(o(),g(!0)),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_DRAFT_ISSUE_OPENED",mode:"immersive"}))},[y,s,h,f,o,g]),v=(0,_.useCallback)(e=>{let t=[...r.entries()].find(([t,a])=>(t.startsWith("new-issue:")||t.startsWith("existing-issue:"))&&("new-issue"===a.type||"existing-issue"===a.type)&&a.tag===e);if(!t)return;let[a]=t,n=(0,aj.oy)(a),i=c.get(n),s=i?.at(-1);if(!s)return;let o=r.get(s);if(o)switch(o?.type){case"new-issue":return rt.fromUnknown(o);case"existing-issue":return ri.fromUnknown(o);default:return}},[r,c]),b=(0,_.useMemo)(()=>{let e=n.reduce((e,t)=>(e.set(t.tag,{item:t,parent:null,children:[]}),e),new Map);for(let t of n){if(!t.parentTag)continue;let a=e.get(t.parentTag),n=e.get(t.tag);if(!a&&eT.W.draftIssueWithMixedTrees){let n=v(t.parentTag);if(!n)continue;e.set(t.parentTag,{item:n,parent:null,children:[]}),a=e.get(t.parentTag)}a&&n&&(n.parent=a,a.children.push(n))}return Array.from(e.values()).filter(e=>!e.parent)},[n,v]),j=function(e){let t,a,n=(0,p.c)(4),[r,i]=(0,_.useState)(!1),s=(0,_.useRef)(e);return n[0]!==r||n[1]!==e?(t=()=>{e&&(s.current=!0),e||!s.current||r||i(!0)},a=[e,r],n[0]=r,n[1]=e,n[2]=t,n[3]=a):(t=n[2],a=n[3]),(0,_.useEffect)(t,a),r}(t);(0,_.useEffect)(()=>{if(j)for(let[e,t]of b.entries())x(t.item,{selectItem:0===e})},[j,b,x]);let C=e=>{let a=y(e.item),n=a?(0,aj.LU)(a,c):null;return(0,m.jsx)(nt.Item,{title:e.item.title??"",leadingVisual:(0,m.jsx)(rp,{isStreaming:t,item:e.item}),trailingBadge:null!=n?(0,m.jsx)(aV.g,{version:n}):void 0,onClick:t=>{t.metaKey||t.ctrlKey||(t.preventDefault(),x(e.item,{selectItem:!0}))},href:ru(e.item)?e.item.url:void 0,children:e.children.length>0&&e.children.map(C)},e.item.tag)};return(0,m.jsx)(m.Fragment,{children:b.map(e=>{let a=y(e.item),n=a?(0,aj.LU)(a,c):null,r=-1;return ni(e,()=>r++),(0,m.jsxs)(nt,{subIssueHeaderText:ru(e.item)?"New sub-issues":void 0,subIssueCount:r,children:[(0,m.jsx)(nt.RootItem,{title:e.item.title??"",leadingVisual:(0,m.jsx)(rp,{isStreaming:t,item:e.item}),trailingBadge:null!=n?(0,m.jsx)(aV.g,{"data-testid":"version-label",version:n}):void 0,onClick:t=>{t.metaKey||t.ctrlKey||(t.preventDefault(),x(e.item,{selectItem:!0}))},href:ru(e.item)?e.item.url:void 0}),e.children.length>0&&e.children.map(C)]},e.item.tag)})})}function rp(e){let t=(0,p.c)(4),{isStreaming:a,item:n}=e;if(a){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(aQ.A,{size:"small",className:n$.sX}),t[0]=e):e=t[0],e}if(rd(n)){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(aX,{type:"new-issue"}),t[1]=e):e=t[1],e}if(ru(n)){let e;return t[2]!==n.state?(e=(0,m.jsx)(aX,{type:"existing-issue",state:n.state}),t[2]=n.state,t[3]=e):e=t[3],e}}try{rm.displayName||(rm.displayName="DraftIssueTreeBlock")}catch{}try{rp.displayName||(rp.displayName="LeadingVisual")}catch{}let rh="data-draft-tree-issue-block",rf=(0,eR.F)(rh);var rg=a(72534);function ry(e){let t,a,n,r,i,s,o=(0,p.c)(28),{owner:l,repo:c,issueNumber:d,href:u,children:h}=e,{updateItem:f,openItem:g,openPreviewPane:y,items:x}=(0,au.xx)(),{messageId:v}=nV(),b=(0,W.A3)("messages"),j=Number(d),C=`issue:${l}/${c}/${j}`;o[0]!==C||o[1]!==x?(t=x.get(C),o[0]=C,o[1]=x,o[2]=t):t=o[2];let N=t;o[3]!==N?.name||o[4]!==v||o[5]!==b||o[6]!==j||o[7]!==l||o[8]!==c?(a=function(e,t,a,n,r){if(!a||!n||!r||isNaN(r))return;let i=e.find(e=>e.id===t),s=i?.references,o=s?.find(e=>"issue"===e.type&&e.number===r&&e.repository.name===n&&e.repository.owner===a),l=o?.title;if(l)return l;let c=s?.find(e=>"api-response"===e.type&&"Issue"===e.resourceType&&e.repo===`${a}/${n}`&&e.data.number===r),d=c?.data;return d?.title}(b,v,l,c,j)??N?.name??`Issue #${j}`,o[3]=N?.name,o[4]=v,o[5]=b,o[6]=j,o[7]=l,o[8]=c,o[9]=a):a=o[9];let S=a;return o[10]!==u||o[11]!==C||o[12]!==v||o[13]!==j||o[14]!==l||o[15]!==c||o[16]!==S||o[17]!==f?(n=()=>{l&&c&&f({messageId:v,name:S,number:j,owner:l,repo:c,id:C,href:u,type:"issue"})},r=[C,v,u,j,l,c,S,f],o[10]=u,o[11]=C,o[12]=v,o[13]=j,o[14]=l,o[15]=c,o[16]=S,o[17]=f,o[18]=n,o[19]=r):(n=o[18],r=o[19]),(0,_.useEffect)(n,r),o[20]!==C||o[21]!==g||o[22]!==y?(i=e=>{e.metaKey||e.ctrlKey||(g(C),y(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUE_OPENED",mode:"immersive"}),e.preventDefault())},o[20]=C,o[21]=g,o[22]=y,o[23]=i):i=o[23],o[24]!==h||o[25]!==u||o[26]!==i?(s=(0,m.jsx)(aA.A,{href:u,onClick:i,target:"_blank",rel:"noreferrer",children:h}),o[24]=h,o[25]=u,o[26]=i,o[27]=s):s=o[27],s}try{ry.displayName||(ry.displayName="IssueLinkBlock")}catch{}let rx="data-issuelink-props",r_=(0,eR.F)(rx),rv=/\/(?<owner>[^/]+)\/(?<repo>[^/]+)\/issues\/(?<number>\d+)/,rb={span:(e,t)=>{let a=(0,eR.k)(e,rx);return a?(0,m.jsx)(ry,{...a}):t}};var rj=a(39459),rC=a(89169),rN=a(70892);let rS={list:"IssueListBlock-module__list--GM7vt",streaming:"IssueListBlock-module__streaming--HSaKx",toggleContent:"IssueListBlock-module__toggleContent--QwoUs",item:"IssueListBlock-module__item--Z3Nv7",link:"IssueListBlock-module__link--xHV6N",content:"IssueListBlock-module__content--kXyl1",metadata:"IssueListBlock-module__metadata--fIv1v",header:"IssueListBlock-module__header--tb2Am",title:"IssueListBlock-module__title--KvqP1",unknownTitle:"IssueListBlock-module__unknownTitle--tj7iM",number:"IssueListBlock-module__number--FIbRR",labels:"IssueListBlock-module__labels--ergn3",labelIcon:"IssueListBlock-module__labelIcon--AdciQ",description:"IssueListBlock-module__description--FVdIE",icon:"IssueListBlock-module__icon--KVpem",open:"IssueListBlock-module__open--yTQ0j",draft:"IssueListBlock-module__draft--FrF8w",done:"IssueListBlock-module__done--SRM4P",closed:"IssueListBlock-module__closed--jfPZH",unassignedAvatar:"IssueListBlock-module__unassignedAvatar--SawNd",toggleButton:"IssueListBlock-module__toggleButton--BwD3L",shimmer:"IssueListBlock-module__shimmer--BIYQB",toggleIcon:"IssueListBlock-module__toggleIcon--RYlGV"},rw={fromUnknown:e=>{if("object"!=typeof e||null===e)return{};let t={};return"url"in e&&"string"==typeof e.url&&(t.url=e.url),"state"in e&&"string"==typeof e.state&&(t.state=e.state),"draft"in e&&"boolean"==typeof e.draft&&(t.draft=e.draft),"created_at"in e&&"string"==typeof e.created_at&&(t.created_at=e.created_at),"closed_at"in e&&"string"==typeof e.closed_at&&(t.closed_at=e.closed_at),"merged_at"in e&&"string"==typeof e.merged_at&&(t.merged_at=e.merged_at),"title"in e&&"string"==typeof e.title&&(t.title=e.title),"number"in e&&"number"==typeof e.number&&(t.number=e.number),"labels"in e&&Array.isArray(e.labels)&&(t.labels=e.labels.filter(e=>"string"==typeof e)),"author"in e&&"string"==typeof e.author&&(t.author=e.author),"comments"in e&&"number"==typeof e.comments&&(t.comments=e.comments),"assignees_avatar_urls"in e&&Array.isArray(e.assignees_avatar_urls)&&(t.assignees_avatar_urls=e.assignees_avatar_urls.filter(e=>"string"==typeof e)),t}};function rI(e){let t,a,n,r,i,s=(0,p.c)(8),{item:o,isStreaming:l}=e,c=o.author;return o.merged_at?(r=o.merged_at,i="Merged"):o.closed_at?(r=o.closed_at,i="Closed"):o.created_at&&(r=o.created_at,i="Opened"),s[0]!==r?(a=(t=r?new Date(r):null)&&isNaN(t.getTime()),s[0]=r,s[1]=t,s[2]=a):(t=s[1],a=s[2]),a&&(t=null),s[3]!==i||s[4]!==c||s[5]!==l||s[6]!==t?(n=c&&t||!l?(0,m.jsxs)("span",{className:rS.description,children:[c," ",c?i?.toLowerCase():i," ",t&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(rC.A,{date:t,format:"relative"})})]}):null,s[3]=i,s[4]=c,s[5]=l,s[6]=t,s[7]=n):n=s[7],n}let rT=e=>{try{let t=(0,nT.Hh)(e);if("object"==typeof t&&null!==t&&"data"in t&&Array.isArray(t.data))return t.data.map(rw.fromUnknown);return null}catch{return null}};function rk(e){let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(39),{data:f,type:g,isStreaming:y}=e;h[0]!==f?(t=()=>rT(f)??[],h[0]=f,h[1]=t):t=h[1];let[v,b]=(0,_.useState)(t),{updateItem:j,openItem:C,openPreviewPane:N}=(0,au.xx)(),{messageId:S}=nV(),[w,I]=(0,_.useState)(!0);h[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Y.G7)("copilot_issue_list_show_more"),h[2]=a):a=h[2];let T=a;h[3]!==w||h[4]!==v?(n=T&&w?v.slice(0,10):v,h[3]=w,h[4]=v,h[5]=n):n=h[5];let k=n,E=T&&v.length>10;h[6]!==f?(r=()=>b(e=>rT(f)??e),i=[f],h[6]=f,h[7]=r,h[8]=i):(r=h[7],i=h[8]),(0,_.useEffect)(r,i),h[9]!==g?(s=()=>{"issue"===g?(0,ta.BI)("dotcom_chat.activate",{target:"ISSUE_LIST_BLOCK_RENDERED",mode:"immersive"}):(0,ta.BI)("dotcom_chat.activate",{target:"PR_LIST_BLOCK_RENDERED",mode:"immersive"})},o=[g],h[9]=g,h[10]=s,h[11]=o):(s=h[10],o=h[11]),(0,_.useEffect)(s,o);let A=y&&rS.streaming;if(h[12]!==A?(l=(0,x.$)(rS.list,A),h[12]=A,h[13]=l):l=h[13],h[14]!==y||h[15]!==S||h[16]!==C||h[17]!==N||h[18]!==g||h[19]!==j||h[20]!==k){let e;h[22]!==y||h[23]!==S||h[24]!==C||h[25]!==N||h[26]!==g||h[27]!==j||h[28]!==k.length?(e=(e,t)=>{let a={...e,type:g},n=y&&t===k.length-1,{icon:r,colorClass:i}=function(e){let t,a=null;if("issue"===e.type)"open"!==e.state||e.draft?"closed"!==e.state||e.draft?"open"===e.state&&e.draft?(a=(0,m.jsx)(B.IssueDraftIcon,{"aria-label":"Draft issue"}),t=rS.draft):"closed"===e.state&&e.draft&&(a=(0,m.jsx)(B.SkipIcon,{"aria-label":"Closed draft issue"}),t=rS.draft):(a=(0,m.jsx)(B.IssueClosedIcon,{"aria-label":"Closed issue"}),t=rS.done):(a=(0,m.jsx)(B.IssueOpenedIcon,{"aria-label":"Open issue"}),t=rS.open);else if("pr"===e.type){let n="string"==typeof e.merged_at&&e.merged_at.length>0;"open"===e.state&&!n&&e.draft?(a=(0,m.jsx)(B.GitPullRequestDraftIcon,{"aria-label":"Draft pull request"}),t=rS.draft):"open"!==e.state||n||e.draft?"closed"!==e.state||n?"closed"===e.state&&n&&(a=(0,m.jsx)(B.GitMergeIcon,{"aria-label":"Merged pull request"}),t=rS.done):(a=(0,m.jsx)(B.GitPullRequestClosedIcon,{"aria-label":"Closed pull request"}),t=rS.closed):(a=(0,m.jsx)(B.GitPullRequestIcon,{"aria-label":"Pull request"}),t=rS.open)}return{icon:a,colorClass:t}}(a);return(0,m.jsx)("li",{className:rS.item,children:(0,m.jsxs)("div",{className:rS.content,children:[(0,m.jsx)("div",{className:(0,x.$)(i,rS.icon),children:r}),(0,m.jsxs)("div",{className:rS.header,children:[n&&!a.title?null:(0,m.jsx)("a",{...(0,aF.G)("issue-list-item-link"),href:a.url??"#",className:rS.link,onClick:e=>{if(!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),a.url))if("issue"===a.type){(0,ta.BI)("dotcom_chat.activate",{target:"ISSUE_LIST_BLOCK_ITEM_OPEN",mode:"immersive"});let{owner:e,repo:t,number:n}=function(e){let t=/^https?:\/\/[^/]+\/([^/]+)\/([^/]+)\/issues\/(\d+)(\/.*)?$/.exec(e);if(!t)return{};let a=parseInt(t[3]??"0",10);return{owner:t[1],repo:t[2],number:a}}(a.url);if(e&&t&&n){let r=`issue:${e}/${t}/${n}`;j({messageId:S,name:a.title??`Issue #${n}`,number:n,owner:e,repo:t,id:r,href:a.url,type:"issue"}),C(r),N()}}else(0,ta.BI)("dotcom_chat.activate",{target:"PR_LIST_BLOCK_ITEM_OPEN",mode:"immersive"}),window.open(a.url,"_self")},target:"_blank",rel:"noreferrer",children:a.title||void 0===a.number?(0,m.jsxs)(m.Fragment,{children:[a.title?(0,m.jsx)("span",{className:rS.title,children:a.title}):(0,m.jsx)("span",{className:(0,x.$)(rS.title,rS.unknownTitle),children:"Unknown issue"}),void 0!==a.number&&(0,m.jsxs)("span",{className:rS.number,children:["#",a.number]})]}):(0,m.jsxs)("span",{className:rS.title,children:["#",a.number]})}),(0,m.jsxs)("div",{className:rS.labels,children:[a.labels?.length?a.labels.map(rA):null,0!==a.comments&&void 0!==a.comments&&(0,m.jsxs)(ej.A,{size:"small",variant:"secondary",children:[(0,m.jsx)(B.CommentIcon,{className:rS.labelIcon,size:12}),a.comments]})]})]}),(0,m.jsx)(rI,{item:a,isStreaming:n}),(0,m.jsx)("div",{className:rS.metadata,children:void 0===a.assignees_avatar_urls?null:0===a.assignees_avatar_urls.length?(0,m.jsx)("div",{className:rS.unassignedAvatar,role:"img","aria-label":"Unassigned",children:(0,m.jsx)(B.PersonIcon,{size:12})}):(0,m.jsx)("div",{role:"img","aria-label":`${a.assignees_avatar_urls.length} ${1===a.assignees_avatar_urls.length?"assignee":"assignees"}`,children:(0,m.jsx)(rN.A,{disableExpand:!0,children:a.assignees_avatar_urls.map(rE)})})})]})},t)},h[22]=y,h[23]=S,h[24]=C,h[25]=N,h[26]=g,h[27]=j,h[28]=k.length,h[29]=e):e=h[29],c=k.map(e),h[14]=y,h[15]=S,h[16]=C,h[17]=N,h[18]=g,h[19]=j,h[20]=k,h[21]=c}else c=h[21];return h[30]!==w||h[31]!==E||h[32]!==y||h[33]!==v?(d=E&&(0,m.jsx)("li",{className:rS.item,children:(0,m.jsx)("div",{className:(0,x.$)(rS.content,rS.toggleContent),children:(0,m.jsxs)("button",{type:"button",className:(0,x.$)(rS.toggleButton,y&&rS.shimmer),onClick:()=>I(!w),"aria-expanded":!w,"aria-controls":"issue-list",children:[(0,m.jsx)("span",{className:rS.toggleIcon,children:w?(0,m.jsx)(B.UnfoldIcon,{size:16}):(0,m.jsx)(B.FoldIcon,{size:16})}),w?`Show ${v.length-10} more`:"Show less"]})})}),h[30]=w,h[31]=E,h[32]=y,h[33]=v,h[34]=d):d=h[34],h[35]!==c||h[36]!==d||h[37]!==l?(u=(0,m.jsx)("div",{children:(0,m.jsxs)("ul",{id:"issue-list",className:l,children:[c,d]})}),h[35]=c,h[36]=d,h[37]=l,h[38]=u):u=h[38],u}function rE(e){return(0,m.jsx)(rj.r,{src:e,alt:"Assignee avatar"},e)}function rA(e){return(0,m.jsx)(ej.A,{size:"small",variant:"secondary",children:e},e)}try{rI.displayName||(rI.displayName="Description")}catch{}try{rk.displayName||(rk.displayName="ListBlock")}catch{}let rL="data-issues-list-block",rR=(0,eR.F)(rL),rD={div:(e,t)=>{let a=(0,eR.k)(e,rL);return a?(0,m.jsx)(rk,{...a}):t}},rP="data-tree-issue-block",rB=(0,eR.F)(rP),rM={markdownOverrides:"MarkdownViewer-module__markdownOverrides--ghD5J"},rO=e=>{let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j=(0,p.c)(34);j[0]!==e?({messageId:n,messageIndex:r,messageTimestamp:i,autoOpenPreviewPane:t,markdown:a,...s}=e,j[0]=e,j[1]=t,j[2]=a,j[3]=n,j[4]=r,j[5]=i,j[6]=s):(t=j[1],a=j[2],n=j[3],r=j[4],i=j[5],s=j[6]);let C=(0,_.useRef)(!1);j[7]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{C.current=e},j[7]=o):o=j[7];let N=o;j[8]!==s.extensions?(c=s.extensions??[],d=function(e){return{transformMarkdown:t=>(0,eD.YR)(t,"code",t=>{let a=t.lang??"",{name:n,code:r}=function(e,t){let a=e&&nJ.exec(e);if(a)return{name:a.groups?.name,code:t};let n=nX.exec(t);return n?{name:n.groups?.name,code:t.replace(nX,"")}:{code:t}}(t.meta??void 0,t.value);if(!n)return;e.includes(n)||e.push(n);let i=r.split(`
`,6),s=6===i.length,o=s?i.join(`
`):`${i.join(`
`)}
`,l=t.position?.start.line??0;t.value=o,t.data={...t.data,hName:"code",hProperties:{[nY]:JSON.stringify({language:a,name:n,code:r,line:l,isStreaming:t.isStreaming??!1,isClipped:s,index:e.indexOf(n),startOffset:t.position?.start.offset??-1,endOffset:t.position?.end.offset??-1})}}}),transformHtml:e=>(0,eD.YR)(e,"element",(e,t,a)=>{let n=e.children?.[0];a&&void 0!==t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&"code"===n.tagName&&nY in n.properties&&a.children.splice(t,1,n)}),reactComponents:nZ}}([]),j[8]=s.extensions,j[9]=c,j[10]=d):(c=j[9],d=j[10]),j[11]===Symbol.for("react.memo_cache_sentinel")?(u={transformMarkdown:e=>(0,eD.YR)(e,"link",e=>{try{if(new URL(e.url,window.location.origin).origin!==window.location.origin)return}catch{return}let t=rv.exec(e.url);if(!t?.groups)return;let{owner:a="",repo:n="",number:r=""}=t.groups;e.data={hName:"span",hProperties:{[r_]:JSON.stringify({owner:a,repo:n,issueNumber:r,href:e.url,children:(0,rg.d)(e)})}}}),reactComponents:rb},h={transformMarkdown:e=>(0,eD.YR)(e,"code",e=>{if("list"!==e.lang)return;let t=n1(n0.exec(e.meta??"")?.groups?.type??"");("issue"===t||"pr"===t)&&(e.data={hName:"div",hProperties:{[rR]:JSON.stringify({data:e.value,type:t,isStreaming:e.isStreaming??!1})},hChildren:[]})}),transformHtml:e=>(0,eD.YR)(e,"element",(e,t,a)=>{let n=e.children?.[0];a&&void 0!==t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&rR in n.properties&&a.children.splice(t,1,n)}),reactComponents:rD},f={transformMarkdown:e=>(0,eD.YR)(e,"code",e=>{"yaml"===e.lang&&"draft-issue"===n1(n0.exec(e.meta??"")?.groups?.type??"")&&(e.data={hName:"div",hProperties:{[rn]:JSON.stringify({yaml:e.value,isStreaming:e.isStreaming??!1})},hChildren:[]})}),transformHtml:e=>(0,eD.YR)(e,"element",(e,t,a)=>{let n=e.children?.[0];a&&null!=t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&rn in n.properties&&a.children.splice(t,1,n)}),reactComponents:rr},j[11]=u,j[12]=h,j[13]=f):(u=j[11],h=j[12],f=j[13]),j[14]!==c||j[15]!==d?(g=[...c,d,u,h,f],j[14]=c,j[15]=d,j[16]=g):g=j[16];let S=g;if(eT.W.draftIssueTree){let e,t,a,n=S;j[17]===Symbol.for("react.memo_cache_sentinel")?(e={transformMarkdown:e=>(0,eD.YR)(e,"code",e=>{"yaml"===e.lang&&"draft-issue-tree"===n1(n0.exec(e.meta??"")?.groups?.type??"")&&(e.data={hName:"div",hProperties:{[rf]:JSON.stringify({data:e.value,isStreaming:e.isStreaming??!1})},hChildren:[]})}),transformHtml:e=>(0,eD.YR)(e,"element",(e,t,a)=>{let n=e.children?.[0];a&&null!=t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&rf in n.properties&&a.children.splice(t,1,n)}),reactComponents:{div:(e,t)=>{let a=(0,eR.k)(e,rh);return a?(0,m.jsx)(rm,{...a}):t}}},t={transformMarkdown:e=>(0,eD.YR)(e,"code",e=>{"yaml"===e.lang&&"issue-tree"===n1(n0.exec(e.meta??"")?.groups?.type??"")&&(e.data={hName:"div",hProperties:{[rB]:JSON.stringify({data:e.value})},hChildren:[]})}),transformHtml:e=>(0,eD.YR)(e,"element",(e,t,a)=>{let n=e.children?.[0];a&&null!=t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&rB in n.properties&&a.children.splice(t,1,n)}),reactComponents:{div:(e,t)=>{let a=(0,eR.k)(e,rP);return a?(0,m.jsx)(ro,{...a}):t}}},j[17]=e,j[18]=t):(e=j[17],t=j[18]),j[19]!==S?(a=[...n,e,t],j[19]=S,j[20]=a):a=j[20],S=a}return l=S,j[21]!==t||j[22]!==a||j[23]!==n||j[24]!==r||j[25]!==i?(x={messageId:n,messageIndex:r,messageTimestamp:i,autoOpenPreviewPane:t,markdown:a,hasAutoOpenedPreviewPaneRef:C,setHasAutoOpenedPreviewPane:N},j[21]=t,j[22]=a,j[23]=n,j[24]=r,j[25]=i,j[26]=x):x=j[26],y=x,j[27]!==l||j[28]!==a||j[29]!==s?(v=(0,m.jsx)(n$.To,{...s,markdown:a,extensions:l,chatMode:"immersive",className:rM.markdownOverrides}),j[27]=l,j[28]=a,j[29]=s,j[30]=v):v=j[30],j[31]!==v||j[32]!==y?(b=(0,m.jsx)(nU.Provider,{value:y,children:v}),j[31]=v,j[32]=y,j[33]=b):b=j[33],b},rF=_.memo(rO);try{rO.displayName||(rO.displayName="MarkdownViewer")}catch{}try{rF.displayName||(rF.displayName="MemoizedMarkdownViewer")}catch{}let r$={timelineEvent:"TimelineEvents-module__timelineEvent--Piv5d",icon:"TimelineEvents-module__icon--IYNGr",situationalTimelineEvent:"TimelineEvents-module__situationalTimelineEvent--vlwlp TimelineEvents-module__timelineEvent--Piv5d",references:"TimelineEvents-module__references--r1iWF ChatMessage-module__references--Kunt2"};function rU(e){return"text"===e.type&&null!=e.name&&e.name.startsWith("timeline-event:")}function rV(e,t){return e.references?.some(e=>rU(e)&&(void 0===t||t?.some(t=>e.name.startsWith(`timeline-event: {"type": "${t}"`))))??!1}function rW(e){let t,a,n,r=(0,p.c)(10),{message:i,messageIndex:s,isViewingSharedThread:o,isSharedMessage:l,isLatestMessage:c}=e;return r[0]!==i||r[1]!==s?(t=rV(i)&&(0,m.jsx)(rz,{message:i,messageIndex:s}),r[0]=i,r[1]=s,r[2]=t):t=r[2],r[3]!==c||r[4]!==l||r[5]!==o?(a=(0,m.jsx)(rq,{isViewingSharedThread:o,isSharedMessage:l,isLatestMessage:c}),r[3]=c,r[4]=l,r[5]=o,r[6]=a):a=r[6],r[7]!==t||r[8]!==a?(n=(0,m.jsxs)(m.Fragment,{children:[t,a]}),r[7]=t,r[8]=a,r[9]=n):n=r[9],n}function rz(e){let t,a,n,r,i,s,o,l=(0,p.c)(24),{message:c,messageIndex:d}=e,{updateItem:u}=(0,au.xx)();if(l[0]!==c.createdAt||l[1]!==c.id||l[2]!==c.references||l[3]!==d||l[4]!==u?(t=()=>{if(c.references)for(let e of c.references){let t=(0,aj.oR)({ref:e,messageIndex:d,messageId:c.id,timestamp:c.createdAt});null!=t&&u(t)}},a=[c.references,c.id,d,c.createdAt,u],l[0]=c.createdAt,l[1]=c.id,l[2]=c.references,l[3]=d,l[4]=u,l[5]=t,l[6]=a):(t=l[5],a=l[6]),(0,_.useEffect)(t,a),l[7]!==c.references){n=Symbol.for("react.early_return_sentinel");e:{let e=c.references?.filter(rH);if(!e){n=void 0;break e}for(let t of(r=[],e)){let e=JSON.parse(t.name.replace("timeline-event: ","")),a=t.icon||B.CheckIcon;r.push({type:e.type,markdownContent:e.markdownContent,icon:a})}}l[7]=c.references,l[8]=n,l[9]=r}else n=l[8],r=l[9];return n!==Symbol.for("react.early_return_sentinel")?n:(l[10]!==c.createdAt||l[11]!==c.id||l[12]!==c.references||l[13]!==d?(i=c.references&&c.references.length>0&&(0,m.jsx)(nF,{className:r$.references,messageId:c.id,messageTimestamp:c.createdAt,messageIndex:d,references:c.references,size:"medium"}),l[10]=c.createdAt,l[11]=c.id,l[12]=c.references,l[13]=d,l[14]=i):i=l[14],l[15]!==c.content||l[16]!==c.createdAt||l[17]!==c.id||l[18]!==d||l[19]!==r?(s=r.map(e=>{let{type:t,markdownContent:a,icon:n}=e;return(0,m.jsxs)("div",{className:r$.timelineEvent,children:[(0,m.jsx)(n,{className:r$.icon}),(0,m.jsx)(rO,{autoOpenPreviewPane:!1,markdown:a,messageId:c.id,messageIndex:d,messageTimestamp:c.createdAt,accessibleHeader:(0,eI.hV)("Timeline",c.content??"")})]},t)}),l[15]=c.content,l[16]=c.createdAt,l[17]=c.id,l[18]=d,l[19]=r,l[20]=s):s=l[20],l[21]!==i||l[22]!==s?(o=(0,m.jsxs)(m.Fragment,{children:[i,s]}),l[21]=i,l[22]=s,l[23]=o):o=l[23],o)}function rH(e){return rU(e)}function rq(e){let t,a,n,r=(0,p.c)(9),{isSharedMessage:i,isViewingSharedThread:s,isLatestMessage:o}=e;return r[0]!==i||r[1]!==s?(t=i&&!s&&(0,m.jsxs)("div",{className:r$.situationalTimelineEvent,children:[(0,m.jsx)(B.LinkIcon,{className:r$.icon})," Messages up to this point are included in shared link"]}),r[0]=i,r[1]=s,r[2]=t):t=r[2],r[3]!==o||r[4]!==s?(a=o&&eT.W.copilotDuplicateThread&&s&&(0,m.jsxs)("div",{className:r$.situationalTimelineEvent,children:[(0,m.jsx)(B.RepoForkedIcon,{className:r$.icon})," Messages beyond this point will start a new private conversation"]}),r[3]=o,r[4]=s,r[5]=a):a=r[5],r[6]!==t||r[7]!==a?(n=(0,m.jsxs)(m.Fragment,{children:[t,a]}),r[6]=t,r[7]=a,r[8]=n):n=r[8],n}try{rW.displayName||(rW.displayName="TimelineEvents")}catch{}try{rz.displayName||(rz.displayName="UserMessageTimelineEvent")}catch{}try{rq.displayName||(rq.displayName="SituationalTimelineEvents")}catch{}var rG=a(95629),rK=a(17063),rQ=a(9039),rY=a(630),rJ=a(25862),rX=a(70924),rZ=a(83779),r0=a(50146);function r1({issue:e}){let{openItem:t,versionedItems:a}=(0,au.xx)(),n=ns(),r=function(){let e,t=(0,p.c)(4),a=(0,q.b)(),n=(0,W.Pk)(),{updateItem:r}=(0,au.xx)();return t[0]!==a||t[1]!==n||t[2]!==r?(e=async e=>{(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUE_UNLINK_FROM_PARENT",mode:"immersive",threadId:(0,nI.W)(n)?.id,chatReferrer:document.referrer,issueRepository:e.repository,issueTab:e.tag,parentIssueTag:e.parentTag});let t={type:"text",name:`timeline-event: {"type": "unlink-sub-issue", "markdownContent": "Unlinked sub-issue '${e.name}'"}`,text:`Unlink the sub issue '${e.tag}' from its parent issue by removing the 'parentTag' field. Return the updated '${e.tag}' draft-issue.`},i={...e,parentTag:void 0,isUserEdited:!1};r(i);let s="new-issue"===i.type?(0,aj.g)(i):(0,aj.yA)(i);await a.sendChatMessage({thread:(0,nI.W)(n),content:"Unlink the sub-issue from its parent issue",references:[t,s],topic:n.currentTopic,context:n.context,customInstructions:n.customInstructions,model:n.model})},t[0]=a,t[1]=n,t[2]=r,t[3]=e):e=t[3],e}(),i=n.get(e.tag),s=i?i.children:[],o=(0,_.useMemo)(()=>{if(!i)return 0;let e=-1;return ni(i,()=>e++),e},[i]);if(!eT.W.draftIssueTree)return null;let l=e=>{let n=(0,aj.LU)(e.item.id,a);return(0,m.jsx)(rK.r,{title:(0,m.jsx)(rX.T,{value:e.item.name,onClick:()=>{t(e.item.id,!0)},trailingBadges:null!=n?[(0,m.jsx)(aV.g,{version:n},`${e.item.tag}#${n}`)]:void 0}),secondaryActions:(0,m.jsx)(rQ.o,{actions:[],staticMenuActions:[{key:"unlink",render:()=>(0,m.jsxs)(tB.l.Item,{onSelect:()=>r(e.item),children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.LinkIcon,{})}),"Unlink sub-issue"]},`${e.item.tag}-unlink`)}]}),subItems:e.children?.length?e.children.map(l):void 0,defaultExpanded:!0,children:(0,m.jsx)(rY.Q,{children:(0,m.jsx)(rJ.D,{children:(0,m.jsx)(aX,{...e.item})})})},e.item.tag)};return(0,m.jsx)("div",{className:"mt-2 border rounded-2",children:(0,m.jsx)(rG.v,{title:"Sub-issues",header:(0,m.jsx)(rZ.s,{title:(0,m.jsx)(r0.c,{title:"Sub-issues",className:"p-0",children:(0,m.jsx)(aZ.A,{children:o})}),className:"border-0 bgColor-default"}),children:s.map(l)})})}try{r1.displayName||(r1.displayName="SubissuesList")}catch{}var r2=a(88014),r3=a(55087),r4=a(23812);function r5(e){let{openItem:t,updateItem:a}=(0,au.xx)(),{selectedThreadID:n}=(0,W.Pk)(),r=function(e){let{messages:t}=(0,W.Pk)();return`new-issue:${e}#${t.length}`}(e.tag),i=`edited-${n}-${r}`,[s,o]=(0,r4.Fo)(i,void 0);return(0,_.useCallback)((i,s=!1)=>{let l,c=!1;for(l in i)(0,n4.A)(i[l],e[l])||(c=!0,"name"!==l&&"body"!==l&&"defaultValuesById"!==l&&(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUE_USER_CHANGED_FIELD",mode:"immersive",threadId:n,repository:e.repository,issueTag:e.tag,userChangedField:l,wasEmpty:function(e){switch(typeof e){case"string":return!e;case"object":if(Array.isArray(e))return!e||0===e.length;return null==e;default:return null==e}}(e[l])}));if(!c)return;let d={...e,...i};!s&&(d.id=r,d.isUserEdited=!0,eT.W.copilotPersistEditedDraftIssues&&o(d)),a(d),t(d.id)},[e,a,t,n,r,o])}function r6(e){return e.login}function r7(e){return e.login}let r8=function(){var e={defaultValue:100,kind:"LocalArgument",name:"count"},t={defaultValue:"",kind:"LocalArgument",name:"labelNames"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},n={defaultValue:null,kind:"LocalArgument",name:"repo"},r=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"names",variableName:"labelNames"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[s,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:[e,t,a,n],kind:"Fragment",metadata:null,name:"useLabelsQueryQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:o,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,t,e],kind:"Operation",name:"useLabelsQueryQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},s],storageKey:null}]},params:{id:"b807cb351c9187646a1c1af734d12afb",metadata:{},name:"useLabelsQueryQuery",operationKind:"query",text:null}}}();r8.hash="e88ca04244b8cb67aad293081213c7ad";var r9=a(62110);function ie(e){return(0,r9.P5)(e)}function it(e){return!!e}function ia(e){return e.name}function ir(e){return e.name}var ii=a(47943),is=a(90189);function io(e){return!1===e.hasReachedItemsLimit}function il(e){return!1===e.closed}function ic(e){return e.toLowerCase()}function id(e,t){return e.set(t.id,t),e}function iu(e){return e.title}function im(e){return e.title}var ip=a(3213);function ih(e,t){return e?.toLowerCase()===t?.toLowerCase()}function ig({draftIssue:e,issueNode:t,template:a,issueFormRef:n,loadingTopRepos:r,onCreate:i,onChange:s,onClose:o,onBeforeCreate:l,onFieldChange:c}){let{name:d,body:u="",defaultValuesById:h}=e,{repository:f,clearSessionData:g}=(0,aq.u)(),[y,x]=(0,_.useState)(d),[v,b]=(0,_.useState)(u),j=function(){let e,t=(0,p.c)(3),a=(0,q.b)(),n=(0,W.Pk)();return t[0]!==a||t[1]!==n?(e=async(e,t)=>{let r;if(e.parentMessageID&&(r=n.messages.findLast(t=>t.id===e.parentMessageID&&"root"!==t.id)),!r||!r.content)return;(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_ISSUE_RETRY_MESSAGE",mode:"immersive",threadId:(0,nI.W)(n)?.id,customMessage:t});let i={type:"text",name:`timeline-event: {"type": "automatic-retry", "markdownContent": "${t??"Copilot failed to generate a response, retrying\u2026"}"}`,icon:B.XIcon};await a.sendChatMessage({thread:(0,nI.W)(n),content:r.content,references:[...r.references??[],i],topic:n.currentTopic,context:n.context,customInstructions:n.customInstructions,model:n.model,parentMessageId:e.id})},t[0]=a,t[1]=n,t[2]=e):e=t[2],e}(),C=(0,W.Pk)(),N=(0,_.useCallback)(()=>{g(),n.current?.clearSessionStorage()},[g,n]),S=(0,_.useCallback)(()=>{N(),o?.()},[N,o]);if((0,_.useEffect)(()=>{x(d),b(u)},[u,d]),!function(e){let t,a,n,r,i,s,o,l=(0,p.c)(26),{repository:c,assignees:d,setAssignees:u}=(0,aq.u)(),[m,h]=(0,_.useState)(d),f=c?.owner.login,g=c?.name;l[0]!==e.assignees||l[1]!==f||l[2]!==g?(t={owner:f,repo:g,assignees:e.assignees},l[0]=e.assignees,l[1]=f,l[2]=g,l[3]=t):t=l[3];let{isLoading:y,data:x}=function(e){let t,a,n,r,i,s=(0,p.c)(16),{owner:o,repo:l,assignees:c}=e,d=(0,ad.useRelayEnvironment)();s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r3.M)({includeAuthorableBots:!1,includeAssignableBots:!0}),s[0]=t):t=s[0];let u=t;return s[1]!==d?(a=JSON.stringify(d),s[1]=d,s[2]=a):a=s[2],s[3]!==c||s[4]!==o||s[5]!==l||s[6]!==a?(n=["copilot-immersive-assignees",a,u,o,l,c],s[3]=c,s[4]=o,s[5]=l,s[6]=a,s[7]=n):n=s[7],s[8]!==c||s[9]!==d||s[10]!==o||s[11]!==l?(r=async()=>o&&l&&c?await (0,r2.fH)(d,{owner:o,repo:l,assignees:c,capabilities:u}):[],s[8]=c,s[9]=d,s[10]=o,s[11]=l,s[12]=r):r=s[12],s[13]!==n||s[14]!==r?(i={queryKey:n,queryFn:r},s[13]=n,s[14]=r,s[15]=i):i=s[15],(0,nr.I)(i)}(t);l[4]!==x?(a=x?.map(r7)??[],l[4]=x,l[5]=a):a=l[5],l[6]!==e||l[7]!==a?(n={...e,assignees:a},l[6]=e,l[7]=a,l[8]=n):n=l[8];let v=r5(n);l[9]!==y||l[10]!==c||l[11]!==x||l[12]!==u?(r=()=>{!y&&x&&(c?.viewerIssueCreationPermissions?.assignable?u(x):null!=c&&u([]))},l[9]=y,l[10]=c,l[11]=x,l[12]=u,l[13]=r):r=l[13];let b=c?.viewerIssueCreationPermissions?.assignable;l[14]!==y||l[15]!==c||l[16]!==x||l[17]!==u||l[18]!==b?(i=[y,x,u,b,c],l[14]=y,l[15]=c,l[16]=x,l[17]=u,l[18]=b,l[19]=i):i=l[19],(0,_.useEffect)(r,i),l[20]!==d||l[21]!==m||l[22]!==y||l[23]!==v?(s=()=>{y||m===d||(v({assignees:d.map(r6)}),h(d))},o=[y,m,d,v],l[20]=d,l[21]=m,l[22]=y,l[23]=v,l[24]=s,l[25]=o):(s=l[24],o=l[25]),(0,_.useEffect)(s,o)}(e),!function(e){let t,a,n,r,i,s,o,l=(0,p.c)(26),{repository:c,labels:d,setLabels:u}=(0,aq.u)(),[m,h]=(0,_.useState)(d),f=c?.owner.login,g=c?.name;l[0]!==e.labels||l[1]!==f||l[2]!==g?(t={owner:f,repo:g,labels:e.labels},l[0]=e.labels,l[1]=f,l[2]=g,l[3]=t):t=l[3];let{isLoading:y,data:x}=function(e){let t,a,n,r,i=(0,p.c)(15),{owner:s,repo:o,labels:l}=e,c=(0,ad.useRelayEnvironment)();return i[0]!==c?(t=JSON.stringify(c),i[0]=c,i[1]=t):t=i[1],i[2]!==l||i[3]!==s||i[4]!==o||i[5]!==t?(a=["copilot-immersive-labels",t,s,o,l],i[2]=l,i[3]=s,i[4]=o,i[5]=t,i[6]=a):a=i[6],i[7]!==c||i[8]!==l||i[9]!==s||i[10]!==o?(n=async()=>{if(!s||!o||!l)return[];let e=await (0,ar.SD)({environment:c,query:r8,variables:{owner:s,repo:o,labelNames:l.join(","),count:l.length}}).toPromise();return(e?.repository?.labels?.nodes??[]).filter(it).map(ie)},i[7]=c,i[8]=l,i[9]=s,i[10]=o,i[11]=n):n=i[11],i[12]!==a||i[13]!==n?(r={queryKey:a,queryFn:n},i[12]=a,i[13]=n,i[14]=r):r=i[14],(0,nr.I)(r)}(t);l[4]!==x?(a=x?.map(ir)??[],l[4]=x,l[5]=a):a=l[5],l[6]!==e||l[7]!==a?(n={...e,labels:a},l[6]=e,l[7]=a,l[8]=n):n=l[8];let v=r5(n);l[9]!==y||l[10]!==c||l[11]!==x||l[12]!==u?(r=()=>{!y&&x&&(c?.viewerIssueCreationPermissions?.labelable?u(x):null!=c&&u([]))},l[9]=y,l[10]=c,l[11]=x,l[12]=u,l[13]=r):r=l[13];let b=c?.viewerIssueCreationPermissions?.labelable;l[14]!==y||l[15]!==c||l[16]!==x||l[17]!==u||l[18]!==b?(i=[y,x,u,b,c],l[14]=y,l[15]=c,l[16]=x,l[17]=u,l[18]=b,l[19]=i):i=l[19],(0,_.useEffect)(r,i),l[20]!==d||l[21]!==m||l[22]!==y||l[23]!==v?(s=()=>{y||m===d||(v({labels:d.map(ia)}),h(d))},o=[y,m,d,v],l[20]=d,l[21]=m,l[22]=y,l[23]=v,l[24]=s,l[25]=o):(s=l[24],o=l[25]),(0,_.useEffect)(s,o)}(e),!function(e){let t,a,n,r,i,s,o,l=(0,p.c)(30),{repository:c,issueType:d,setIssueType:u}=(0,aq.u)(),[m,h]=(0,_.useState)(d),f=c?.owner.login,g=c?.name;l[0]!==f||l[1]!==g?(t={owner:f,repo:g},l[0]=f,l[1]=g,l[2]=t):t=l[2];let{isLoading:y,data:x}=function(e){let t,a,n,r,i=(0,p.c)(13),{owner:s,repo:o}=e,l=(0,ad.useRelayEnvironment)();return i[0]!==l?(t=JSON.stringify(l),i[0]=l,i[1]=t):t=i[1],i[2]!==s||i[3]!==o||i[4]!==t?(a=["copilot-immersive-issue-types",t,s,o],i[2]=s,i[3]=o,i[4]=t,i[5]=a):a=i[5],i[6]!==l||i[7]!==s||i[8]!==o?(n=async()=>s&&o?await (0,ip.RX)(l,{owner:s,repo:o,pageSize:25}):[],i[6]=l,i[7]=s,i[8]=o,i[9]=n):n=i[9],i[10]!==a||i[11]!==n?(r={queryKey:a,queryFn:n},i[10]=a,i[11]=n,i[12]=r):r=i[12],(0,nr.I)(r)}(t);e:{let t;if(!e.issueType||y){a=null;break e}l[3]!==e.issueType||l[4]!==x?(t=x?.find(t=>ih(t.name,e.issueType)),l[3]=e.issueType,l[4]=x,l[5]=t):t=l[5],a=t}let v=a,b=v?.name;l[6]!==e||l[7]!==b?(n={...e,issueType:b},l[6]=e,l[7]=b,l[8]=n):n=l[8];let j=r5(n);l[9]!==y||l[10]!==c||l[11]!==v||l[12]!==u?(r=()=>{y||(c?.viewerIssueCreationPermissions?.typeable?u(v??null):null!=c&&u(null))},l[9]=y,l[10]=c,l[11]=v,l[12]=u,l[13]=r):r=l[13];let C=c?.viewerIssueCreationPermissions?.typeable;l[14]!==y||l[15]!==c||l[16]!==v||l[17]!==u||l[18]!==C?(i=[y,v,u,C,c],l[14]=y,l[15]=c,l[16]=v,l[17]=u,l[18]=C,l[19]=i):i=l[19],(0,_.useEffect)(r,i),l[20]!==d||l[21]!==m?.name||l[22]!==y||l[23]!==j?(s=()=>{y||ih(m?.name,d?.name)||(j({issueType:d?.name}),h(d))},l[20]=d,l[21]=m?.name,l[22]=y,l[23]=j,l[24]=s):s=l[24],l[25]!==d||l[26]!==m||l[27]!==y||l[28]!==j?(o=[y,m,d,j],l[25]=d,l[26]=m,l[27]=y,l[28]=j,l[29]=o):o=l[29],(0,_.useEffect)(s,o)}(e),!function(e){let t,a,n,r,i,s,o=(0,p.c)(28),{repository:l,milestone:c,setMilestone:d}=(0,aq.u)(),[u,m]=(0,_.useState)(c),h=l?.owner.login,f=l?.name;o[0]!==e.milestone||o[1]!==h||o[2]!==f?(t={owner:h,repo:f,milestone:e.milestone},o[0]=e.milestone,o[1]=h,o[2]=f,o[3]=t):t=o[3];let{isLoading:g,data:y}=function(e){let t,a,n,r,i=(0,p.c)(15),{owner:s,repo:o,milestone:l}=e,c=(0,ad.useRelayEnvironment)();return i[0]!==c?(t=JSON.stringify(c),i[0]=c,i[1]=t):t=i[1],i[2]!==l||i[3]!==s||i[4]!==o||i[5]!==t?(a=["copilot-immersive-milestones",t,s,o,l],i[2]=l,i[3]=s,i[4]=o,i[5]=t,i[6]=a):a=i[6],i[7]!==c||i[8]!==l||i[9]!==s||i[10]!==o?(n=async()=>s&&o&&l?(await (0,ii.Ud)(c,{owner:s,repo:o,query:l,count:1}))[0]??null:null,i[7]=c,i[8]=l,i[9]=s,i[10]=o,i[11]=n):n=i[11],i[12]!==a||i[13]!==n?(r={queryKey:a,queryFn:n},i[12]=a,i[13]=n,i[14]=r):r=i[14],(0,nr.I)(r)}(t),x=y?.title;o[4]!==e||o[5]!==x?(a={...e,milestone:x},o[4]=e,o[5]=x,o[6]=a):a=o[6];let v=r5(a);o[7]!==g||o[8]!==l||o[9]!==y||o[10]!==d?(n=()=>{g||(l?.viewerIssueCreationPermissions?.milestoneable?d(y??null):null!=l&&d(null))},o[7]=g,o[8]=l,o[9]=y,o[10]=d,o[11]=n):n=o[11];let b=l?.viewerIssueCreationPermissions?.milestoneable;o[12]!==g||o[13]!==l||o[14]!==y||o[15]!==d||o[16]!==b?(r=[g,y,d,b,l],o[12]=g,o[13]=l,o[14]=y,o[15]=d,o[16]=b,o[17]=r):r=o[17],(0,_.useEffect)(n,r),o[18]!==c||o[19]!==u?.title||o[20]!==g||o[21]!==v?(i=()=>{var e,t;g||(e=u?.title,t=c?.title,e?.toLowerCase()===t?.toLowerCase())||(v({milestone:c?.title}),m(c))},o[18]=c,o[19]=u?.title,o[20]=g,o[21]=v,o[22]=i):i=o[22],o[23]!==c||o[24]!==u||o[25]!==g||o[26]!==v?(s=[g,u,c,v],o[23]=c,o[24]=u,o[25]=g,o[26]=v,o[27]=s):s=o[27],(0,_.useEffect)(i,s)}(e),!function(e){let t,a,n,r,i,s,o,l=(0,p.c)(26),{repository:c,projects:d,setProjects:u}=(0,aq.u)(),[m,h]=(0,_.useState)(d),f=c?.owner.login,g=c?.name;l[0]!==e.projects||l[1]!==f||l[2]!==g?(t={owner:f,repo:g,projects:e.projects},l[0]=e.projects,l[1]=f,l[2]=g,l[3]=t):t=l[3];let{isLoading:y,data:x}=function(e){let t,a,n,r,i=(0,p.c)(15),{owner:s,repo:o,projects:l}=e,c=(0,ad.useRelayEnvironment)();return i[0]!==c?(t=JSON.stringify(c),i[0]=c,i[1]=t):t=i[1],i[2]!==s||i[3]!==l||i[4]!==o||i[5]!==t?(a=["copilot-immersive-projects",t,s,o,l],i[2]=s,i[3]=l,i[4]=o,i[5]=t,i[6]=a):a=i[6],i[7]!==c||i[8]!==s||i[9]!==l||i[10]!==o?(n=async()=>{if(!s||!o||!l||!l.length)return[];let{repositoryProjects:e,recentRepositoryProjects:t,ownerProjects:a,recentOwnerProjects:n}=await (0,is.vj)(c,{owner:s,repo:o,query:l.join(",")}),r=[...[...e,...t,...a,...n].reduce(id,new Map).values()],i=new Set(l.map(ic));return r.filter(il).filter(io).filter(e=>i.has(e.title.toLowerCase()))},i[7]=c,i[8]=s,i[9]=l,i[10]=o,i[11]=n):n=i[11],i[12]!==a||i[13]!==n?(r={queryKey:a,queryFn:n},i[12]=a,i[13]=n,i[14]=r):r=i[14],(0,nr.I)(r)}(t);l[4]!==x?(a=x?.map(im)??[],l[4]=x,l[5]=a):a=l[5],l[6]!==e||l[7]!==a?(n={...e,projects:a},l[6]=e,l[7]=a,l[8]=n):n=l[8];let v=r5(n);l[9]!==y||l[10]!==c||l[11]!==x||l[12]!==u?(r=()=>{!y&&x&&(c?.viewerIssueCreationPermissions?.triageable?u(x):null!=c&&u([]))},l[9]=y,l[10]=c,l[11]=x,l[12]=u,l[13]=r):r=l[13];let b=c?.viewerIssueCreationPermissions?.triageable;l[14]!==y||l[15]!==c||l[16]!==x||l[17]!==u||l[18]!==b?(i=[y,x,u,b,c],l[14]=y,l[15]=c,l[16]=x,l[17]=u,l[18]=b,l[19]=i):i=l[19],(0,_.useEffect)(r,i),l[20]!==d||l[21]!==m||l[22]!==y||l[23]!==v?(s=()=>{y||m===d||(v({projects:d.map(iu)}),h(d))},o=[y,m,d,v],l[20]=d,l[21]=m,l[22]=y,l[23]=v,l[24]=s,l[25]=o):(s=l[24],o=l[25]),(0,_.useEffect)(s,o)}(e),null==f)return r?(0,m.jsx)(aO.Q,{optionConfig:{useViewportQueries:!1}}):(0,m.jsx)(aU,{title:"Repository required",description:"Please select a repository above to continue creating your issue.",icon:B.IssueDraftIcon});let w=C.messages.at(-1);if(w&&rV(w,["switch-issue-template","switch-issue-repo"]))return(0,m.jsx)(aO.Q,{optionConfig:{useViewportQueries:!1}});let I=C.messages.find(t=>t.id===e.messageId),T=I?.parentMessageIndex!==void 0?C.messages[I.parentMessageIndex]:void 0;if(I&&T){let e=a&&(0,ng.GQ)(a.data),t=0===Object.keys(h||{}).length,n=!C.isWaitingOnCopilot,r=I.messageIndex===C.messages.length-1,i="assistant"===I.role,s=rV(T,["automatic-retry"]);if(e&&t)if(!n)return(0,m.jsx)(aO.Q,{optionConfig:{useViewportQueries:!1}});else if(r&&i&&!s)return j(I,"Copilot failed to use the issue template, retrying\u2026"),(0,m.jsx)(aO.Q,{optionConfig:{useViewportQueries:!1}});else return(0,m.jsx)(aU,{title:"Copilot failed to create an issue",description:"Copilot failed to use the issue template. Please retry or choose a different template.",icon:B.IssueDraftIcon})}return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(nB.e,{repository:f,title:y,body:v,setTitle:e=>{x(e),s?.({name:e})},setBody:e=>{b(e),s?.({body:e})},clearOnCreate:S,issueFormRef:n,onCreateSuccess:({issue:e})=>i?.(e),onCreateError:nM.l,onCancel:S,onBeforeCreate:l,defaultValuesById:h,selectedTemplate:a,onFieldChange:c}),t?.children&&t.children.length>0&&(0,m.jsx)(r1,{issue:e})]})}try{ig.displayName||(ig.displayName="CreateIssueForm")}catch{}let iy={container:"CreateIssuePreview-module__container--UdBdV IssuePreview-module__container--XUu9S",toolbar:"CreateIssuePreview-module__toolbar--KnRki FilePreview-module__toolbar--toYCM",toolbarLeft:"CreateIssuePreview-module__toolbarLeft--WCzxL FilePreview-module__toolbarLeft--FG_Fy",toolbarActions:"CreateIssuePreview-module__toolbarActions--euLmx FilePreview-module__toolbarActions--GZPSm",feedbackLink:"CreateIssuePreview-module__feedbackLink--i1Sf3",parentSelectorAnchor:"CreateIssuePreview-module__parentSelectorAnchor--rUXEz",truncateText:"CreateIssuePreview-module__truncateText--ggLwU",form:"CreateIssuePreview-module__form--t92hw"};function ix({node:e,onItemSelected:t}){let a=(0,_.useMemo)(()=>{let t=[],a=e;for(;a;)t.push(a),a=a.parent;return t.reverse()},[e]);if(e.parent&&eT.W.draftIssueTree)return(0,m.jsxs)(tD.W,{children:[(0,m.jsxs)(tD.W.Button,{variant:"invisible",className:iy.parentSelectorAnchor,children:[(0,m.jsx)("span",{className:"fgColor-muted",children:"Parent:"})," ",e?.parent?.item.name]}),(0,m.jsx)(tD.W.Overlay,{width:"large",children:(0,m.jsx)(tB.l,{children:a.map((a,n)=>(0,m.jsxs)(tB.l.Item,{active:a.item.tag===e.item.tag,onSelect:()=>t(a),sx:{paddingLeft:`calc(${n} * var(--base-size-12))`},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(aX,{...a.item})}),(0,m.jsx)("div",{className:iy.truncateText,children:a.item.name})]},a.item.tag))})})]})}try{ix.displayName||(ix.displayName="ParentSelector")}catch{}var i_=a(66576);let iv={container:"RepositoryPicker-module__container--LguWf",label:"RepositoryPicker-module__label--UrLpA",ssoBanner:"RepositoryPicker-module__ssoBanner--iob3k"};function ib(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(23),{draftIssue:u,resolvedDraftIssueRepo:h,loadingDraftIssueRepo:f,topRepos:g}=e,[y,v]=(0,_.useState)(void 0),{repository:b,setRepository:j}=(0,aq.u)(),C=r5(u),N=function(e){let t,a=(0,p.c)(5),n=(0,q.b)(),r=(0,W.Pk)(),{updateItem:i}=(0,au.xx)();return a[0]!==e||a[1]!==n||a[2]!==r||a[3]!==i?(t=async(t,a)=>{let s=`${a}/${t}`,o=[{type:"text",name:`timeline-event: {"type": "switch-issue-repo", "markdownContent": "Changing repository to ${s}\u{2026}"}`,text:`Update the selected draft issue to use the \`${s}\` repository. DO NOT ask the user for a template. If there is a template in the new repository that makes sense to use, use it. If you cannot find a template, draft a blank issue. Regenerate the title and description. Maintain all conversation context. Update the metadata to follow the new repository and template. DO NOT change the \`tag\` field.`}];if(e.isUserEdited){let t={...e,...s&&{repository:s},isUserEdited:!1};i(t),o.push((0,aj.g)(t))}await n.sendChatMessage({thread:(0,nI.W)(r),content:`Use the ${s} repository`,references:o,topic:r.currentTopic,context:r.context,customInstructions:r.customInstructions,model:r.model})},a[0]=e,a[1]=n,a[2]=r,a[3]=i,a[4]=t):t=a[4],t}(u);d[0]!==C||d[1]!==N||d[2]!==j?(t=e=>{null!=e&&(eT.W.draftIssueCodeSearch?N(e.name,e.owner.login):C({repository:e.nameWithOwner,template:void 0},!1),j(e))},d[0]=C,d[1]=N,d[2]=j,d[3]=t):t=d[3];let S=t;!function(e,t,a,n){let r,i,s,o,l,c=(0,p.c)(13),{repository:d,setRepository:u}=(0,aq.u)(),[m,h]=(0,_.useState)(d),f=r5(e);t?.nameWithOwner,d?.nameWithOwner,r=!a&&t?.nameWithOwner==null||t?.nameWithOwner===d?.nameWithOwner,c[0]!==e.isStreaming||c[1]!==a||c[2]!==t||c[3]!==u||c[4]!==n?(i=()=>{e.isStreaming||a||(null!=t?u(t):null!=n&&n.length>0?u(n[0]):u(void 0))},s=[e.isStreaming,a,t,u,n],c[0]=e.isStreaming,c[1]=a,c[2]=t,c[3]=u,c[4]=n,c[5]=i,c[6]=s):(i=c[5],s=c[6]),(0,_.useEffect)(i,s),c[7]!==d||c[8]!==m||c[9]!==f||c[10]!==r?(o=()=>{m!==d&&(f({repository:d?.nameWithOwner},r),h(d))},l=[f,d,r,m],c[7]=d,c[8]=m,c[9]=f,c[10]=r,c[11]=o,c[12]=l):(o=c[11],l=c[12]),(0,_.useEffect)(o,l)}(u,h,f,g),d[4]!==b||d[5]!==f||d[6]!==g?(a=()=>{f||null==b||null==g||g.find(e=>e.id===b.id)||v(b.id)},n=[b,f,g],d[4]=b,d[5]=f,d[6]=g,d[7]=a,d[8]=n):(a=d[7],n=d[8]),(0,_.useEffect)(a,n);let{ssoOrganizations:w}=(0,W.Pk)();d[9]!==w?(i=w?.map(iC)??[],d[9]=w,d[10]=i):i=d[10],r=i;let I=b??g?.[0],T=u.isStreaming||f;return d[11]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)(i_.A,{className:(0,x.$)(iv.label,"sr-only"),required:!0,children:"Repository"}),d[11]=s):s=d[11],d[12]!==T?(o={hasIssuesEnabled:!0,readonly:T},d[12]=T,d[13]=o):o=d[13],d[14]!==r?(l=(0,Y.G7)("global_sso_banner")?void 0:(0,m.jsx)(z.x,{className:iv.ssoBanner,forceWrap:!0,protectedOrgs:r,maxVisibleOrgNames:0,redirectURI:ij}),d[14]=r,d[15]=l):l=d[15],d[16]!==y||d[17]!==S||d[18]!==I||d[19]!==o||d[20]!==l||d[21]!==g?(c=(0,m.jsxs)("div",{className:iv.container,children:[s,(0,m.jsx)(na.f0,{initialRepository:I,onSelect:S,options:o,topRepositories:g,enforceAtleastOneSelected:!0,subtitle:l},y)]}),d[16]=y,d[17]=S,d[18]=I,d[19]=o,d[20]=l,d[21]=g,d[22]=c):c=d[22],c}function ij(){return`/search/refresh_blackbird_caches?return_to=${location.href}`}function iC(e){return e.login}try{ib.displayName||(ib.displayName="RepositoryPicker")}catch{}let iN=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i=[a,n,r,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],s=[a,n,r,{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"TemplatePickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[a,{kind:"InlineDataFragmentSpread",name:"TemplatePickerForm",selections:i,args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[a,{kind:"InlineDataFragmentSpread",name:"TemplatePickerTemplate",selections:s,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"TemplatePickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:s,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"453f03781d915408c3c338e5d346e0be",metadata:{},name:"TemplatePickerQuery",operationKind:"query",text:null}}}();iN.hash="582a468668cd62a5a95ad0f91f7ea5e5";let iS={kind:"InlineDataFragment",name:"TemplatePickerForm"};iS.hash="277026edd019ed6ef2c9d27b3d3d6c4a";let iw={kind:"InlineDataFragment",name:"TemplatePickerTemplate"};iw.hash="fa6038bb9389af7bff23ba3491dd0507";var iI=a(52550),iT=a(69487);function ik(e,t){return e.filename.localeCompare(t.filename)}function iE(e){return(0,iT.readInlineData)(iS,e)}function iA(e){return(0,iT.readInlineData)(iw,e)}function iL(e){let t,a,n,r,i=(0,p.c)(10),{draftIssue:s}=e,{repository:o}=(0,aq.u)(),l=o?.owner.login,c=o?.name;i[0]!==l||i[1]!==c?(t={owner:l,repo:c},i[0]=l,i[1]=c,i[2]=t):t=i[2];let{data:d}=function(e){let t,a,n,r,i=(0,p.c)(13),{owner:s,repo:o}=e,l=(0,ad.useRelayEnvironment)();return i[0]!==l?(t=JSON.stringify(l),i[0]=l,i[1]=t):t=i[1],i[2]!==s||i[3]!==o||i[4]!==t?(a=["copilot-immersive-templates",t,s,o],i[2]=s,i[3]=o,i[4]=t,i[5]=a):a=i[5],i[6]!==l||i[7]!==s||i[8]!==o?(n=async()=>{if(!s||!o)return[];let e=await (0,iT.fetchQuery)(l,iN,{owner:s,repo:o}).toPromise();return[...(e?.repository?.issueTemplates||[]).map(iA),...(e?.repository?.issueForms||[]).map(iE)].sort(ik)},i[6]=l,i[7]=s,i[8]=o,i[9]=n):n=i[9],i[10]!==a||i[11]!==n?(r={queryKey:a,queryFn:n},i[10]=a,i[11]=n,i[12]=r):r=i[12],(0,nr.I)(r)}(t);if(null==d||0===d.length)return null;i[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)("span",{children:"/"}),i[3]=a):a=i[3],i[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.jsx)(i_.A,{className:(0,x.$)(iv.label,"sr-only"),children:"Template"}),i[4]=n):n=i[4];let u=o?.nameWithOwner,h=o?.isBlankIssuesEnabled;return i[5]!==s||i[6]!==u||i[7]!==h||i[8]!==d?(r=(0,m.jsxs)(m.Fragment,{children:[a,(0,m.jsxs)("div",{className:iv.container,children:[n,(0,m.jsx)(iR,{templates:d,draftIssue:s,repositoryNwo:u,isBlankIssuesEnabled:h})]})]}),i[5]=s,i[6]=u,i[7]=h,i[8]=d,i[9]=r):r=i[9],r}function iR(e){let t,a,n,r,i,s,o,l,c=(0,p.c)(23),{templates:d,draftIssue:u,isBlankIssuesEnabled:h,repositoryNwo:f}=e,[g,y]=(0,_.useState)("");e:{let e;if(!g){t=d;break e}c[0]!==g||c[1]!==d?(e=d?.filter(e=>e.name?.toLowerCase().includes(g.toLowerCase())),c[0]=g,c[1]=d,c[2]=e):e=c[2],t=e}let x=t,[v,b]=(0,_.useState)(void 0);c[3]!==u.template||c[4]!==d?(a=()=>{if(!u.template)return void b(void 0);let e=u.template.split("/").pop();b(d?.find(t=>t.filename===e))},n=[d,u.template],c[3]=u.template,c[4]=d,c[5]=a,c[6]=n):(a=c[5],n=c[6]),(0,_.useEffect)(a,n);let j=function(){let e,t=(0,p.c)(4),a=(0,q.b)(),n=(0,W.Pk)(),{updateItem:r}=(0,au.xx)();return t[0]!==a||t[1]!==n||t[2]!==r?(e=async(e,t,i)=>{let s=[{type:"text",name:`timeline-event: {"type": "switch-issue-template", "markdownContent": "${t?`Changing template to '${t.name}'\u{2026}`:"Removing template\u2026"}"}`,text:t?`Update the selected draft issue with the \`${t.filename}\` template${i?` in the \`${i}\` repository`:""}. Regenerate the title and description following the new template. Maintain all conversation context. Update the metadata to follow the new template. DO NOT change the \`tag\` field.`:"Update the selected draft issue to remove the template formatting. Regenerate the title and description to follow a generic format. Maintain all conversation context. DO NOT change the `tag` field."}];if(e.isUserEdited){let t={...e,...i&&{repository:i},isUserEdited:!1};r(t),s.push((0,aj.g)(t))}await a.sendChatMessage({thread:(0,nI.W)(n),content:t?`Use the '${t.name}' template`:"Remove the template",references:s,topic:n.currentTopic,context:n.context,customInstructions:n.customInstructions,model:n.model})},t[0]=a,t[1]=n,t[2]=r,t[3]=e):e=t[3],e}(),C=(0,_.useRef)(null),N=null!=h&&!h;return c[7]!==x?(r=x??[],c[7]=x,c[8]=r):r=c[8],c[9]!==v?(i=v?[v]:[],c[9]=v,c[10]=i):i=c[10],c[11]!==v||c[12]!==N?(s=e=>(0,m.jsxs)(e$.Q,{trailingVisual:B.TriangleDownIcon,...e,ref:C,children:[v?(0,m.jsx)("span",{children:v.name}):"Select a template",N&&(0,m.jsx)("span",{style:{color:"red",marginLeft:4},children:"*"})]}),c[11]=v,c[12]=N,c[13]=s):s=c[13],c[14]!==u||c[15]!==j||c[16]!==f?(o=async e=>{let[t]=e;b(t),await j(u,t,f)},c[14]=u,c[15]=j,c[16]=f,c[17]=o):o=c[17],c[18]!==r||c[19]!==i||c[20]!==s||c[21]!==o?(l=(0,m.jsx)(iI.O,{items:r,initialSelectedItems:i,placeholderText:"Search",selectionVariant:"single",filterItems:y,title:"Select a template",renderAnchor:s,getItemKey:iP,convertToItemProps:iD,onSelectionChange:o,selectPanelRef:C,height:"large",width:"medium"}),c[18]=r,c[19]=i,c[20]=s,c[21]=o,c[22]=l):l=c[22],l}function iD(e){return{id:e.filename,text:e.name,description:("IssueTemplate"===e.__typename?e.about:e.description)||void 0,descriptionVariant:"block",source:e}}function iP(e){return e.filename}try{iL.displayName||(iL.displayName="TemplatePicker")}catch{}try{iR.displayName||(iR.displayName="TemplatePickerInternal")}catch{}var iB=a(24058);function iM(e){var t;let a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C,N,S,w,I,T,k,E,A,L,R=(0,p.c)(84),{isPreviewOpening:D,issue:P,onClose:M}=e,{openItem:O}=(0,au.xx)(),F=ns();R[0]!==P.tag||R[1]!==F?(a=F.get(P.tag),R[0]=P.tag,R[1]=F,R[2]=a):a=R[2];let $=a,[U,V]=(0,_.useState)(D);R[3]!==U?(n=()=>{if(U){let e=setTimeout(()=>V(!1),400);return()=>clearTimeout(e)}},r=[U],R[3]=U,R[4]=n,R[5]=r):(n=R[4],r=R[5]),(0,_.useEffect)(n,r);let{selectedThreadID:z}=(0,W.Pk)(),{isLoading:H,data:q}=function(){let e,t,a,n,r=(0,p.c)(9),i=(0,ad.useRelayEnvironment)();return r[0]!==i?(e=JSON.stringify(i),r[0]=i,r[1]=e):e=r[1],r[2]!==e?(t=["copilot-immersive-top-repos",e],r[2]=e,r[3]=t):t=r[3],r[4]!==i?(a=async()=>await (0,na.St)(i,{first:10,hasIssuesEnabled:!0}),r[4]=i,r[5]=a):a=r[5],r[6]!==t||r[7]!==a?(n={queryKey:t,queryFn:a},r[6]=t,r[7]=a,r[8]=n):n=r[8],(0,nr.I)(n)}();R[6]!==P.repository?(i=P.repository?.split("/")??[],R[6]=P.repository,R[7]=i):i=R[7];let[G,K]=i;R[8]!==G||R[9]!==K?(s={owner:G,repo:K},R[8]=G,R[9]=K,R[10]=s):s=R[10];let{isLoading:Q,data:Y}=function(e){let t,a,n,r,i=(0,p.c)(13),{owner:s,repo:o}=e,l=(0,ad.useRelayEnvironment)();return i[0]!==l?(t=JSON.stringify(l),i[0]=l,i[1]=t):t=i[1],i[2]!==s||i[3]!==o||i[4]!==t?(a=["copilot-immersive-current-repo",t,s,o],i[2]=s,i[3]=o,i[4]=t,i[5]=a):a=i[5],i[6]!==l||i[7]!==s||i[8]!==o?(n=async()=>s&&o?await (0,na.tZ)(l,s,o):null,i[6]=l,i[7]=s,i[8]=o,i[9]=n):n=i[9],i[10]!==a||i[11]!==n?(r={queryKey:a,queryFn:n},i[10]=a,i[11]=n,i[12]=r):r=i[12],(0,nr.I)(r)}(s),[X,Z]=(0,_.useState)(Y);R[11]!==Y?(o=()=>{Y&&Z(Y)},l=[Y],R[11]=Y,R[12]=o,R[13]=l):(o=R[12],l=R[13]),(0,_.useEffect)(o,l),c=null!=X&&(!X.hasIssuesEnabled||null!=X.viewerInteractionLimitReasonHTML&&X.viewerInteractionLimitReasonHTML?.length>0);let ee=nm(),et=nk();R[14]!==P.parentTag||R[15]!==P.tag||R[16]!==P.template||R[17]!==et?(d=async e=>{await et([{tag:P.tag,parentTag:P.parentTag,template:P.template,repository:{databaseId:e.repository.databaseId,name:e.repository.name,owner:{login:e.repository.owner.login}},number:e.number,title:e.title,url:e.url}])},R[14]=P.parentTag,R[15]=P.tag,R[16]=P.template,R[17]=et,R[18]=d):d=R[18];let ea=d,en=r5(P),er=function(e,t){let a,n=(0,p.c)(3);return n[0]!==e||n[1]!==t?(a=(a,n,r)=>{let i=a||`${iB.y}-${n}`;if(e.defaultValuesById&&e.defaultValuesById[i]===r)return;let s={...e,defaultValuesById:{...e.defaultValuesById}};s.defaultValuesById[i]=r,t(s,!1)},n[0]=e,n[1]=t,n[2]=a):a=n[2],a}(P,en),ei=(0,_.useRef)(null),es=function(e){let t,a=(0,p.c)(2);a[0]!==e.current?(t=()=>!e.current||e.current.clientWidth<1024,a[0]=e.current,a[1]=t):t=a[1];let n=t;return(0,_.useSyncExternalStore)(iO,n)}(ei),eo=eT.W.draftIssueTree&&$?.parent!=null,el=(0,_.useRef)(null),ec=Y?.id??"",ed=P.template||"";R[19]!==ec||R[20]!==ed?(u={repoId:ec,filename:ed},R[19]=ec,R[20]=ed,R[21]=u):u=R[21];let{isLoading:eu,data:em}=function(e){let t,a,n,r,i=(0,p.c)(13),{repoId:s,filename:o}=e,l=(0,ad.useRelayEnvironment)();return i[0]!==l?(t=JSON.stringify(l),i[0]=l,i[1]=t):t=i[1],i[2]!==o||i[3]!==s||i[4]!==t?(a=["copilot-immersive-template-payload",t,s,o],i[2]=o,i[3]=s,i[4]=t,i[5]=a):a=i[5],i[6]!==l||i[7]!==o||i[8]!==s?(n=async()=>s&&o?await nC(l,s,o):null,i[6]=l,i[7]=o,i[8]=s,i[9]=n):n=i[9],i[10]!==a||i[11]!==n?(r={queryKey:a,queryFn:n},i[10]=a,i[11]=n,i[12]=r):r=i[12],(0,nr.I)(r)}(u),ep=Y??void 0;R[22]!==ep?(h={repository:ep},R[22]=ep,R[23]=h):h=R[23];let eh=h;if(U||H||eu){let e;return R[24]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(aO.Q,{optionConfig:{useViewportQueries:!1}}),R[24]=e):e=R[24],e}let ef=`${P.id}@${z}`;return R[25]!==es||R[26]!==ef?(f=(0,aB.S)({storageKeyPrefix:ef,insidePortal:es}),R[25]=es,R[26]=ef,R[27]=f):f=R[27],R[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,aF.G)("create-issue-preview"),R[28]=g):g=R[28],R[29]!==P?(y=(0,m.jsx)("div",{children:(0,m.jsx)(az,{item:P})}),R[29]=P,R[30]=y):y=R[30],R[31]!==$||R[32]!==O||R[33]!==eo?(x=eo&&(0,m.jsx)("div",{children:(0,m.jsx)(ix,{node:$,onItemSelected:e=>O(e.item.id,!0)})}),R[31]=$,R[32]=O,R[33]=eo,R[34]=x):x=R[34],R[35]!==y||R[36]!==x?(v=(0,m.jsxs)("div",{className:iy.toolbarLeft,children:[y,x]}),R[35]=y,R[36]=x,R[37]=v):v=R[37],R[38]===Symbol.for("react.memo_cache_sentinel")?(b=(0,m.jsx)(aA.A,{href:"https://gh.io/copilot-create-issues-feedback",className:iy.feedbackLink,children:"Give feedback"}),R[38]=b):b=R[38],R[39]!==$||R[40]!==c||R[41]!==M||R[42]!==em?(j=(0,m.jsxs)("div",{className:iy.toolbarActions,children:[b,(0,m.jsx)(nP,{issueTemplate:em,issueNode:$,issueFormRef:el,noRepoAccess:c,onClose:M})]}),R[39]=$,R[40]=c,R[41]=M,R[42]=em,R[43]=j):j=R[43],R[44]!==v||R[45]!==j?(C=(0,m.jsxs)("div",{className:iy.toolbar,children:[v,j]}),R[44]=v,R[45]=j,R[46]=C):C=R[46],R[47]!==q?(N=q||[],R[47]=q,R[48]=N):N=R[48],R[49]!==P||R[50]!==Y||R[51]!==Q||R[52]!==N?(S=(0,m.jsx)(ib,{draftIssue:P,resolvedDraftIssueRepo:Y,loadingDraftIssueRepo:Q,topRepos:N}),R[49]=P,R[50]=Y,R[51]=Q,R[52]=N,R[53]=S):S=R[53],R[54]!==P?(w=(0,m.jsx)(iL,{draftIssue:P}),R[54]=P,R[55]=w):w=R[55],R[56]!==S||R[57]!==w?(I=(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"condensed",className:"py-2",children:[S,w]}),R[56]=S,R[57]=w,R[58]=I):I=R[58],R[59]!==Y||R[60]!==c?(T=c&&((t=Y)&&!t.hasIssuesEnabled?(0,m.jsx)(aU,{title:"Issues are disabled",description:"Issues are disabled on this repository. Please select a different repository above to continue creating your issue.",icon:B.IssueDraftIcon}):t&&t.viewerInteractionLimitReasonHTML?(0,m.jsx)(aU,{title:"You cannot create issues in this repository",description:t.viewerInteractionLimitReasonHTML,icon:B.IssueDraftIcon}):void 0),R[59]=Y,R[60]=c,R[61]=T):T=R[61],R[62]!==$||R[63]!==P||R[64]!==Y||R[65]!==c||R[66]!==en||R[67]!==M||R[68]!==ea||R[69]!==er||R[70]!==em||R[71]!==ee?(k=!c&&(0,m.jsx)(ig,{draftIssue:P,issueNode:$,template:em??void 0,issueFormRef:el,onCreate:ea,onChange:en,onClose:M,onBeforeCreate:e=>ee(Y,e),onFieldChange:er}),R[62]=$,R[63]=P,R[64]=Y,R[65]=c,R[66]=en,R[67]=M,R[68]=ea,R[69]=er,R[70]=em,R[71]=ee,R[72]=k):k=R[72],R[73]!==I||R[74]!==T||R[75]!==k?(E=(0,m.jsxs)("div",{className:iy.form,children:[I,T,k]}),R[73]=I,R[74]=T,R[75]=k,R[76]=E):E=R[76],R[77]!==C||R[78]!==E?(A=(0,m.jsxs)("div",{className:iy.container,ref:ei,children:[C,E]}),R[77]=C,R[78]=E,R[79]=A):A=R[79],R[80]!==eh||R[81]!==f||R[82]!==A?(L=(0,m.jsx)(aM.S,{optionConfig:f,preselectedData:eh,...g,children:A}),R[80]=eh,R[81]=f,R[82]=A,R[83]=L):L=R[83],L}function iO(e){let t=new ResizeObserver(e);return t.observe(document.documentElement),()=>{t.unobserve(document.documentElement),t.disconnect()}}try{iM.displayName||(iM.displayName="CreateIssuePreview")}catch{}var iF=a(48975),i$=a(16815);function iU({isPreviewOpening:e,issue:t,onClose:a}){let[n,r]=(0,_.useState)(e),{openItem:i}=(0,au.xx)(),s=ns().get(t.tag),o=(0,_.useRef)(null);(0,_.useEffect)(()=>{if(n){let e=setTimeout(()=>r(!1),400);return()=>clearTimeout(e)}},[n]);let l=(0,_.useMemo)(()=>(0,m.jsx)(tP.K,{icon:B.LinkExternalIcon,variant:"invisible","aria-label":"Open issue in new tab",onClick:()=>{window.open(t.href,"_blank")}}),[t.href]),c=(0,_.useMemo)(()=>({navigate:nM.l,insideSidePanel:!0,shouldSkipSetDocumentTitle:!0,titleAs:"h2",useViewportQueries:!1,withLiveUpdates:!0,onIssueDelete:a,additionalHeaderActions:l,showRepositoryPill:!0}),[a,l]),d=(0,_.useMemo)(()=>{let[e,a]=t.repository.split("/");if(e&&a)return{owner:e,repo:a,number:t.number,type:"Issue"}},[t.number,t.repository]);return n||!d?(0,m.jsx)(aO.Q,{optionConfig:c}):(0,m.jsxs)("div",{className:iy.container,children:[(0,m.jsxs)("div",{className:iy.toolbar,children:[(0,m.jsx)("div",{className:iy.toolbarLeft,children:s.parent&&(0,m.jsx)(ix,{node:s,onItemSelected:e=>i(e.item.id,!0)})}),(0,m.jsxs)("div",{className:iy.toolbarActions,children:[(0,m.jsx)(aA.A,{href:"https://gh.io/copilot-create-issues-feedback",className:iy.feedbackLink,children:"Give feedback"}),(0,m.jsx)(aM.S,{optionConfig:(0,aB.S)({insidePortal:!0}),preselectedData:void 0,children:(0,m.jsx)(nP,{issueNode:s,issueTemplate:void 0,issueFormRef:o,noRepoAccess:!1,onClose:a})})]})]}),(0,m.jsx)(i$.e,{children:(0,m.jsx)(iF.cI,{itemIdentifier:d,optionConfig:c})})]})}try{iU.displayName||(iU.displayName="ExistingIssuePreview")}catch{}var iV=a(15128),iW=a(8579),iz=a(67991),iH=a(73451),iq=a(65607),iG=a(23125);function iK(e){let t,a,n,r=(0,p.c)(6);return r[0]!==e?(a=function({language:e,value:t}){var a;let n=(a=t,/^\t/m.test(a)?"tab":"space");return{indentUnit:function(e,t){if("space"!==t)return 4;{var a;let t=e.match(/^( +)[^*]/im);return void 0!==(a=t?.[1]?.length)&&a>=1&&a<=12?a:2}}(t,n),indentWithTabs:"tab"===n,lineWrapping:function(e){let t=(0,nz.vL)(e);return t?.wrap??!1}(e)}}(e),r[0]=e,r[1]=a):a=r[1],t=a,r[2]!==t.indentUnit||r[3]!==t.indentWithTabs||r[4]!==t.lineWrapping?(n={indentUnit:t.indentUnit,indentWithTabs:t.indentWithTabs,lineWrapping:t.lineWrapping},r[2]=t.indentUnit,r[3]=t.indentWithTabs,r[4]=t.lineWrapping,r[5]=n):n=r[5],n}var iQ=a(67621),iY=a(83510);let iJ={container:"CodeMirrorDiff-module__container--fR_lG"};var iX=a(53839),iZ=a(87556),i0=a(11617),i1=a(36185),i2=a(82521),i3=a(82360),i4=a(84763),i5=a(24774),i6=a(90989);function i7(e){return"split"===e.view?(0,m.jsx)(i8,{...e}):(0,m.jsx)(i9,{...e})}function i8(e){let t=(0,_.useRef)(null);return!function({fileName:e,left:t,leftLabelledBy:a,parentRef:n,right:r,rightLabelledBy:i,spacing:s}){let o=(0,_.useRef)(null),l=(0,_.useMemo)(()=>new iX.xx,[]),c=(0,_.useMemo)(()=>new iX.xx,[]),d=(0,_.useMemo)(()=>new iX.xx,[]),[u,m]=(0,_.useMemo)(()=>{let e=[...i0.o,...(0,i1.u)(s),(0,i2.h)(),c.of([]),l.of([]),d.of([(0,i3.O)()]),(0,i6.T)()],t=[(0,i4.I)(a),i5.Lz.contentAttributes.of({"aria-labelledby":a})],n=[(0,i4.I)(i),i5.Lz.contentAttributes.of({"aria-labelledby":i})];return[e.concat(t),e.concat(n)]},[s,c,l,d,a,i]);(0,_.useEffect)(()=>{let a=n.current;if(a)return o.current=new iY.SV({a:{doc:t,extensions:u},b:{doc:r,extensions:m},parent:a,gutter:!1}),(0,iZ.r)({autoCompleteCompartment:l,fileName:e,languageCompartment:c,managedExtensions:[],themeCompartment:d,view:o.current?.a,viewB:o.current?.b}),()=>o.current?.destroy()},[])}({...e,parentRef:t}),(0,m.jsx)("div",{ref:t,className:iJ.container})}function i9(e){let t=(0,_.useMemo)(()=>[(0,iY.ex)({original:e.left,mergeControls:!1,gutter:!1})],[e.left]);return(0,m.jsx)(iV.default,{ariaLabelledBy:e.unifiedLabelledBy,containerClassName:iJ.container,fileName:e.fileName,height:"100%",isReadOnly:!0,spacing:e.spacing,value:e.right,onChange:nM.l,placeholder:"Loading...",hideHelp:!0,extensions:t})}try{i7.displayName||(i7.displayName="CodeMirrorDiff")}catch{}try{i8.displayName||(i8.displayName="CodeMirrorDiffSplit")}catch{}try{i9.displayName||(i9.displayName="CodeMirrorDiffUnified")}catch{}function se(e){let t,a,n,r,i,s=(0,p.c)(24),{left:o,right:l,view:c}=e,d=(0,_.useId)(),u=(0,_.useId)(),h=(0,_.useId)(),f=iK(o);return s[0]!==o.name||s[1]!==d?(t=(0,m.jsxs)("span",{id:d,className:"sr-only",children:[o.name," original file contents"]}),s[0]=o.name,s[1]=d,s[2]=t):t=s[2],s[3]!==l.name||s[4]!==u?(a=(0,m.jsxs)("span",{id:u,className:"sr-only",children:[l.name," modified file contents"]}),s[3]=l.name,s[4]=u,s[5]=a):a=s[5],s[6]!==o.name||s[7]!==l.name||s[8]!==h?(n=(0,m.jsxs)("span",{id:h,className:"sr-only",children:[o.name," and ",l.name," unified diff view"]}),s[6]=o.name,s[7]=l.name,s[8]=h,s[9]=n):n=s[9],s[10]!==f||s[11]!==o.name||s[12]!==o.value||s[13]!==d||s[14]!==l.value||s[15]!==u||s[16]!==h||s[17]!==c?(r=(0,m.jsx)(i7,{fileName:o.name,left:o.value,leftLabelledBy:d,right:l.value,rightLabelledBy:u,spacing:f,unifiedLabelledBy:h,view:c}),s[10]=f,s[11]=o.name,s[12]=o.value,s[13]=d,s[14]=l.value,s[15]=u,s[16]=h,s[17]=c,s[18]=r):r=s[18],s[19]!==t||s[20]!==a||s[21]!==n||s[22]!==r?(i=(0,m.jsxs)("div",{children:[t,a,n,r]}),s[19]=t,s[20]=a,s[21]=n,s[22]=r,s[23]=i):i=s[23],i}try{se.displayName||(se.displayName="DiffView")}catch{}let st=e=>{let t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=e.name||"file",a.click(),URL.revokeObjectURL(t)},sa={container:"FilePreview-module__container--_pENP",previewContainer:"FilePreview-module__previewContainer--vjKjn",codeMirrorContainer:"FilePreview-module__codeMirrorContainer--bIVZV",toolbar:"FilePreview-module__toolbar--toYCM",toolbarLeft:"FilePreview-module__toolbarLeft--FG_Fy",toolbarLoC:"FilePreview-module__toolbarLoC--cjBe0",toolbarActions:"FilePreview-module__toolbarActions--GZPSm",footer:"FilePreview-module__footer--pwLuO"};var sn=a(50539);let sr={ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",READY:"READY"};function si(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}let ss={container:"SandboxView-module__container--_qS7F",iframe:"SandboxView-module__iframe--bgP8I"},so={error:"ErrorMessage-module__error--EPInF",errorIcon:"ErrorMessage-module__errorIcon--qRxBg",errorHeader:"ErrorMessage-module__errorHeader--ePU6Q"};function sl(e){let t,a=(0,p.c)(4),{error:n}=e;if(a[0]!==n){let e,r,i=n?.split(`
`)??[];a[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("span",{className:so.errorIcon,children:(0,m.jsx)(B.StopIcon,{size:24})}),r=(0,m.jsx)("h2",{className:so.errorHeader,children:"HTML rendering failed"}),a[2]=e,a[3]=r):(e=a[2],r=a[3]),t=(0,m.jsxs)("div",{className:so.error,children:[e,r,i.length>0?(0,m.jsx)("p",{children:i.map(sc)}):(0,m.jsx)("p",{children:"Refresh the page or check the HTML"})]}),a[0]=n,a[1]=t}else t=a[1];return t}function sc(e){return(0,m.jsxs)(m.Fragment,{children:[e,(0,m.jsx)("br",{})]},`error-line-${e}}`)}try{sl.displayName||(sl.displayName="ErrorMessage")}catch{}function sd(e){let t,a,n,r,i=(0,p.c)(14),{content:s,inlineScripts:o,inlineStyles:l,headScripts:c,bodyScripts:d,styles:u,viewscreenUrl:h}=e,f=(0,Y.G7)("viewscreen_sandbox");i[0]!==h?(a=new URL("view/sandbox?url=client://sandbox",h).toString(),t=new URL(a,eg.fV.origin),i[0]=h,i[1]=t,i[2]=a):(t=i[1],a=i[2]);let g=t.origin,y=(0,_.useRef)(null),x=(0,_.useRef)(null);i[3]!==d||i[4]!==s||i[5]!==c||i[6]!==o||i[7]!==l||i[8]!==u?(n={content:s,headScripts:c,bodyScripts:d,inlineScripts:o,inlineStyles:l,styles:u},i[3]=d,i[4]=s,i[5]=c,i[6]=o,i[7]=l,i[8]=u,i[9]=n):n=i[9];let{renderState:v,errorMessage:b}=function(e,t,a,n){let r,i,s,o,l,c,d=(0,p.c)(16),[u,m]=(0,_.useState)(sr.LOADING),[h,f]=(0,_.useState)();d[0]!==t||d[1]!==e||d[2]!==n?(r=a=>(function(e,t,a,n,r,i){let s=function(e){var t;let a=e.data;if(!a)return null;if("string"==typeof a)try{a=JSON.parse(a)}catch{return null}return"object"==typeof(t=a)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?a:null}(e);if(!s)return;let o=s.body,l=a.current?.contentWindow;switch(o){case"hello":si(l,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),si(l,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":i(sr.ERROR),s.payload?.error&&r(s.payload.error);break;case"loading":i(sr.LOADING);break;case"loaded":if(!a.current||!n.current)return;i(sr.LOADED);break;case"ready":if(!a.current||!n.current)return;i(sr.READY)}})(a,0,e,t,f,m),d[0]=t,d[1]=e,d[2]=n,d[3]=r):r=d[3];let g=r;return d[4]!==g?(i=()=>(window.addEventListener("message",g),()=>window.removeEventListener("message",g)),s=[g],d[4]=g,d[5]=i,d[6]=s):(i=d[5],s=d[6]),(0,_.useEffect)(i,s),d[7]!==t||d[8]!==e||d[9]!==a||d[10]!==u?(o=()=>{u===sr.READY&&e.current&&t.current&&function(e,t,a){let n={type:"render:cmd",body:{cmd:"sandbox:data","sandbox:data":{...a}}};si(e.contentWindow,n)}(e.current,t.current,a)},l=[t,e,a,u],d[7]=t,d[8]=e,d[9]=a,d[10]=u,d[11]=o,d[12]=l):(o=d[11],l=d[12]),(0,_.useEffect)(o,l),d[13]!==h||d[14]!==u?(c={renderState:u,errorMessage:h},d[13]=h,d[14]=u,d[15]=c):c=d[15],c}(y,x,n,g);if(!f)return null;for(let e of((0,ta.BI)("sandbox_view.activate",{target:"SANDBOX_INITIALIZED",enabled:f}),Array.from(new Set([...c||[],...d||[],...u||[]].map(e=>{try{return new URL(e,g).origin}catch{return null}}).filter(Boolean)))))(0,ta.BI)("sandbox_view.activate",{target:"SANDBOX_RESOURCE_ORIGIN",origin:e});return i[10]!==b||i[11]!==v||i[12]!==a?(r=(0,m.jsx)("div",{ref:x,className:ss.container,children:v===sr.ERROR?(0,m.jsx)(sl,{error:b}):(0,m.jsx)("iframe",{ref:y,className:ss.iframe,sandbox:"allow-scripts allow-same-origin",title:"Preview page for the user provided code",src:a})}),i[10]=b,i[11]=v,i[12]=a,i[13]=r):r=i[13],r}try{sd.displayName||(sd.displayName="SandboxView")}catch{}let su={loadingContainer:"HtmlPreview-module__loadingContainer--b987j",loadingHead:"HtmlPreview-module__loadingHead--abHb3",loadingText:"HtmlPreview-module__loadingText--WYXW5"};function sm(e,t,a){let n=`file:${e}`;if(!a.has(n))return null;let r=a.get(n)??[],i=r[r.length-1];if(!i)return null;let s=t.get(i);return s&&"file"===s.type?s:null}function sp(e){let t,a,n=(0,p.c)(15),{file:r}=e,{previewUrl:i}=(0,U.X)(),{items:s,versionedItems:o}=(0,au.xx)(),{scripts:l,styles:c,files:d}=function(e,t,a){let n=Array.from(e.matchAll(/<script.*?src="(.*?)"/g)).map(e=>e[1]).filter(e=>void 0!==e).map(e=>sm(e,t,a)),r=(function(e){let t=Array.from(e.matchAll(/<link([^>]+)>/g)).map(e=>e[1]).filter(e=>void 0!==e),a=[];for(let e of t){if("stylesheet"!==/rel\s*=\s*"([^"]+)"/.exec(e)?.[1])continue;let t=/href\s*=\s*"([^"]+)"/.exec(e)?.[1];t&&a.push(t)}return a})(e).map(e=>sm(e,t,a)),i=Array.from(e.matchAll(/<script(?![^>]*\bsrc=).*?>(.*?)<\/script>/gms)).map(e=>e[1]).filter(e=>void 0!==e);return{scripts:[...n.map(e=>e?.value??""),...i,'document.dispatchEvent(new Event("DOMContentLoaded"))'].join(`
`),styles:r.map(e=>e?.value??"").join(`
`),files:n.concat(r)}}(r.value,s,o),[u,h]=(0,_.useState)(!1),f=(r.isStreaming||d.some(sh))&&!u;n[0]!==f||n[1]!==h?(t=()=>{if(f){let e=setTimeout(()=>{h(!0)},3e3);return()=>clearTimeout(e)}},n[0]=f,n[1]=h,n[2]=t):t=n[2],(0,_.useEffect)(t),n[3]!==r.value?(a=function(e){let t=Array.from(e.matchAll(/<script.*?src="(https:\/\/.*?)"/g)).map(e=>e[1]).filter(e=>void 0!==e),a=[],n=[];for(let r of t)e.substring(e.indexOf("<head"),e.indexOf("</head>")).includes(r)?a.push(r):n.push(r);return{headScripts:a,bodyScripts:n,styles:Array.from(e.matchAll(/<link rel="stylesheet" href="(https:\/\/.*?)"/g)).map(e=>e[1]).filter(e=>void 0!==e)}}(r.value),n[3]=r.value,n[4]=a):a=n[4];let{headScripts:g,bodyScripts:y,styles:x}=a;if(f){let e;return n[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsxs)("div",{className:su.loadingContainer,children:[(0,m.jsx)("div",{className:su.loadingHead,children:(0,m.jsx)(sn.N,{animationType:"thinking",loopAnimation:!0})}),(0,m.jsx)("p",{className:su.loadingText,children:"Preparing your preview\u2026"})]}),n[5]=e):e=n[5],e}{let e;return n[6]!==y||n[7]!==x||n[8]!==r.id||n[9]!==r.value||n[10]!==g||n[11]!==i||n[12]!==l||n[13]!==c?(e=(0,m.jsx)(sd,{inlineScripts:l,inlineStyles:c,headScripts:g,bodyScripts:y,styles:x,content:r.value,viewscreenUrl:i},r.id),n[6]=y,n[7]=x,n[8]=r.id,n[9]=r.value,n[10]=g,n[11]=i,n[12]=l,n[13]=c,n[14]=e):e=n[14],e}}function sh(e){return!e||e.isStreaming}try{sp.displayName||(sp.displayName="HtmlPreview")}catch{}var sf=a(24880),sg=a(45968),sy=a(74022);let sx={markdownPreview:"MarkdownPreview-module__markdownPreview--TTDgv",spinner:"MarkdownPreview-module__spinner--hV_1B",error:"MarkdownPreview-module__error--MpG_1",errorIcon:"MarkdownPreview-module__errorIcon--ZskC4",errorHeader:"MarkdownPreview-module__errorHeader--WHC6c"};function s_(e){let t,a,n,r=(0,p.c)(7),{file:i}=e,s=function(e,t){let a,n,r,i,s=(0,p.c)(6),[o,l]=(0,_.useState)(e);return 2e3!==s[0]?(n=(0,sy.A)(l,t),s[0]=t,s[1]=n):n=s[1],a=n,s[2]!==a||s[3]!==e?(r=()=>a(e),i=[a,e],s[2]=a,s[3]=e,s[4]=r,s[5]=i):(r=s[4],i=s[5]),(0,_.useEffect)(r,i),o}(i.value,2e3);r[0]!==i.name||r[1]!==s?(t={queryKey:["copilot-immersive","MarkdownPreview",s,i.name],queryFn:async()=>{let e=await (0,tl.lS)("/copilot/immersive/markdown",{method:"POST",body:{content:s,filename:i.name}});if(!e.ok)throw Error(`Failed to load rendered markdown (${e.status} on ${e.url})`);return await e.json()},placeholderData:sf.rX,staleTime:1/0},r[0]=i.name,r[1]=s,r[2]=t):t=r[2];let{status:o,data:l}=(0,nr.I)(t);return r[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,x.$)("readme html-blob blob",sx.markdownPreview),r[3]=a):a=r[3],r[4]!==l||r[5]!==o?(n=(0,m.jsx)("div",{className:a,children:"pending"===o?(0,m.jsx)("div",{className:sx.spinner,children:(0,m.jsx)(aQ.A,{srText:"Loading Markdown preview\u2026"})}):"error"===o?(0,m.jsxs)("div",{className:sx.error,children:[(0,m.jsx)("span",{className:sx.errorIcon,children:(0,m.jsx)(B.StopIcon,{size:24})}),(0,m.jsx)("h2",{className:sx.errorHeader,children:"Markdown rendering failed"}),(0,m.jsx)("p",{children:"Refresh the page or check the markdown code"})]}):(0,m.jsx)(sg.$6,{className:"markdown-body",html:l.html})}),r[4]=l,r[5]=o,r[6]=n):n=r[6],n}try{s_.displayName||(s_.displayName="MarkdownPreview")}catch{}function sv(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C=(0,p.c)(64),{isPreviewOpening:N,file:S,onClose:w}=e,{updateItem:I,items:T,versionedItems:k}=(0,au.xx)(),E=(0,W.Pk)();C[0]!==S.isStreaming||C[1]!==S.messageId||C[2]!==E.messages?(t=S.isStreaming?E.messages[E.messages.length-1]:E.messages.find(e=>e.id===S.messageId),C[0]=S.isStreaming,C[1]=S.messageId,C[2]=E.messages,C[3]=t):t=C[3];let A=t,{linesOfCode:L,isPreviewable:R,size:D}=function(e){let t,a,n,r,i=(0,p.c)(12);if(i[0]!==e.language||i[1]!==e.value){let r,s,o=new Blob([e.value]).size;i[5]===Symbol.for("react.memo_cache_sentinel")?(r=new Set(["markdown","html"]),i[5]=r):r=i[5];let l=r;i[6]!==e.value?(s=e.value.split(`
`),i[6]=e.value,i[7]=s):s=i[7],t=s.length,a=l.has(e.language),n=function(e){if(0===e)return"0 bytes";if(1===e)return"1 byte";let t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t))} ${["bytes","KB","MB","GB","TB"][t]}`}(o),i[0]=e.language,i[1]=e.value,i[2]=t,i[3]=a,i[4]=n}else t=i[2],a=i[3],n=i[4];return i[8]!==t||i[9]!==a||i[10]!==n?(r={linesOfCode:t,isPreviewable:a,size:n},i[8]=t,i[9]=a,i[10]=n,i[11]=r):r=i[11],r}(S);!function(e,t){let a,n,r,i,s,o,l,c=(0,p.c)(25),{reference:d}=e,u=(0,q.b)(),m=d?.type;c[0]!==d?(a=d?(0,eI.Vb)(d):void 0,c[0]=d,c[1]=a):a=c[1],c[2]!==m||c[3]!==a?(n=["copilot-reference-preview","copilot","references",m,a],c[2]=m,c[3]=a,c[4]=n):n=c[4],c[5]!==e||c[6]!==u||c[7]!==d||c[8]!==t?(r=async()=>{if(!d||"file"!==d.type||e.value)return null;let a=await u.service.hydrateReference(d);return a.ok?(t({...e,value:a.payload.contents,isStreaming:!1}),a.payload):null},c[5]=e,c[6]=u,c[7]=d,c[8]=t,c[9]=r):r=c[9],c[10]!==n||c[11]!==r?(i={queryKey:n,queryFn:r,staleTime:1/0},c[10]=n,c[11]=r,c[12]=i):i=c[12];let{isLoading:h,isError:f,data:g}=(0,nr.I)(i);c[13]!==g||c[14]!==e||c[15]!==t?(s=()=>{g?.contents&&e.value!==g.contents&&t({...e,value:g.contents,isStreaming:!1})},c[13]=g,c[14]=e,c[15]=t,c[16]=s):s=c[16];let y=g?.contents;c[17]!==e||c[18]!==y||c[19]!==t?(o=[y,e,t],c[17]=e,c[18]=y,c[19]=t,c[20]=o):o=c[20],(0,_.useEffect)(s,o),c[21]!==g||c[22]!==f||c[23]!==h?(l={isLoading:h,isError:f,data:g},c[21]=g,c[22]=f,c[23]=h,c[24]=l):l=c[24]}(S,I);let[P,M]=(0,_.useState)("code"),[O,F]=(0,_.useState)(!0),[$,U]=(0,_.useState)(void 0);C[4]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{U(e)},C[4]=a):a=C[4];let V=a;C[5]!==S||C[6]!==T||C[7]!==k?(n=(0,aj.SX)(S,T,k),C[5]=S,C[6]=T,C[7]=k,C[8]=n):n=C[8];let z=n,H=eT.W.hyperspaceDiffView&&!!z;C[9]!==A?.error?.type||C[10]!==w?(r=()=>{(A?.error?.type==="publicCode"||A?.error?.type==="filtered")&&w()},C[9]=A?.error?.type,C[10]=w,C[11]=r):r=C[11];let G=A?.error;if(C[12]!==w||C[13]!==G?(i=[G,w],C[12]=w,C[13]=G,C[14]=i):i=C[14],(0,_.useEffect)(r,i),C[15]!==H||C[16]!==R||C[17]!==P){if(s=[["code","Code"]],o="code",R&&(s.unshift(["preview","Preview"]),o="preview"===P?"preview":"code"),H){let e;C[20]===Symbol.for("react.memo_cache_sentinel")?(e=["diff","Diff"],C[20]=e):e=C[20],s.push(e),o="diff"===P?"diff":o}C[15]=H,C[16]=R,C[17]=P,C[18]=s,C[19]=o}else s=C[18],o=C[19];C[21]!==s||C[22]!==H||C[23]!==R||C[24]!==P?(l=(R||H)&&(0,m.jsx)(iz.I,{"aria-label":"File view",onChange:e=>{let t=s[e]?.[0]||"code";M(t),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_FILE_VIEW_OPTION",option:t})},children:s.map(e=>{let[t,a]=e;return(0,m.jsx)(iz.I.Button,{selected:P===t,children:a},t)})}),C[21]=s,C[22]=H,C[23]=R,C[24]=P,C[25]=l):l=C[25],C[26]!==S?(c=(0,m.jsx)(az,{item:S,onVersionSelect:V}),C[26]=S,C[27]=c):c=C[27];let K=1===L?"line":"lines";return C[28]!==L||C[29]!==D||C[30]!==K?(d=(0,m.jsxs)("p",{className:sa.toolbarLoC,children:[L," ",K," \xb7 ",D]}),C[28]=L,C[29]=D,C[30]=K,C[31]=d):d=C[31],C[32]!==d||C[33]!==l||C[34]!==c?(u=(0,m.jsxs)("div",{className:sa.toolbarLeft,children:[l,c,d]}),C[32]=d,C[33]=l,C[34]=c,C[35]=u):u=C[35],C[36]!==o||C[37]!==O?(h="diff"===o&&(0,m.jsxs)(iH.A,{children:[(0,m.jsx)(iq.A,{checked:O,onChange:e=>F(e.target.checked)}),(0,m.jsx)(iH.A.Label,{children:"Unified"})]}),C[36]=o,C[37]=O,C[38]=h):h=C[38],C[39]!==S.reference?(f=S.reference&&"url"in S.reference&&(0,m.jsx)(tP.K,{as:"a","aria-label":"Go to the file",icon:B.LinkExternalIcon,variant:"invisible",href:S?.reference?.url}),C[39]=S.reference,C[40]=f):f=C[40],C[41]!==S.value?(g=(0,m.jsx)(iW.T,{textToCopy:S.value,ariaLabel:"Copy code",onCopy:sb}),C[41]=S.value,C[42]=g):g=C[42],C[43]!==S.name||C[44]!==S.value||C[45]!==$?(y=(0,m.jsx)(tP.K,{"aria-label":"Download code",icon:B.DownloadIcon,variant:"invisible",onClick:()=>{let e=(()=>{let e=S.name.lastIndexOf(".");if(e>0){let t=S.name.substring(0,e),a=S.name.substring(e);return void 0!==$?`${t}_${$}${a}`:S.name}return void 0!==$?`${S.name}_${$}`:S.name})();st(new File([S.value],e)),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_FILE_DOWNLOAD",mode:"immersive"})}}),C[43]=S.name,C[44]=S.value,C[45]=$,C[46]=y):y=C[46],C[47]!==h||C[48]!==f||C[49]!==g||C[50]!==y?(x=(0,m.jsxs)("div",{className:sa.toolbarActions,children:[h,f,g,y]}),C[47]=h,C[48]=f,C[49]=g,C[50]=y,C[51]=x):x=C[51],C[52]!==u||C[53]!==x?(v=(0,m.jsxs)("div",{className:sa.toolbar,children:[u,x]}),C[52]=u,C[53]=x,C[54]=v):v=C[54],C[55]!==o||C[56]!==S||C[57]!==N||C[58]!==O||C[59]!==z?(b="preview"===o?(0,m.jsx)(sN,{file:S}):"diff"===o?(0,m.jsx)(se,{left:z,right:S,view:O?"unified":"split"}):(0,m.jsx)(sC,{file:S,isPreviewOpening:N}),C[55]=o,C[56]=S,C[57]=N,C[58]=O,C[59]=z,C[60]=b):b=C[60],C[61]!==v||C[62]!==b?(j=(0,m.jsxs)("div",{className:sa.container,children:[v,b]}),C[61]=v,C[62]=b,C[63]=j):j=C[63],j}function sb(){return(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_FILE_COPY",mode:"immersive"})}let sj=(0,iG.A)((e,t,a)=>{a({...e,value:t})},500,{leading:!1,trailing:!0});function sC({file:e,isPreviewOpening:t}){let{openItem:a,updateItem:n,versionedItems:r}=(0,au.xx)(),i=(0,_.useRef)(!1),s=function(e,t){let a=e.get((0,aj.oy)(t.id))??[];return a[a.length-1]===t.id}(r,e),o=!e.reference||"thread-scoped-file"===e.reference.type,l=o&&!e.isStreaming&&s,c=(0,_.useId)(),d=iK(e),[u,p]=(0,_.useState)(),h=u?.id===e.id?u.value:e.value,[f,g]=(0,_.useState)(!0),{messages:y}=(0,W.Pk)();(0,_.useEffect)(()=>{g(!1)},[]),(0,_.useEffect)(()=>{t&&(i.current=!0)},[t]);let x=(0,iQ.K)((0,_.useCallback)(t=>{if(l&&t!==e.value)if(e.isUserEdited)p({value:t,id:e.id}),sj(e,t,n);else{let r={...e,messageId:nw.Wp,id:`file:${e.name}#${y.length}`,timestamp:new Date,isUserEdited:!0,value:t};n(r),a(r.id),p({value:t,id:r.id})}},[e,l,y.length,a,n]));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{id:c,className:"sr-only",children:[e.name," file contents"]}),(0,m.jsx)(iV.default,{ariaLabelledBy:c,containerClassName:sa.codeMirrorContainer,fileName:e.name,height:"100%",isReadOnly:!l,spacing:d,value:f?"":h,onChange:x,focusNextRenderRef:i,placeholder:"Loading...",hideHelp:!0}),o&&!s&&(0,m.jsx)("div",{className:sa.footer,children:"Switch to the latest version to edit this file."})]})}function sN(e){let t=(0,p.c)(4),{file:a}=e;if("markdown"===a.language){let e;return t[0]!==a?(e=(0,m.jsx)("div",{className:sa.previewContainer,children:(0,m.jsx)(s_,{file:a})}),t[0]=a,t[1]=e):e=t[1],e}if("html"!==a.language)return null;{let e;return t[2]!==a?(e=(0,m.jsx)("div",{className:sa.previewContainer,children:(0,m.jsx)(sp,{file:a})}),t[2]=a,t[3]=e):e=t[3],e}}try{sv.displayName||(sv.displayName="FilePreview")}catch{}try{sC.displayName||(sC.displayName="CodeMirrorView")}catch{}try{sN.displayName||(sN.displayName="PreviewComponent")}catch{}let sS={container:"ImagePreview-module__container--AUrb4",imageElement:"ImagePreview-module__imageElement--DNVl1"};function sw(e){let t,a=(0,p.c)(3),{image:n}=e;return a[0]!==n.altText||a[1]!==n.url?(t=(0,m.jsx)("div",{className:sS.container,children:(0,m.jsx)("img",{className:sS.imageElement,src:n.url,alt:n.altText})}),a[0]=n.altText,a[1]=n.url,a[2]=t):t=a[2],t}try{sw.displayName||(sw.displayName="ImagePreview")}catch{}let sI={container:"IssuePreview-module__container--XUu9S"},sT=(0,_.memo)(function(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(17),{isPreviewOpening:u,issue:h,onClose:f}=e,[g,y]=(0,_.useState)(u);if(d[0]!==g?(t=()=>{if(g){let e=setTimeout(()=>y(!1),400);return()=>clearTimeout(e)}},a=[g],d[0]=g,d[1]=t,d[2]=a):(t=d[1],a=d[2]),(0,_.useEffect)(t,a),d[3]!==h.href?(r=(0,m.jsx)(tP.K,{icon:B.LinkExternalIcon,variant:"invisible","aria-label":"Open issue in new tab",onClick:()=>{window.open(h.href,"_blank")}}),d[3]=h.href,d[4]=r):r=d[4],n=r,d[5]!==f||d[6]!==n?(s={navigate:nM.l,insideSidePanel:!0,shouldSkipSetDocumentTitle:!0,titleAs:"h2",useViewportQueries:!1,withLiveUpdates:!0,onIssueDelete:f,additionalHeaderActions:n,showRepositoryPill:!0},d[5]=f,d[6]=n,d[7]=s):s=d[7],i=s,d[8]!==h.number||d[9]!==h.owner||d[10]!==h.repo?(l={owner:h.owner,repo:h.repo,number:h.number,type:"Issue"},d[8]=h.number,d[9]=h.owner,d[10]=h.repo,d[11]=l):l=d[11],o=l,g){let e;return d[12]!==i?(e=(0,m.jsx)(aO.Q,{optionConfig:i}),d[12]=i,d[13]=e):e=d[13],e}return d[14]!==o||d[15]!==i?(c=(0,m.jsx)("div",{className:sI.container,children:(0,m.jsx)(i$.e,{children:(0,m.jsx)(iF.cI,{itemIdentifier:o,optionConfig:i})})}),d[14]=o,d[15]=i,d[16]=c):c=d[16],c});try{sT.displayName||(sT.displayName="IssuePreview")}catch{}function sk(e){let t,a=(0,p.c)(20),{isOpening:n,onClose:r,previewItem:i}=e,s=null;switch(i.type){case"file":{let e;a[0]!==n||a[1]!==r||a[2]!==i?(e=(0,m.jsx)(sv,{isPreviewOpening:n,file:i,onClose:r}),a[0]=n,a[1]=r,a[2]=i,a[3]=e):e=a[3],s=e;break}case"issue":{let e;a[4]!==n||a[5]!==r||a[6]!==i?(e=(0,m.jsx)(sT,{isPreviewOpening:n,issue:i,onClose:r}),a[4]=n,a[5]=r,a[6]=i,a[7]=e):e=a[7],s=e;break}case"new-issue":{let e;a[8]!==n||a[9]!==r||a[10]!==i?(e=(0,m.jsx)(iM,{isPreviewOpening:n,issue:i,onClose:r}),a[8]=n,a[9]=r,a[10]=i,a[11]=e):e=a[11],s=e;break}case"existing-issue":{let e;a[12]!==n||a[13]!==r||a[14]!==i?(e=(0,m.jsx)(iU,{isPreviewOpening:n,issue:i,onClose:r}),a[12]=n,a[13]=r,a[14]=i,a[15]=e):e=a[15],s=e;break}case"image":{let e;a[16]!==i?(e=(0,m.jsx)(sw,{image:i}),a[16]=i,a[17]=e):e=a[17],s=e}}return a[18]!==s?(t=s?(0,m.jsx)(aw.t,{fallback:(0,m.jsx)(aD,{regionName:"This workbench item"}),children:s}):null,a[18]=s,a[19]=t):t=a[19],t}try{sk.displayName||(sk.displayName="ContentPreviewItem")}catch{}var sE=a(10594);let sA={tabContainer:"ContentPreviewTab-module__tabContainer--TyGLZ",tabContent:"ContentPreviewTab-module__tabContent--zNIXv",isActive:"ContentPreviewTab-module__isActive--xbw0T",mainButton:"ContentPreviewTab-module__mainButton--Y_fZZ",icon:"ContentPreviewTab-module__icon--Ff5yz",title:"ContentPreviewTab-module__title--WZajJ",closeButton:"ContentPreviewTab-module__closeButton--DACs7"};function sL(e){let t=(0,p.c)(3),{file:a}=e;if(a.isStreaming){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(aQ.A,{size:"small"}),t[0]=e):e=t[0],e}if("markdown"===a.language){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.MarkdownIcon,{}),t[1]=e):e=t[1],e}{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.CodeIcon,{}),t[2]=e):e=t[2],e}}function sR(e){let t=(0,p.c)(6),{item:a}=e;switch(a.type){case"file":{let e;return t[0]!==a?(e=(0,m.jsx)(sL,{file:a}),t[0]=a,t[1]=e):e=t[1],e}case"image":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.ImageIcon,{}),t[2]=e):e=t[2],e}case"issue":{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueOpenedIcon,{}),t[3]=e):e=t[3],e}case"new-issue":{let e;return t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueDraftIcon,{}),t[4]=e):e=t[4],e}case"existing-issue":{let e;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.IssueOpenedIcon,{}),t[5]=e):e=t[5],e}default:return null}}let sD=(0,_.forwardRef)(function(e,t){let a,n,r,i,s,o,l,c,d,u,h,f,g,y,v,b,j,C,N,S=(0,p.c)(47);S[0]!==e?({onClick:i,onClose:s,isActive:n,item:r,controlHintId:a,tabPanelId:l,...o}=e,S[0]=e,S[1]=a,S[2]=n,S[3]=r,S[4]=i,S[5]=s,S[6]=o,S[7]=l):(a=S[1],n=S[2],r=S[3],i=S[4],s=S[5],o=S[6],l=S[7]);let[w,I]=(0,_.useState)(!1),T=(0,_.useRef)(null);S[8]!==s?(c=()=>{s&&s(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_TAB_CLOSE",mode:"immersive"})},S[8]=s,S[9]=c):c=S[9];let k=c,E=(0,_.useRef)(null),A=r.name;S[10]!==w?(d=()=>{let e=T.current;if(!e)return;let t=e.scrollWidth>e.clientWidth;t!==w&&I(t)},S[10]=w,S[11]=d):d=S[11];let L=d,R=`content-preview-tab-${r.id}`;S[12]!==L||S[13]!==R||S[14]!==A?(u=(0,m.jsx)("span",{className:sA.title,"data-title":A,"data-testid":R,ref:T,onMouseEnter:L,children:A}),S[12]=L,S[13]=R,S[14]=A,S[15]=u):u=S[15];let D=u;S[16]!==n?(h=(0,x.$)(sA.tabContent,{[sA.isActive]:n}),S[16]=n,S[17]=h):h=S[17];let P=n?"true":void 0;S[18]!==i?(f=e=>{i&&i(e),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_TAB_SELECT",mode:"immersive"})},S[18]=i,S[19]=f):f=S[19],S[20]!==k?(g=e=>{switch(e.key.toLowerCase()){case"delete":case"backspace":k();break;case"tab":if(e.shiftKey)break;e.preventDefault(),E.current?.focus()}},y=e=>{1===e.button&&k()},S[20]=k,S[21]=g,S[22]=y):(g=S[21],y=S[22]),S[23]!==r?(v=(0,m.jsx)("span",{className:sA.icon,children:(0,m.jsx)(sR,{item:r})}),S[23]=r,S[24]=v):v=S[24],S[25]!==w||S[26]!==A||S[27]!==D?(b=w?(0,m.jsx)(sE.m,{text:A,position:"bottom",children:D}):D,S[25]=w,S[26]=A,S[27]=D,S[28]=b):b=S[28],S[29]!==a||S[30]!==t||S[31]!==o||S[32]!==v||S[33]!==b||S[34]!==P||S[35]!==f||S[36]!==g||S[37]!==y||S[38]!==l?(j=(0,m.jsxs)("button",{className:sA.mainButton,type:"button",role:"tab","aria-selected":P,"aria-describedby":a,"aria-controls":l,onClick:f,onKeyDown:g,onAuxClick:y,ref:t,...o,children:[v,b]}),S[29]=a,S[30]=t,S[31]=o,S[32]=v,S[33]=b,S[34]=P,S[35]=f,S[36]=g,S[37]=y,S[38]=l,S[39]=j):j=S[39];let M=`Close ${A}`;return S[40]!==k||S[41]!==M?(C=(0,m.jsx)("div",{className:sA.closeButton,children:(0,m.jsx)(tP.K,{icon:B.XIcon,size:"small",variant:"invisible","aria-label":M,"aria-hidden":!0,tabIndex:-1,unsafeDisableTooltip:!0,onClick:k,ref:E})}),S[40]=k,S[41]=M,S[42]=C):C=S[42],S[43]!==j||S[44]!==C||S[45]!==h?(N=(0,m.jsx)("div",{className:sA.tabContainer,children:(0,m.jsxs)("div",{className:h,children:[j,C]})}),S[43]=j,S[44]=C,S[45]=h,S[46]=N):N=S[46],N});try{sL.displayName||(sL.displayName="CodeTabIcon")}catch{}try{sR.displayName||(sR.displayName="TabIcon")}catch{}try{sD.displayName||(sD.displayName="ContentPreviewTab")}catch{}function sP(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:(0,m.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 .5H3A2.5 2.5 0 0 0 .5 3v10A2.5 2.5 0 0 0 3 15.5h10a2.5 2.5 0 0 0 2.5-2.5V3A2.5 2.5 0 0 0 13 .5M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm6 6.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M12.25 5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 12.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})}),t[0]=e):e=t[0],e}try{sP.displayName||(sP.displayName="DiceIcon")}catch{}let sB={container:"EmptyState-module__container--iHvWJ",icon:"EmptyState-module__icon--e1df9",heading:"EmptyState-module__heading--p3oK5",subtitle:"EmptyState-module__subtitle--oksOj"};function sM(e){let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(23),{isOpening:g}=e,y=(0,q.b)(),x=(0,W.Pk)(),v=(0,ef.zy)(),b=(0,_.useRef)(null);f[0]!==x?(t=(0,nI.W)(x),f[0]=x,f[1]=t):t=f[1];let j=t,C=(0,U.X)();f[2]===Symbol.for("react.memo_cache_sentinel")?(a=[],f[2]=a):a=f[2];let[N,S]=(0,_.useState)(a);f[3]!==C.icebreakers?(n=()=>{var e;if(Array.isArray(e=C.icebreakers)&&e.every(e=>"type"in e&&"data"in e)){let e=C.icebreakers.find(sO);e&&e.data.length>0&&S(e.data)}},f[3]=C.icebreakers,f[4]=n):n=f[4],f[5]!==v||f[6]!==C.icebreakers?(r=[C.icebreakers,v],f[5]=v,f[6]=C.icebreakers,f[7]=r):r=f[7],(0,_.useEffect)(n,r),f[8]!==g?(i=()=>{g&&b.current&&window.requestAnimationFrame(()=>{b.current?.focus({preventScroll:!0})})},s=[g],f[8]=g,f[9]=i,f[10]=s):(i=f[9],s=f[10]),(0,_.useEffect)(i,s),f[11]!==j||f[12]!==N||f[13]!==y||f[14]!==x?(o=()=>{if(0===N.length)return;let e=function(e){let t=Math.floor(Math.random()*e.length),a=e[t];if(!a)throw Error("No icebreaker found");return a}(N),t=0===x.messages.length?j:(0,nI.W)(x),a=x.currentUserLogin,n=e.message;y.sendChatMessage({thread:t,content:n.replaceAll("$$USERNAME$$",a),references:x.currentReferences,topic:x.currentTopic,context:x.context,customInstructions:x.customInstructions,model:x.model}),(0,ta.BI)("dotcom_chat.activate",{target:"CONTENT_PREVIEW_EMPTY_STATE_ICEBREAKER_BUTTON",topic:x.currentTopic?.name,mode:"immersive",suggestionId:e.id})},f[11]=j,f[12]=N,f[13]=y,f[14]=x,f[15]=o):o=f[15];let w=o;return f[16]===Symbol.for("react.memo_cache_sentinel")?(d=(0,m.jsx)(B.BrowserIcon,{size:24,className:sB.icon}),u=(0,m.jsx)("h1",{className:"sr-only",children:"Content preview panel"}),l=(0,m.jsx)("h2",{className:sB.heading,children:"View files directly within Copilot"}),c=(0,m.jsx)("p",{className:sB.subtitle,children:"Ask to generate a file or app, or use the button below to try it yourself."}),f[16]=l,f[17]=c,f[18]=d,f[19]=u):(l=f[16],c=f[17],d=f[18],u=f[19]),f[20]!==w||f[21]!==x.isWaitingOnCopilot?(h=(0,m.jsxs)("div",{className:sB.container,children:[d,u,l,c,(0,m.jsx)(e$.Q,{ref:b,leadingVisual:sP,onClick:w,disabled:x.isWaitingOnCopilot,children:"I\u2019m feeling lucky"})]}),f[20]=w,f[21]=x.isWaitingOnCopilot,f[22]=h):h=f[22],h}function sO(e){return"interactional"===e.type}try{sM.displayName||(sM.displayName="EmptyState")}catch{}let sF={container:"LoadingState-module__container--a0Cz6"};function s$(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:sF.container,children:(0,m.jsx)(aQ.A,{size:"large"})}),t[0]=e):e=t[0],e}try{s$.displayName||(s$.displayName="LoadingState")}catch{}function sU(e,t,a={}){(0,ta.BI)(e,{contentPreviewType:t.type,mode:"immersive",path:t.id,...a})}function sV({returnFocusRef:e}){let t=(0,au.tZ)(),{items:a,allOpenItems:n,selectedItem:r,openItem:i,closeItem:s,closeItems:o,closePreviewPane:l,showLoadingState:c}=(0,au.xx)(),d=(0,aI.S)(t),u=t&&!d,p=d&&!t,h=n.map(e=>a.get(e)).filter(e=>e?.type==="file"),f=(0,_.useId)(),g=(0,_.useId)(),y=(0,_.useId)(),v=n.map(e=>a.get(e)).filter(e=>!!e);(0,_.useEffect)(()=>{p&&e.current?.focus()},[p,e]);let b=async()=>{let e=h.map(e=>new File([e.value],e.name));st(new File([await (0,aE._6)(e).blob()],"files.zip"))},j=v.find(e=>e.id===r)??v[0],C=(0,_.useCallback)((e=!1)=>{if(j){let t=e&&1===v.length;s(j.id),t&&(l(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_CLOSE",mode:"immersive"}))}},[s,l,v.length,j]),N=(0,_.useRef)([]),S=(0,_.useRef)(null);(0,ak.G)({containerRef:S,focusableElementFilter:e=>"tab"===e.role,bindKeys:aT.z0.ArrowHorizontal|aT.z0.HomeAndEnd,focusInStrategy:"first",focusOutBehavior:"wrap"},[v]);let w=!(0,aS.g)(S);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:aP.toolbar,children:[(0,m.jsx)("div",{className:(0,x.$)(aP.actions,aP.rightDivider),children:(0,m.jsx)(sW,{})}),(0,m.jsx)("div",{className:aP.tabsContainer,children:(0,m.jsxs)("div",{className:aP.tabs,role:"tablist","aria-label":"Workbench items",ref:S,tabIndex:-1,onWheel:e=>{e.deltaY&&(e.preventDefault(),e.currentTarget.scrollLeft+=e.deltaY)},children:[v.map((e,t)=>(0,m.jsx)(sD,{id:e.id===r?f:void 0,tabPanelId:e.id===r?g:void 0,controlHintId:y,isActive:e.id===r,onClick:()=>{i(e.id),sU("filePreviewTab.click",e)},onClose:()=>(e=>{let t=v[e];if(!t)return;let a=N.current[e+1]??N.current[e-1]??S.current;a?.focus();let n=1===v.length;s(t.id),n&&l(),sU("filePreviewTab.close",t)})(t),item:e,ref:e=>{N.current[t]=e}},e.id)),(0,m.jsx)("span",{id:y,"aria-hidden":"true",className:"sr-only",children:"Press Delete to close."}),(0,m.jsx)("span",{})]})}),n.length>0&&(0,m.jsx)("div",{className:(0,x.$)(aP.actions,w&&aP.leftDivider),children:(0,m.jsxs)(tD.W,{children:[(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{icon:B.KebabHorizontalIcon,"aria-label":"More options",variant:"invisible"})}),(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsxs)(tB.l,{children:[h.length>0&&(0,m.jsxs)(tB.l.Item,{onSelect:b,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.FileZipIcon,{})}),"Download all files"]}),(0,m.jsxs)(tB.l.Item,{onSelect:()=>{o(),l(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_CLOSE_ALL_TABS",mode:"immersive"})},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.XIcon,{})}),"Close all tabs"]})]})})]})})," "]}),(0,m.jsx)("div",{className:aP.content,role:"tabpanel",id:g,"aria-labelledby":f,children:c?(0,m.jsx)(s$,{}):j?(0,m.jsx)(sk,{isOpening:u,previewItem:j,onClose:C}):(0,m.jsx)(sM,{isOpening:u})})]})}function sW(){let e,t=(0,p.c)(2),{closePreviewPane:a}=(0,au.xx)();return t[0]!==a?(e=(0,m.jsx)(tP.K,{variant:"invisible",icon:B.SidebarCollapseIcon,"aria-label":"Close workbench",onClick:()=>{a(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_CLOSE",mode:"immersive"})}}),t[0]=a,t[1]=e):e=t[1],e}function sz(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:aP.toolbar,children:(0,m.jsx)("div",{className:(0,x.$)(aP.actions,aP.rightDivider),children:(0,m.jsx)(sW,{})})}),(0,m.jsx)("div",{className:(0,x.$)(aP.content),children:(0,m.jsx)(aD,{regionName:"The workbench"})})]}),t[0]=e):e=t[0],e}function sH(e){let t,a,n,r,i=(0,p.c)(10),s=(0,_.useId)(),o=an(),l=(0,au.tZ)()?o:void 0;return i[0]!==s?(t=(0,m.jsx)("h2",{id:s,className:"sr-only",children:"Workbench"}),i[0]=s,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(sz,{}),i[2]=a):a=i[2],i[3]!==e?(n=(0,m.jsx)(aw.t,{fallback:a,children:(0,m.jsx)(sV,{...e})}),i[3]=e,i[4]=n):n=i[4],i[5]!==s||i[6]!==l||i[7]!==t||i[8]!==n?(r=(0,m.jsxs)("div",{"aria-labelledby":s,className:aP.container,tabIndex:-1,"data-testid":"content-preview",role:"dialog",ref:l,children:[t,n]}),i[5]=s,i[6]=l,i[7]=t,i[8]=n,i[9]=r):r=i[9],r}try{sV.displayName||(sV.displayName="ContentPreviewInner")}catch{}try{sW.displayName||(sW.displayName="CloseContentPreviewButton")}catch{}try{sz.displayName||(sz.displayName="ContentPreviewFallback")}catch{}try{sH.displayName||(sH.displayName="ContentPreview")}catch{}var sq=a(2922);let sG={traceDisplay:"TraceDisplay-module__traceDisplay--Fxphs",controls:"TraceDisplay-module__controls--mLuO5",rightControls:"TraceDisplay-module__rightControls--pGs9c"};var sK=a(9591),sQ=a(15101),sY=a(56221);let sJ={traceDetails:"TraceDetails-module__traceDetails--lP52J",header:"TraceDetails-module__header--TxfE7",traceName:"TraceDetails-module__traceName--HONIF",duration:"TraceDetails-module__duration--TOctQ",section:"TraceDetails-module__section--NG01a",table:"TraceDetails-module__table--qKsqz",tableCell:"TraceDetails-module__tableCell--RZVQU",tableRow:"TraceDetails-module__tableRow--rbVmf",sectionTitle:"TraceDetails-module__sectionTitle--q849b",expandable:"TraceDetails-module__expandable--sfmJf",expandableContent:"TraceDetails-module__expandableContent--SH_yt"};function sX(e){let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(23),{node:f}=e;return h[0]!==f.name?(t=(0,m.jsx)("div",{className:sJ.traceName,children:f.name}),h[0]=f.name,h[1]=t):t=h[1],h[2]!==f.duration?(a=(0,m.jsxs)("div",{className:sJ.duration,children:["duration: ",f.duration,"ms"]}),h[2]=f.duration,h[3]=a):a=h[3],h[4]!==t||h[5]!==a?(n=(0,m.jsxs)("div",{className:sJ.header,children:[t,a]}),h[4]=t,h[5]=a,h[6]=n):n=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)("td",{className:`${sJ.tableCell} ${sJ.sectionTitle}`,children:"Input"}),h[7]=r):r=h[7],h[8]!==f.input?(i=(0,m.jsxs)("tr",{className:sJ.tableRow,children:[r,(0,m.jsx)("td",{className:sJ.tableCell,children:(0,m.jsx)(sZ,{value:f.input})})]},"Input"),h[8]=f.input,h[9]=i):i=h[9],h[10]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)("td",{className:`${sJ.tableCell} ${sJ.sectionTitle}`,children:"Output"}),h[10]=s):s=h[10],h[11]!==f.output?(o=(0,m.jsxs)("tr",{className:sJ.tableRow,children:[s,(0,m.jsx)("td",{className:sJ.tableCell,children:(0,m.jsx)(sZ,{value:f.output})})]},"Output"),h[11]=f.output,h[12]=o):o=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)("td",{className:`${sJ.tableCell} ${sJ.sectionTitle}`,children:"Metadata"}),h[13]=l):l=h[13],h[14]!==f.metadata?(c=(0,m.jsxs)("tr",{className:sJ.tableRow,children:[l,(0,m.jsx)("td",{className:sJ.tableCell,children:(0,m.jsx)(sZ,{value:f.metadata})})]},"Metadata"),h[14]=f.metadata,h[15]=c):c=h[15],h[16]!==i||h[17]!==o||h[18]!==c?(d=(0,m.jsx)("div",{className:sJ.section,children:(0,m.jsx)("table",{className:sJ.table,children:(0,m.jsxs)("tbody",{children:[i,o,c]})})}),h[16]=i,h[17]=o,h[18]=c,h[19]=d):d=h[19],h[20]!==d||h[21]!==n?(u=(0,m.jsxs)("div",{className:sJ.traceDetails,children:[n,d]}),h[20]=d,h[21]=n,h[22]=u):u=h[22],u}function sZ(e){let t=(0,p.c)(12),{value:a,depth:n}=e,r=void 0===n?1:n;if(r>2){let e,n;return t[0]!==a?(e=JSON.stringify(a,null,2),t[0]=a,t[1]=e):e=t[1],t[2]!==e?(n=(0,m.jsx)(s0,{value:e}),t[2]=e,t[3]=n):n=t[3],n}if("string"==typeof a||"number"==typeof a||"boolean"==typeof a){let e,n=String(a);return t[4]!==n?(e=(0,m.jsx)(s0,{value:n}),t[4]=n,t[5]=e):e=t[5],e}if(Array.isArray(a)){let e;return t[6]!==r||t[7]!==a?(e=(0,m.jsx)(s1,{value:a,depth:r}),t[6]=r,t[7]=a,t[8]=e):e=t[8],e}if("object"!=typeof a||null===a)return"Unknown";{let e;return t[9]!==r||t[10]!==a?(e=(0,m.jsx)(s2,{value:a,depth:r}),t[9]=r,t[10]=a,t[11]=e):e=t[11],e}}function s0(e){let t,a,n=(0,p.c)(6),{value:r}=e,i=r.length>100,s=r.length>100?`${r.slice(0,100)}...`:r,[o,l]=(0,_.useState)(!1),c=o?r:s;return n[0]!==o||n[1]!==i?(t=i&&(0,m.jsx)(s3,{expanded:o,onClick:()=>l(!o)}),n[0]=o,n[1]=i,n[2]=t):t=n[2],n[3]!==c||n[4]!==t?(a=(0,m.jsxs)(m.Fragment,{children:[c,t]}),n[3]=c,n[4]=t,n[5]=a):a=n[5],a}function s1(e){let t,a,n=(0,p.c)(7),{value:r,depth:i}=e;if(n[0]!==i||n[1]!==r){let e;n[3]!==i?(e=(e,t)=>(0,m.jsx)("li",{children:(0,m.jsx)(sZ,{value:e,depth:i+1})},t),n[3]=i,n[4]=e):e=n[4],t=r.map(e),n[0]=i,n[1]=r,n[2]=t}else t=n[2];return n[5]!==t?(a=(0,m.jsx)("ul",{children:t}),n[5]=t,n[6]=a):a=n[6],a}function s2(e){let t,a,n,r,i,s=(0,p.c)(15),{value:o,depth:l}=e;s[0]!==o?(t=()=>Object.keys(o).length<=2,s[0]=o,s[1]=t):t=s[1];let[c,d]=(0,_.useState)(t);s[2]!==c?(a=()=>d(!c),s[2]=c,s[3]=a):a=s[3];let u=`{${Object.keys(o).length}}`;return s[4]!==c||s[5]!==a||s[6]!==u?(n=(0,m.jsx)(s3,{expanded:c,onClick:a,text:u}),s[4]=c,s[5]=a,s[6]=u,s[7]=n):n=s[7],s[8]!==l||s[9]!==c||s[10]!==o?(r=c&&(0,m.jsx)("div",{className:sJ.expandableContent,children:(0,m.jsx)("table",{className:sJ.table,children:(0,m.jsx)("tbody",{children:Object.entries(o).map(e=>{let[t,a]=e;return(0,m.jsxs)("tr",{className:sJ.tableRow,children:[(0,m.jsx)("td",{className:sJ.tableCell,children:t}),(0,m.jsx)("td",{className:sJ.tableCell,children:(0,m.jsx)(sZ,{value:a,depth:l+1})})]},t)})})})}),s[8]=l,s[9]=c,s[10]=o,s[11]=r):r=s[11],s[12]!==n||s[13]!==r?(i=(0,m.jsxs)("div",{className:sJ.expandable,children:[n,r]}),s[12]=n,s[13]=r,s[14]=i):i=s[14],i}function s3(e){let t,a=(0,p.c)(4),{expanded:n,onClick:r,text:i}=e;return a[0]!==n||a[1]!==r||a[2]!==i?(t=i?(0,m.jsx)(e$.Q,{leadingVisual:n?B.ChevronDownIcon:B.ChevronRightIcon,onClick:r,size:"small",variant:"invisible",children:i}):(0,m.jsx)(tP.K,{icon:n?B.ChevronDownIcon:B.ChevronRightIcon,"aria-label":n?"Collapse":"Expand",onClick:r,size:"small",variant:"invisible"}),a[0]=n,a[1]=r,a[2]=i,a[3]=t):t=a[3],t}try{sX.displayName||(sX.displayName="TraceDetails")}catch{}try{sZ.displayName||(sZ.displayName="Value")}catch{}try{s0.displayName||(s0.displayName="StringValue")}catch{}try{s1.displayName||(s1.displayName="ArrayValue")}catch{}try{s2.displayName||(s2.displayName="ObjectValue")}catch{}try{s3.displayName||(s3.displayName="ExpandButton")}catch{}let s4={traceList:"TraceList-module__traceList--FsDsH",traceTable:"TraceList-module__traceTable--On65c",traceDetails:"TraceList-module__traceDetails--np6tq"};function s5(e,t=0){let a=e.startTime,n=e.endTime,r=a,i=n,s=t,o=e.children.map(e=>{let a=s5(e,t+1);return r=Math.min(r,a.minTime),i=Math.max(i,a.maxTime),s=Math.max(s,a.maxDepth),{...a.node,depth:t+1}});return{node:{...e,startTime:a,endTime:n,duration:n-a,depth:t,children:o},minTime:r,maxTime:i,maxDepth:s}}function s6(e,t,a){let n=e.children.map(e=>s6(e,t,a));return{...e,startTime:e.startTime-t,endTime:e.endTime-t,children:n}}function s7({root:e}){let[t,a]=(0,_.useState)(null),[n,r]=(0,_.useState)(""),i=(0,_.useMemo)(()=>{let t=s5(e);var a=function e(t){return{...t,startTime:t.startTime.toString(),endTime:t.endTime.toString(),duration:t.duration.toString(),children:t.children.map(e)}}(s6(t.node,t.minTime,t.maxTime));let n=[];return!function e(t){n.push({...t,id:t.spanId}),t.children.map(e)}(a),n},[e]),s=(0,_.useMemo)(()=>{let e=n.toLowerCase();return i.filter(t=>{var a,n;return a=t,n=e,!!(a.id.toLowerCase().includes(n)||a.name.toLowerCase().includes(n)||a.attributes?.some(e=>String(e.value).toLowerCase().includes(n)||e.key.toLowerCase().includes(n)))})},[i,n]);return(0,m.jsxs)("div",{className:s4.traceList,children:[(0,m.jsxs)(iH.A,{children:[(0,m.jsx)(iH.A.Label,{children:"Search: "}),(0,m.jsx)(sK.A,{type:"text",value:n,onChange:e=>r(e.target.value)})]}),(0,m.jsxs)(sQ.X.Container,{className:s4.traceTable,onClick:e=>{let t=e.target.closest("tr");if(!t)return;let n=t.querySelector("td:first-child");if(!n)return;let r=n.textContent?.trim();if(!r)return;let i=s.find(e=>e.id===r);i&&a(i)},children:[(0,m.jsx)(sQ.X.Title,{id:"trace-table",children:"Trace Table"}),(0,m.jsx)(sY.b,{data:s,columns:[{header:"Span ID",field:"id",sortBy:"alphanumeric"},{header:"Name",field:"name",sortBy:"alphanumeric"},{header:"Start Time",field:"startTime",sortBy:"alphanumeric"},{header:"End Time",field:"endTime",sortBy:"basic"},{header:"Duration",field:"duration",sortBy:"basic"}],initialSortColumn:"startTime",initialSortDirection:"DESC"})]}),t&&(0,m.jsx)("div",{className:s4.traceDetails,children:(0,m.jsx)(sX,{node:t})})]})}try{s7.displayName||(s7.displayName="TraceList")}catch{}let s8={traceTable:"TraceTable-module__traceTable--y8yMh"};function s9(e){let t,a,n,r,i=(0,p.c)(6),{root:s}=e;if(i[0]!==s){let e=s5(s);t=function(e){let t=new Map;return!function e(a){let n=t.get(a.name);n||(n={id:a.name,count:0,avgDuration:0,totalDuration:0}),n.count+=1,n.totalDuration+=a.duration,n.avgDuration=n.totalDuration/n.count,t.set(a.name,n),a.children.forEach(e)}(e),Array.from(t.values()).sort((e,t)=>t.totalDuration-e.totalDuration)}(s6(e.node,e.minTime,e.maxTime)),i[0]=s,i[1]=t}else t=i[1];let o=t;return i[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(sQ.X.Title,{id:"trace-table",children:"Trace Table"}),i[2]=a):a=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(n=[{header:"Name",field:"id",sortBy:"alphanumeric"},{header:"Count",field:"count",sortBy:"basic"},{header:"Average Duration",field:"avgDuration",sortBy:"basic",renderCell:ot},{header:"Total Duration",field:"totalDuration",sortBy:"basic",renderCell:oe}],i[3]=n):n=i[3],i[4]!==o?(r=(0,m.jsx)("div",{className:s8.traceTable,children:(0,m.jsxs)(sQ.X.Container,{children:[a,(0,m.jsx)(sY.b,{data:o,columns:n,initialSortColumn:"totalDuration",initialSortDirection:"DESC"})]})}),i[4]=o,i[5]=r):r=i[5],r}function oe(e){return e.totalDuration.toFixed(2)}function ot(e){return e.avgDuration.toFixed(2)}try{s9.displayName||(s9.displayName="TraceTable")}catch{}let oa={settings:"TraceVisualizer-module__settings--g2qiE",traceVisualizerContainer:"TraceVisualizer-module__traceVisualizerContainer--bgQ3P",traceVisualizer:"TraceVisualizer-module__traceVisualizer--JRSg2",nodeContainer:"TraceVisualizer-module__nodeContainer--Mm5Ka",node:"TraceVisualizer-module__node--KRSBC",label:"TraceVisualizer-module__label--HyrgL"};function on(e){let t,a,n,r=(0,p.c)(7),{settings:i,setSettings:s}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(iH.A.Label,{children:"Minimum Duration:"}),r[0]=t):t=r[0],r[1]!==s||r[2]!==i?(a=e=>s({...i,minimumDuration:Number(e.target.value)}),r[1]=s,r[2]=i,r[3]=a):a=r[3],r[4]!==i.minimumDuration||r[5]!==a?(n=(0,m.jsx)("div",{className:oa.settings,children:(0,m.jsxs)(iH.A,{children:[t,(0,m.jsx)(sK.A,{type:"number",value:i.minimumDuration,onChange:a})]})}),r[4]=i.minimumDuration,r[5]=a,r[6]=n):n=r[6],n}function or(e){var t,a;let n,r,i,s,o,l,c,d,u,h,f,g,y=(0,p.c)(28),{root:x}=e;y[0]===Symbol.for("react.memo_cache_sentinel")?(n={minimumDuration:0},y[0]=n):n=y[0];let[v,b]=(0,_.useState)(n),[j,C]=(0,_.useState)(1),[N,S]=(0,_.useState)(null),w=(0,_.useRef)(null);y[1]!==x||y[2]!==v.minimumDuration?(t=r=s6((i=s5(x)).node,i.minTime,i.maxTime),a=v.minimumDuration,t.children=t.children.map(e=>(function e(t,a){let n=t.children.map(t=>e(t,a)).flat();return t.duration<a?n:(t.children=n,[t])})(e,a)).flat(),s=t,y[1]=x,y[2]=v.minimumDuration,y[3]=r,y[4]=i,y[5]=s):(r=y[3],i=y[4],s=y[5]),r=s;let I=i.maxTime-i.minTime;y[6]!==r||y[7]!==i.maxDepth||y[8]!==I?(o={node:r,maxDepth:i.maxDepth,maxTime:I},y[6]=r,y[7]=i.maxDepth,y[8]=I,y[9]=o):o=y[9];let{node:T,maxDepth:k,maxTime:E}=o;y[10]!==v?(l=(0,m.jsx)(on,{settings:v,setSettings:b}),y[10]=v,y[11]=l):l=y[11];let A=`${(k+1)*30}px`,L=`${100*j}%`;return y[12]!==A||y[13]!==L?(c={minHeight:A,width:L},y[12]=A,y[13]=L,y[14]=c):c=y[14],y[15]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{if(e.ctrlKey||e.metaKey){e.preventDefault();let t=Math.max(.5,1+-.01*e.deltaY),a=w.current;a&&(a.scrollLeft=a.scrollLeft*t),C(e=>e*t)}},y[15]=d):d=y[15],y[16]!==T||y[17]!==E?(u=(0,m.jsx)(os,{node:T,maxTime:E,setActiveNode:S}),y[16]=T,y[17]=E,y[18]=u):u=y[18],y[19]!==u||y[20]!==c?(h=(0,m.jsx)("div",{className:oa.traceVisualizer,style:c,onWheel:d,children:u}),y[19]=u,y[20]=c,y[21]=h):h=y[21],y[22]!==N?(f=N&&(0,m.jsx)(sX,{node:N}),y[22]=N,y[23]=f):f=y[23],y[24]!==h||y[25]!==f||y[26]!==l?(g=(0,m.jsxs)("div",{className:oa.traceVisualizerContainer,ref:w,children:[l,h,f]}),y[24]=h,y[25]=f,y[26]=l,y[27]=g):g=y[27],g}function oi(e){var t,a;let n,r,i,s,o,l,c=(0,p.c)(23),{node:d,maxTime:u,setActiveNode:h}=e,f=(t=d.startTime,t/u*100),g=`${f}%`,y=`${(a=d.duration,a/u*100)}%`,x=`${30*d.depth}px`;if(c[0]!==g||c[1]!==x||c[2]!==y?(n={left:g,width:y,top:x},c[0]=g,c[1]=x,c[2]=y,c[3]=n):n=c[3],c[4]!==d||c[5]!==h?(r=()=>h(d),c[4]=d,c[5]=h,c[6]=r):r=c[6],c[7]!==d.name?(i=(0,m.jsx)("span",{className:oa.label,children:d.name}),c[7]=d.name,c[8]=i):i=c[8],c[9]!==n||c[10]!==r||c[11]!==i?(s=(0,m.jsx)("button",{className:oa.node,style:n,onClick:r,children:i}),c[9]=n,c[10]=r,c[11]=i,c[12]=s):s=c[12],c[13]!==u||c[14]!==d.children||c[15]!==h){let e;c[17]!==u||c[18]!==h?(e=e=>(0,m.jsx)(os,{node:e,maxTime:u,setActiveNode:h},e.spanId),c[17]=u,c[18]=h,c[19]=e):e=c[19],o=d.children.map(e),c[13]=u,c[14]=d.children,c[15]=h,c[16]=o}else o=c[16];return c[20]!==s||c[21]!==o?(l=(0,m.jsxs)("div",{className:oa.nodeContainer,children:[s,o]}),c[20]=s,c[21]=o,c[22]=l):l=c[22],l}let os=(0,_.memo)(oi);try{on.displayName||(on.displayName="TraceSettingsControls")}catch{}try{or.displayName||(or.displayName="TraceVisualizer")}catch{}try{oi.displayName||(oi.displayName="NodeImpl")}catch{}try{os.displayName||(os.displayName="Node")}catch{}function oo(){let e,t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C,N=(0,p.c)(51),S=(0,W.A3)("traceInfo"),w=(0,q.b)(),[I,T]=(0,_.useState)(0),k=S?.roots;N[0]!==k?(t=(e=k?Array.from(k.keys()).at(-1):null)?k?.get(e):null,N[0]=k,N[1]=e,N[2]=t):(e=N[1],t=N[2]);let E=t,[A,L]=(0,_.useState)(e||"");N[3]!==E||N[4]!==A||N[5]!==k?(a=A&&k?k.get(A):E,N[3]=E,N[4]=A,N[5]=k,N[6]=a):a=N[6];let R=a;if(!k||!R)return null;N[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.jsx)(iH.A.Label,{children:"Select trace"}),N[7]=n):n=N[7],N[8]===Symbol.for("react.memo_cache_sentinel")?(r=e=>L(e.target.value),N[8]=r):r=N[8],N[9]!==k?(i=Array.from(k.entries()).map(ol),N[9]=k,N[10]=i):i=N[10],N[11]!==A||N[12]!==i?(s=(0,m.jsxs)(iH.A,{children:[n,(0,m.jsx)(sq.A,{value:A,onChange:r,children:i})]}),N[11]=A,N[12]=i,N[13]=s):s=N[13],N[14]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsx)(tD.W.Button,{icon:B.KebabHorizontalIcon,"aria-label":"More options"}),N[14]=o):o=N[14],N[15]!==R?(l=(0,m.jsxs)(tD.W,{children:[o,(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsx)(tB.l,{children:(0,m.jsx)(tB.l.Item,{onSelect:()=>void navigator.clipboard.writeText(JSON.stringify(R)),children:"Copy Trace JSON"})})})]}),N[15]=R,N[16]=l):l=N[16],N[17]!==w?(c=(0,m.jsx)(tP.K,{icon:B.XIcon,"aria-label":"Close trace display",onClick:()=>w.showTraceDisplay(!1)}),N[17]=w,N[18]=c):c=N[18],N[19]!==l||N[20]!==c?(d=(0,m.jsxs)("div",{className:sG.rightControls,children:[l,c]}),N[19]=l,N[20]=c,N[21]=d):d=N[21],N[22]!==s||N[23]!==d?(u=(0,m.jsxs)("div",{className:sG.controls,children:[s,d]}),N[22]=s,N[23]=d,N[24]=u):u=N[24],N[25]===Symbol.for("react.memo_cache_sentinel")?(h=(0,m.jsx)(tB.l.Divider,{}),N[25]=h):h=N[25];let D=0===I;N[26]!==D?(f=(0,m.jsx)(iz.I.Button,{selected:D,children:"Graph"}),N[26]=D,N[27]=f):f=N[27];let P=1===I;N[28]!==P?(g=(0,m.jsx)(iz.I.Button,{selected:P,children:"Table"}),N[28]=P,N[29]=g):g=N[29];let M=2===I;return N[30]!==M?(y=(0,m.jsx)(iz.I.Button,{selected:M,children:"List"}),N[30]=M,N[31]=y):y=N[31],N[32]!==f||N[33]!==g||N[34]!==y?(x=(0,m.jsx)("div",{className:sG.controls,children:(0,m.jsx)("div",{children:(0,m.jsxs)(iz.I,{"aria-label":"Selected tab",onChange:T,children:[f,g,y]})})}),N[32]=f,N[33]=g,N[34]=y,N[35]=x):x=N[35],N[36]!==R||N[37]!==I?(v=0===I&&(0,m.jsx)(or,{root:R}),N[36]=R,N[37]=I,N[38]=v):v=N[38],N[39]!==R||N[40]!==I?(b=1===I&&(0,m.jsx)(s9,{root:R}),N[39]=R,N[40]=I,N[41]=b):b=N[41],N[42]!==R||N[43]!==I?(j=2===I&&(0,m.jsx)(s7,{root:R}),N[42]=R,N[43]=I,N[44]=j):j=N[44],N[45]!==u||N[46]!==x||N[47]!==v||N[48]!==b||N[49]!==j?(C=(0,m.jsxs)("div",{className:sG.traceDisplay,children:[u,h,x,v,b,j]}),N[45]=u,N[46]=x,N[47]=v,N[48]=b,N[49]=j,N[50]=C):C=N[50],C}function ol(e){let[t]=e;return(0,m.jsx)(sq.A.Option,{value:t,children:t},t)}try{oo.displayName||(oo.displayName="TraceDisplay")}catch{}var oc=a(80597),od=a(24001);function ou(){let e=(0,ef.zy)(),t=eg.fV.pathname;return(!t||eT.W.improvedNavigation)&&(t=e.pathname),(0,_.useMemo)(()=>t.includes("/share/"),[t])}let om=/\/copilot\/c\/([^/]+)/,op=/\/copilot\/share\/([^/]+)/;function oh(){let e,t=(0,p.c)(2),a=(0,ef.zy)(),n=eg.fV.pathname||a.pathname||"",{threadID:r}=(0,ef.g)();e:{let a;t[0]!==n?(a=n.match(om)||n.match(op),t[0]=n,t[1]=a):a=t[1];let r=a;if(!r){e=null;break e}let[,i]=r;e=i??null}let i=e;return eT.W.improvedNavigation?r??null:i}function of(e,t){let a,n,r=(0,p.c)(17),i=(0,W.Pk)(),{currentReferences:s,context:o}=i,l=(0,q.b)(),{reloadQuota:c}=(0,ay.xR)();r[0]!==i?(a=(0,nI.W)(i),r[0]=i,r[1]=a):a=r[1];let d=a,{updateItem:u}=(0,au.xx)(),m=ou(),h=oh(),{activeCopilotSpaceId:f}=(0,od.C)();return r[2]!==o||r[3]!==s||r[4]!==e||r[5]!==f||r[6]!==m||r[7]!==l||r[8]!==t||r[9]!==c||r[10]!==i.customInstructions||r[11]!==i.model||r[12]!==i.skillOptions||r[13]!==d||r[14]!==h||r[15]!==u?(n=async a=>{if(c("handle_message_submit"),""===a.trim())return;for(let e of s){let a=(0,aj.oR)({ref:e,messageIndex:t});null!=a&&u({...a,isUserEdited:!1})}let n={thread:d,content:a,references:s,topic:e.current,context:o,customInstructions:i.customInstructions,model:i.model,customCopilotId:f,skillOptions:i.skillOptions};if(m){let e=await l.continueSharedThread(h);if(e){let{thread:t,messages:a}=e,r=a.at(-1)?.id;await l.sendChatMessage({...n,thread:t,parentMessageId:r})}}else await l.sendChatMessage(n)},r[2]=o,r[3]=s,r[4]=e,r[5]=f,r[6]=m,r[7]=l,r[8]=t,r[9]=c,r[10]=i.customInstructions,r[11]=i.model,r[12]=i.skillOptions,r[13]=d,r[14]=h,r[15]=u,r[16]=n):n=r[16],n}var og=a(3246);function oy(){let e=(0,W.A3)("messagesLoading")?.missingOrgIds,t=(0,W.A3)("ssoOrganizations"),a=e?.map(e=>{let a=t?.find(t=>t.id===String(e));return a?.login})?.filter(e=>!!e);return{needsSsoAuthentication:!!(e&&e.length>0),ssoOrgNames:a||[]}}var ox=a(75718);let o_={banner:"ChatInputBanners-module__banner--QlUDL",gpt5:"ChatInputBanners-module__gpt5--jA_07"},ov={container:"QuotaExceededBanner-module__container--BbiER"};function ob(){let e,t,a,n,r=(0,p.c)(12),{isLicensedLimited:i,chatQuotaRemaining:s,premiumChatQuotaRemaining:o,premiumInteractionsQuotaExceeded:l,overagesEnabled:c}=(0,ay.xR)(),[d,u]=(0,_.useState)(oj);r[0]!==s||r[1]!==c||r[2]!==l?(e=()=>{if(eT.W.premiumRequestQuotasEnabled&&void 0!==s){let e=a_.Jt.getQuotaExceededBannerFlag();eT.W.premiumRequestQuotasEnabled&&!c&&l?null===e?(a_.Jt.setQuotaExceededBannerFlag(!0),u(!0)):u(e):(a_.Jt.removeQuotaExceededBannerFlag(),u(!1))}},r[0]=s,r[1]=c,r[2]=l,r[3]=e):e=r[3],r[4]!==s||r[5]!==c||r[6]!==o||r[7]!==l?(t=[s,o,c,l],r[4]=s,r[5]=c,r[6]=o,r[7]=l,r[8]=t):t=r[8],(0,_.useEffect)(e,t),r[9]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{a_.Jt.setQuotaExceededBannerFlag(!1),u(!1)},r[9]=a):a=r[9];let m=a,h=d&&!i&&void 0!==s&&eT.W.premiumRequestQuotasEnabled;return r[10]!==h?(n={visible:h,onDismiss:m},r[10]=h,r[11]=n):n=r[11],n}function oj(){return a_.Jt.getQuotaExceededBannerFlag()??!1}function oC(e){let t,a,n,r,i=(0,p.c)(13),{onDismiss:s}=e,{canUpgradePlan:o,canPurchaseAdditionalQuota:l,resetDate:c}=(0,ay.xR)(),d=`You have reached your monthly limit for premium requests. ${o?`Select an upgrade option or switch to the default model. Limit resets on ${c}.`:`Enable additional requests or switch to the default model. Limit resets on ${c}.`}`;i[0]!==l||i[1]!==o?(t=o?(0,m.jsx)(ap.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:ow,children:"Upgrade"}):l?(0,m.jsx)(ap.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:oS,children:"Enable additional requests"}):null,i[0]=l,i[1]=o,i[2]=t):t=i[2];let u=t;i[3]!==l||i[4]!==o?(a=o&&l?(0,m.jsx)(aA.A,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:oN,children:"Enable additional requests"}):null,i[3]=l,i[4]=o,i[5]=a):a=i[5];let h=a;return i[6]!==s?(n=()=>{s(),(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_BANNER_DISMISS",mode:"immersive"})},i[6]=s,i[7]=n):n=i[7],i[8]!==d||i[9]!==u||i[10]!==h||i[11]!==n?(r=(0,m.jsx)("div",{className:ov.container,children:(0,m.jsx)(K.l,{variant:"upsell",title:"Limit reached",description:d,hideTitle:!0,primaryAction:u,secondaryAction:h,onDismiss:n})}),i[8]=d,i[9]=u,i[10]=h,i[11]=n,i[12]=r):r=i[12],r}function oN(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function oS(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function ow(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{oC.displayName||(oC.displayName="QuotaExceededBanner")}catch{}let oI=eT.W.premiumRequestQuotasEnabled?eI.mF:10;function oT(){let e,t,a,n,r=(0,p.c)(10),{isLicensedLimited:i,chatQuotaRemaining:s,premiumChatQuotaRemaining:o,premiumInteractionsQuotaExceeded:l,overagesEnabled:c}=(0,ay.xR)(),[d,u]=(0,_.useState)(ok);r[0]!==s||r[1]!==i||r[2]!==c||r[3]!==o||r[4]!==l?(e=()=>{if((i||eT.W.premiumRequestQuotasEnabled)&&void 0!==s){let e=a_.Jt.getMeterBannerFlag();s>0&&s<=oI||!i&&o>0&&o<=oI||!i&&l&&c?null===e?(a_.Jt.setMeterBannerFlag(!0),u(!0)):u(e):(a_.Jt.removeMeterBannerFlag(),u(!1))}},t=[i,s,o,c,l],r[0]=s,r[1]=i,r[2]=c,r[3]=o,r[4]=l,r[5]=e,r[6]=t):(e=r[5],t=r[6]),(0,_.useEffect)(e,t),r[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{a_.Jt.setMeterBannerFlag(!1),u(!1)},r[7]=a):a=r[7];let m=a,h=d&&void 0!==s&&(i||eT.W.premiumRequestQuotasEnabled);return r[8]!==h?(n={visible:h,onDismiss:m},r[8]=h,r[9]=n):n=r[9],n}function ok(){return a_.Jt.getMeterBannerFlag()??!1}function oE(e){let t,a,n,r,i,s=(0,p.c)(18),{onDismiss:o,className:l}=e,{isLicensedLimited:c,canUpgradePlan:d,canPurchaseAdditionalQuota:u,premiumInteractionsQuotaExceeded:h,resetDate:f}=(0,ay.xR)(),g=c?`You have used ${100-oI}% of your free requests this month.`:h?`You have used all premium requests available this month. You will be charged per additional premium request until the limit resets on ${f}.`:`You have used ${100-oI}% of your premium responses this month. ${d?"Upgrade to increase your limit.":"Enable additional requests to get more usage after the limit is reached."}`;s[0]!==u||s[1]!==d||s[2]!==h?(t=d&&!h?(0,m.jsx)(ap.z,{as:"a",href:eI.Zs,onClick:oD,children:"Upgrade"}):u&&!h?(0,m.jsx)(ap.z,{as:"a",href:eI.pF,onClick:oR,children:"Enable additional requests"}):u&&(0,m.jsx)(ap.z,{as:"a",href:eI.MB,onClick:oL,children:"Manage billing"}),s[0]=u,s[1]=d,s[2]=h,s[3]=t):t=s[3];let y=t;s[4]!==u||s[5]!==d||s[6]!==h?(a=d&&u&&!h?(0,m.jsx)(aA.A,{as:"a",href:eI.Zs,onClick:oA,children:"Enable additional requests"}):null,s[4]=u,s[5]=d,s[6]=h,s[7]=a):a=s[7];let x=a;return s[8]!==o?(n=()=>{o(),(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_DISMISS",mode:"immersive"})},s[8]=o,s[9]=n):n=s[9],s[10]!==g||s[11]!==y||s[12]!==x||s[13]!==n?(r=(0,m.jsx)(K.l,{variant:"info",title:"Limit reached soon",description:g,hideTitle:!0,primaryAction:y,secondaryAction:x,onDismiss:n}),s[10]=g,s[11]=y,s[12]=x,s[13]=n,s[14]=r):r=s[14],s[15]!==l||s[16]!==r?(i=(0,m.jsx)("div",{className:l,children:r}),s[15]=l,s[16]=r,s[17]=i):i=s[17],i}function oA(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function oL(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_MANAGE_BILLING",mode:"immersive"})}function oR(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_OVERAGES",mode:"immersive"})}function oD(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{oE.displayName||(oE.displayName="QuotaMeterBanner")}catch{}function oP(){let e,t,a,n,r=(0,p.c)(12),{ambientError:i}=(0,W.Pk)(),s=oT(),o=ob();return r[0]!==i?(e=i&&(0,m.jsx)(ox.P,{ambientError:i,useLargerBorderRadius:!0}),r[0]=i,r[1]=e):e=r[1],r[2]!==o.onDismiss||r[3]!==o.visible?(t=o.visible&&(0,m.jsx)(oC,{onDismiss:o.onDismiss}),r[2]=o.onDismiss,r[3]=o.visible,r[4]=t):t=r[4],r[5]!==s.onDismiss||r[6]!==s.visible?(a=s.visible&&(0,m.jsx)(oE,{className:o_.banner,onDismiss:s.onDismiss}),r[5]=s.onDismiss,r[6]=s.visible,r[7]=a):a=r[7],r[8]!==e||r[9]!==t||r[10]!==a?(n=(0,m.jsxs)(m.Fragment,{children:[e,t,a]}),r[8]=e,r[9]=t,r[10]=a,r[11]=n):n=r[11],n}try{oP.displayName||(oP.displayName="ChatInputBanners")}catch{}let oB={container:"Layout-module__container--ON_wj",left:"Layout-module__left--LHTG3",main:"Layout-module__main--JKQM5",content:"Layout-module__content--s7QoY",footer:"Layout-module__footer--raJHn",spaceBannerContainer:"Layout-module__spaceBannerContainer--hYIu0",chatInputContainer:"Layout-module__chatInputContainer--DXrKy",previewPane:"Layout-module__previewPane--vF1ZO",active:"Layout-module__active--nDCtU",viewer:"Layout-module__viewer--M_UyD",fullscreenPreviewPane:"Layout-module__fullscreenPreviewPane--i4oKD",fullscreenPluginPane:"Layout-module__fullscreenPluginPane--nfB0s"},oM={notificationsSection:"NotificationsSection-module__notificationsSection--ArEtE",spaceBannerContainer:"NotificationsSection-module__spaceBannerContainer--XY6vv",banner:"NotificationsSection-module__banner--gFs8T"},oO={container:"FreeChatExceededBanner-module__container--tU_jX"};function oF(){let e,t,a=(0,p.c)(3),{resetDate:n}=(0,ay.xR)(),r=`You have reached your free plan limit. Limit resets on ${n}.`;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(ap.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:o$,children:"Upgrade"}),a[0]=e):e=a[0];let i=e;return a[1]!==r?(t=(0,m.jsx)("div",{className:oO.container,children:(0,m.jsx)(K.l,{variant:"upsell",title:"Limit reached",description:r,hideTitle:!0,primaryAction:i})}),a[1]=r,a[2]=t):t=a[2],t}function o$(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{oF.displayName||(oF.displayName="FreeChatExceededBanner")}catch{}function oU(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(K.l,{title:"Chat is disabled",variant:"warning",description:"Conversation unavailable. The linked space may have been deleted, or you might be signed out of your organization.",hideTitle:!0}),t[0]=e):e=t[0],e}function oV(e){let t,a=(0,p.c)(3),{customCopilot:n}=e,r=(0,ef.Zp)();return a[0]!==n||a[1]!==r?(t=n&&(0,m.jsx)(K.l,{title:"Chat is disabled",variant:"critical",description:"You've exceeded the size limit for this space. Remove some references to continue chatting.",hideTitle:!0,primaryAction:(0,m.jsx)(ap.z,{as:"a",href:(0,av.Cb)(n),onClick:e=>{e.preventDefault(),r((0,av.Cb)(n))},children:"Edit"})}),a[0]=n,a[1]=r,a[2]=t):t=a[2],t}function oW(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(K.l,{title:"Reference size exceeded",variant:"critical",description:"You've exceeded the size limit for this space. Remove some references to continue.",hideTitle:!0,className:"mb-3"}),t[0]=e):e=t[0],e}function oz(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(K.l,{title:"Reference not found",variant:"critical",description:"We couldn't access that repository. Make sure it exists and that you have permission to use it.",hideTitle:!0,className:"mb-3"}),t[0]=e):e=t[0],e}function oH(e){let t,a,n,r=(0,p.c)(8),{errorMessages:i,onDismiss:s,className:o}=e,l=void 0===o?"":o;if(0===i.length)return null;r[0]!==i?(t=Array.from(new Set(i)),r[0]=i,r[1]=t):t=r[1];let c=t;r[2]!==c?(a=1===c.length?c[0]:(0,m.jsxs)(m.Fragment,{children:["Errors during attachment upload:",(0,m.jsx)("ul",{style:{paddingLeft:"1.2em"},children:c.map(oq)})]}),r[2]=c,r[3]=a):a=r[3];let d=a;return r[4]!==l||r[5]!==d||r[6]!==s?(n=(0,m.jsx)(K.l,{variant:"critical",description:d,title:"Error during attachment upload",hideTitle:!0,className:l,onDismiss:s}),r[4]=l,r[5]=d,r[6]=s,r[7]=n):n=r[7],n}function oq(e){return(0,m.jsx)("li",{children:e},e)}try{oU.displayName||(oU.displayName="SpaceDeletedBanner")}catch{}try{oV.displayName||(oV.displayName="SpaceSizeExceededBanner")}catch{}try{oW.displayName||(oW.displayName="ReferenceSizeExceededBanner")}catch{}try{oz.displayName||(oz.displayName="AssociatedRepositoryReferenceNotFoundBanner")}catch{}try{oH.displayName||(oH.displayName="UploadErrorBanner")}catch{}let oG={spaceHomepage:"spaceHomepage",customCopilotDisabled:"customCopilotDisabled",customCopilotSizeExceeded:"customCopilotSizeExceeded"};function oK(e){let t=(0,p.c)(4),{variant:a,customCopilot:n}=e;switch(a){case oG.customCopilotDisabled:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(oU,{}),t[0]=e):e=t[0],e}case oG.customCopilotSizeExceeded:{let e;return t[1]!==n?(e=(0,m.jsx)(oV,{customCopilot:n}),t[1]=n,t[2]=e):e=t[2],e}case oG.spaceHomepage:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(m.Fragment,{}),t[3]=e):e=t[3],e}default:return null}}function oQ(e,t){let a,n,r=(0,p.c)(9),{isPending:i,data:s,error:o}=(0,ab.Ao)(e),l=o instanceof ab.i9,c=o instanceof ab.OW;if(o&&!l&&!c)throw o;let d=i||l||c||!s?void 0:s;r[0]!==d||r[1]!==e||r[2]!==i||r[3]!==t?(a=function(e,t,a,n){if(e&&!n)return oG.spaceHomepage;if(a)return null;let r=!!t;return e&&!r?oG.customCopilotDisabled:(0,av.Hh)(t)?oG.customCopilotSizeExceeded:null}(e,d,i,t),r[0]=d,r[1]=e,r[2]=i,r[3]=t,r[4]=a):a=r[4];let u=a;return r[5]!==d||r[6]!==i||r[7]!==u?(n={variant:u,customCopilot:d,isLoading:i},r[5]=d,r[6]=i,r[7]=u,r[8]=n):n=r[8],n}try{oK.displayName||(oK.displayName="SpaceConversationBanner")}catch{}function oY(){let e,t,a=(0,p.c)(16),{ambientError:n,customCopilots:r,selectedThreadID:i}=(0,W.Pk)(),s=(0,oc.G)();a[0]!==s||a[1]!==r?(e=(0,av.JB)(r,s),a[0]=s,a[1]=r,a[2]=e):e=a[2];let o=!!e,{chatQuotaExceeded:l,isLicensedLimited:c}=(0,ay.xR)(),{variant:d,customCopilot:u}=oQ(s,i),h=(!d||o)&&!(c&&l),f=oT(),g=ob(),y=d===oG.customCopilotDisabled,x=d===oG.customCopilotSizeExceeded,_=h&&n,v=h&&g.visible,b=h&&f.visible,j=!h,C=y||x,N=y||x||_||v||b||j;return a[3]!==n||a[4]!==u||a[5]!==g||a[6]!==f||a[7]!==_||a[8]!==j||a[9]!==v||a[10]!==b||a[11]!==N||a[12]!==y||a[13]!==C||a[14]!==x?(t=N&&(0,m.jsxs)("section",{"aria-label":"Notifications",className:oM.notificationsSection,children:[C&&(0,m.jsxs)("div",{className:oM.spaceBannerContainer,children:[y&&(0,m.jsx)(oU,{}),x&&(0,m.jsx)(oV,{customCopilot:u})]}),_&&(0,m.jsx)(ox.P,{ambientError:n,useLargerBorderRadius:!0}),!C&&(0,m.jsxs)(m.Fragment,{children:[v&&(0,m.jsx)(oC,{onDismiss:g.onDismiss}),b&&(0,m.jsx)(oE,{className:oM.banner,onDismiss:f.onDismiss}),j&&(0,m.jsx)(oF,{})]})]}),a[3]=n,a[4]=u,a[5]=g,a[6]=f,a[7]=_,a[8]=j,a[9]=v,a[10]=b,a[11]=N,a[12]=y,a[13]=C,a[14]=x,a[15]=t):t=a[15],t}try{oY.displayName||(oY.displayName="NotificationsSection")}catch{}function oJ(e){let t,a,n,r,i,s=(0,p.c)(19),{textAreaRef:o,handleUserSubmit:l,nextMessageIndex:c}=e,d=(0,W.Pk)(),{chatQuotaExceeded:u,isLicensedLimited:h}=(0,ay.xR)(),{needsSsoAuthentication:f}=oy(),g=(0,oc.G)(),y=f&&g,x=(0,og.G)(),_=function(){let e,t=(0,p.c)(2),{figmaAuthUrl:a}=(0,U.X)();if(a){if(t[0]!==a){let n=new URL(a,location.origin);n.searchParams.set("return_url",location.pathname+location.search),e=n.toString(),t[0]=a,t[1]=e}else e=t[1];return e}}();s[0]!==c?(t={messageIndex:c},s[0]=c,s[1]=t):t=s[1];let v=aC(t),{versionedItems:b,items:j}=(0,au.xx)();if(s[2]!==j){for(let[,e]of(n=new Set,j))"file"===e.type&&n.add(e.name);s[2]=j,s[3]=n}else n=s[3];a=n;let C=!(h&&u)&&!y;return s[4]!==C||s[5]!==a||s[6]!==_||s[7]!==l||s[8]!==y||s[9]!==x||s[10]!==c||s[11]!==v||s[12]!==g||s[13]!==d||s[14]!==o||s[15]!==b?(r=C?(0,m.jsxs)(m.Fragment,{children:[eT.W.groupNotifications&&(0,m.jsx)(oY,{}),!eT.W.groupNotifications&&(0,m.jsx)(oP,{}),(0,m.jsx)(tk.V,{showModelPicker:!0,onNewThreadSelected:x,textAreaRef:o,onSubmit:l,isStreaming:!!d.streamingMessage,size:"large",showSpacesSelect:!0,showMcpToolsButton:!g,showPlanningToggle:!0,onSelectReference:v,getReferenceVersion:e=>(0,aj.wt)(e,c,b),existingFileNames:a,figmaAuthUrl:_})]}):!eT.W.groupNotifications&&!y&&(0,m.jsx)(oF,{}),s[4]=C,s[5]=a,s[6]=_,s[7]=l,s[8]=y,s[9]=x,s[10]=c,s[11]=v,s[12]=g,s[13]=d,s[14]=o,s[15]=b,s[16]=r):r=s[16],s[17]!==r?(i=(0,m.jsx)("div",{className:oB.chatInputContainer,children:r}),s[17]=r,s[18]=i):i=s[18],i}try{oJ.displayName||(oJ.displayName="ChatInputContainer")}catch{}var oX=a(66837),oZ=a(83139),o0=a(63602),o1=a(75320),o2=a(45518),o3=a(7479),o4=a(84464),o5=a(58691),o6=a(94280),o7=a(640),o8=a(18828),o9=a(91321);let le={shareButton:"ManageSharedConversationButton-module__shareButton--A4cNu",menuButton:"ManageSharedConversationButton-module__menuButton--BAXN7",successState:"ManageSharedConversationButton-module__successState--o6D7d",hideOnMobile:"ManageSharedConversationButton-module__hideOnMobile--HzeSN"},lt=_.forwardRef(function(e,t){let a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C=(0,p.c)(46),{openDialog:N}=e,{selectedThreadID:S,threads:w}=(0,W.Pk)(),[I,T]=(0,_.useState)(!1),[k,E]=(0,_.useState)(!1),[A,L]=(0,_.useState)(!1),[R,D]=(0,_.useState)("Copy link");C[0]!==S||C[1]!==w?(a=w.get(S)?.sharedID,C[0]=S,C[1]=w,C[2]=a):a=C[2];let P=a,M=`${eg.fV.origin}/copilot/share/${P||"\u2026"}`,{messages:O}=(0,W.Pk)(),F=(0,eI.Q7)(O).length>0;C[3]!==F?(n=()=>F?"Disabled for Copilot extensions":"Anyone with the link can view this conversation",C[3]=F,C[4]=n):n=C[4];let $=n;C[5]!==S||C[6]!==M||C[7]!==P?(r=async e=>{"preventDefault"in e&&(e.preventDefault(),e.stopPropagation());try{await (0,o7.D)(M),E(!0),D("Copied!"),setTimeout(()=>{E(!1),D("Copy link")},2e3),(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_COPY_SHARED_CONVERSATION_LINK",mode:"immersive",originalThreadId:S,sharedThreadId:P})}catch{}},C[5]=S,C[6]=M,C[7]=P,C[8]=r):r=C[8];let U=r;C[9]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{T(!0),(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_UNSHARE_DIALOG_OPEN",mode:"immersive"})},C[9]=i):i=C[9];let V=i;C[10]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{T(!1),(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_UNSHARE_DIALOG_CLOSE",mode:"immersive"})},C[10]=s):s=C[10];let z=s;C[11]!==F||C[12]!==N?(o=()=>{F||N()},C[11]=F,C[12]=N,C[13]=o):o=C[13];let H=o,q=$();C[14]!==F||C[15]!==H?(l=(0,m.jsx)(e$.Q,{leadingVisual:B.UnlockIcon,onClick:H,inactive:F,children:"Share"}),C[14]=F,C[15]=H,C[16]=l):l=C[16],C[17]!==t||C[18]!==q||C[19]!==l?(c=(0,m.jsx)(o8.m,{text:q,direction:"n",type:"label",ref:t,children:l}),C[17]=t,C[18]=q,C[19]=l,C[20]=c):c=C[20],C[21]===Symbol.for("react.memo_cache_sentinel")?(d=(0,m.jsx)(tD.W.Button,{"aria-label":"Additional share options",icon:B.TriangleDownIcon,className:le.menuButton}),C[21]=d):d=C[21],C[22]!==k?(u=(0,m.jsx)(tB.l.LeadingVisual,{children:k?(0,m.jsx)(B.CheckIcon,{className:le.successState}):(0,m.jsx)(B.CopyIcon,{})}),C[22]=k,C[23]=u):u=C[23];let G=k?le.successState:void 0;return C[24]!==R||C[25]!==G?(h=(0,m.jsx)("span",{className:G,children:R}),C[24]=R,C[25]=G,C[26]=h):h=C[26],C[27]!==U||C[28]!==u||C[29]!==h?(f=(0,m.jsxs)(tB.l.Item,{onSelect:U,children:[u,h]},"copy-link"),C[27]=U,C[28]=u,C[29]=h,C[30]=f):f=C[30],C[31]===Symbol.for("react.memo_cache_sentinel")?(g=(0,m.jsxs)(tB.l.Item,{variant:"danger",onSelect:V,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.UnlinkIcon,{})}),"Unshare"]},"Unshare-link"),C[31]=g):g=C[31],C[32]!==f?(y=(0,m.jsx)(tD.W.Overlay,{width:"small",children:(0,m.jsx)(tB.l,{children:(0,m.jsxs)(m.Fragment,{children:[f,g]})})}),C[32]=f,C[33]=y):y=C[33],C[34]!==A||C[35]!==y?(x=(0,m.jsxs)(tD.W,{open:A,onOpenChange:L,children:[d,y]}),C[34]=A,C[35]=y,C[36]=x):x=C[36],C[37]!==x||C[38]!==c?(v=(0,m.jsxs)(o9.A,{"data-testid":"manage-shared-conversations",className:`${le.shareButton} ${le.hideOnMobile}`,children:[c,x]}),C[37]=x,C[38]=c,C[39]=v):v=C[39],C[40]!==S||C[41]!==I?(b=I&&(0,m.jsx)(o6.Q,{threadId:S,closeDialog:z}),C[40]=S,C[41]=I,C[42]=b):b=C[42],C[43]!==v||C[44]!==b?(j=(0,m.jsxs)(m.Fragment,{children:[v,b]}),C[43]=v,C[44]=b,C[45]=j):j=C[45],j});try{lt.displayName||(lt.displayName="ManageSharedConversationButton")}catch{}try{(i=ManageSharedConversationButtonWithRef).displayName||(i.displayName="ManageSharedConversationButtonWithRef")}catch{}let la={shareButton:"ShareConversationButton-module__shareButton--_CML9",hideOnMobile:"ShareConversationButton-module__hideOnMobile--AYVjz"},ln=_.forwardRef(function(e,t){let a,n,r,i,s,o=(0,p.c)(15),{openDialog:l}=e,{messages:c}=(0,W.Pk)(),d=(0,eI.Q7)(c).length>0;o[0]!==c?(a=(0,eI.UM)(c),o[0]=c,o[1]=a):a=o[1];let u=a,h=d||u;o[2]!==h||o[3]!==l?(n=()=>{h||l()},o[2]=h,o[3]=l,o[4]=n):n=o[4];let f=n;o[5]!==d||o[6]!==u?(r=()=>d?"Disabled for Copilot extensions":u?"Disabled for conversations that have third-party MCP references":"This conversation has not yet been shared",o[5]=d,o[6]=u,o[7]=r):r=o[7];let g=r();return o[8]!==h||o[9]!==f?(i=(0,m.jsx)(e$.Q,{leadingVisual:B.LockIcon,inactive:h,onClick:f,className:`${la.shareButton} ${la.hideOnMobile}`,children:"Share"}),o[8]=h,o[9]=f,o[10]=i):i=o[10],o[11]!==t||o[12]!==g||o[13]!==i?(s=(0,m.jsx)(o8.m,{text:g,direction:"n",type:"label",ref:t,children:i}),o[11]=t,o[12]=g,o[13]=i,o[14]=s):s=o[14],s});try{ln.displayName||(ln.displayName="ShareConversationButton")}catch{}try{(s=ShareConversationButtonWithRef).displayName||(s.displayName="ShareConversationButtonWithRef")}catch{}let lr=()=>{let e,t,a,n,r,i,s=(0,p.c)(12),{selectedThreadID:o,threads:l}=(0,W.Pk)();s[0]!==o||s[1]!==l?(e=o&&l.get(o)?.sharedID,s[0]=o,s[1]=l,s[2]=e):e=s[2];let c=!!e,[d,u]=(0,_.useState)(!1),h=(0,_.useRef)(null);s[3]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{u(!0),(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SHARE_DIALOG_OPEN",mode:"immersive"})},s[3]=t):t=s[3];let f=t;s[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{u(!1),(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SHARE_DIALOG_CLOSE",mode:"immersive"})},s[4]=a):a=s[4];let g=a;return s[5]!==c?(n=c?(0,m.jsx)(lt,{openDialog:f,ref:h}):(0,m.jsx)(ln,{openDialog:f,ref:h}),s[5]=c,s[6]=n):n=s[6],s[7]!==d?(r=d&&(0,m.jsx)(o5.S,{closeDialog:g,returnFocusRef:h}),s[7]=d,s[8]=r):r=s[8],s[9]!==n||s[10]!==r?(i=(0,m.jsxs)(m.Fragment,{children:[n,r]}),s[9]=n,s[10]=r,s[11]=i):i=s[11],i};try{lr.displayName||(lr.displayName="ConversationSharingButton")}catch{}let li={header:"Header-module__header--ufLgW",rightControls:"Header-module__rightControls--Ce65x",editedPromptIndicator:"Header-module__editedPromptIndicator--k1vcE",leadingVisual:"Header-module__leadingVisual--O6MuP"};var ls=a(74547);let lo=()=>{let e=(0,W.Pk)(),t=(0,oc.G)(),a=(0,av.JB)(e.customCopilots,t),n=(0,av.mM)(),r=(0,av.FQ)(),i=n||a,s=!r&&a;return{updateGlobalNavigationBreadcrumbs:()=>{let e=[{label:"Copilot",href:"/copilot"}];i&&e.push({label:"Spaces",href:eI.VR}),s&&a&&e.push({label:a.name,href:(0,av.Cb)(a)}),(0,ls.FC)(e)}}},ll={dialog:"SystemPromptDialog-module__dialog--DZtq2",content:"SystemPromptDialog-module__content--OeMCM",description:"SystemPromptDialog-module__description--eb7_P",textareaContainer:"SystemPromptDialog-module__textareaContainer--MN8c4",textarea:"SystemPromptDialog-module__textarea--MK1JE"},lc=(0,_.forwardRef)(function(e,t){let a,n,r,i,s,o,l,c=(0,p.c)(12),d=(0,q.b)(),[u,h]=(0,_.useState)(!1),[f,g]=(0,_.useState)(void 0);c[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>({openDialog:()=>h(!0)}),c[0]=a):a=c[0],(0,_.useImperativeHandle)(t,a),c[1]!==d?(n=()=>{(async()=>{g(await d.getSystemPrompt())})()},r=[d],c[1]=d,c[2]=n,c[3]=r):(n=c[2],r=c[3]),(0,_.useEffect)(n,r),c[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{h(!1),(0,ta.BI)("dotcom_chat.activate",{target:"SYSTEM_PROMPT_DIALOG_CLOSE",mode:"immersive"})},c[4]=i):i=c[4];let y=i;c[5]!==f?(s=()=>(0,m.jsxs)("div",{className:ll.content,children:[(0,m.jsxs)("p",{className:ll.description,children:["The system prompt for"," ",(0,m.jsx)(aA.A,{muted:!0,inline:!0,href:"https://github.com/copilot",children:"GitHub Copilot"})," ","is a set of instructions that guides the LLM to provide enhanced functionality and output quality based on user input."]}),(0,m.jsx)("div",{className:ll.textareaContainer,children:(0,m.jsx)("textarea",{className:ll.textarea,readOnly:!0,children:f})})]}),c[5]=f,c[6]=s):s=c[6];let x=s;return c[7]!==u||c[8]!==x?(o=u&&(0,m.jsx)(aK.l,{onClose:y,title:"System prompt",renderBody:x,className:ll.dialog}),c[7]=u,c[8]=x,c[9]=o):o=c[9],c[10]!==o?(l=(0,m.jsx)(m.Fragment,{children:o}),c[10]=o,c[11]=l):l=c[11],l});try{lc.displayName||(lc.displayName="SystemPromptDialog")}catch{}function ld(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,y,v,b,j,C,N,S,w,I,T,k,E,A,L,R,D,P,M,O,F,$,V,z,H,G=(0,p.c)(78),{showPreviewPaneButton:K,conversationSpecificItems:Q,customButtons:J}=e,X=void 0===K||K,Z=(0,q.b)(),ee=(0,W.Pk)(),{repoCustomInstructionsEnabled:et,selectedThreadID:ea,threads:en,messagesLoading:er,currentReferences:ei}=ee,es=(0,W.pn)(lh);G[0]!==es?(t=(0,eI.CB)(es),G[0]=es,G[1]=t):t=G[1];let eo=t,el=ou(),ec=(0,oc.G)(),ed=(0,av.JB)(ee.customCopilots,ec),{updateGlobalNavigationBreadcrumbs:eu}=lo();G[2]!==eu?(a=()=>{eu()},G[2]=eu,G[3]=a):a=G[3],G[4]!==ec||G[5]!==eu?(n=[eu,ec],G[4]=ec,G[5]=eu,G[6]=n):n=G[6],(0,_.useEffect)(a,n);let em=(0,_.useRef)(null),ep=(0,_.useRef)(null);G[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o3.X)(),G[7]=i):i=G[7],r=i,G[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Y.G7)("copilot_staff_prompt_dialog")&&r,G[8]=s):s=G[8];let eh=s,[ef,eg]=(0,_.useState)(!1),[ey,ex]=(0,_.useState)(!1),e_=(0,_.useRef)(null),ev=!!a_.Jt.settings?.instructionPrompt,{isLicensedLimited:eb}=(0,ay.xR)(),eC=(0,_.useRef)(null),[eN,eS]=(0,_.useState)(null),ew=(0,eI.NJ)(ei).length>0,[eT,ek,eE]=(0,o4.B)(!1),{canShareThread:eA}=(0,U.X)(),eL="loaded"===er.state,[eR,eD]=(0,_.useState)(!1),eP=eA&&!el&&ea&&!ec&&eL,eB=(0,av.mM)(),eM=!!(ec||eB);return ed?es?(0,g.D)(`${eo} \xb7 ${ed.name} \xb7 GitHub Copilot Spaces`):(0,g.D)(`${ed.name} \xb7 GitHub Copilot Spaces`):eB?(0,g.D)("Spaces \xb7 GitHub Copilot"):el?(0,g.D)("Shared conversation \xb7 GitHub Copilot"):(0,g.D)(`${eo} \xb7 GitHub Copilot`),G[9]!==eP?(o=eP&&(0,m.jsx)(lr,{}),G[9]=eP,G[10]=o):o=G[10],G[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,x.$)(ev&&li.editedPromptIndicator),G[11]=l):l=G[11],G[12]!==eT?(c=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{icon:B.KebabHorizontalIcon,"aria-label":"Menu",onClick:lp,className:l,loading:eT})}),G[12]=eT,G[13]=c):c=G[13],G[14]!==el||G[15]!==ec||G[16]!==ea||G[17]!==en?(d=ea&&!el&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(tB.l.Group,{children:[(0,m.jsx)(tB.l.GroupHeading,{children:"Conversation"}),(0,m.jsx)(oX.V,{onOpenDialog:eS,isShared:!!en.get(ea)?.sharedID,showShare:!ec,hideShareOnDesktop:!0})]}),(0,m.jsx)(tB.l.Divider,{})]}),G[14]=el,G[15]=ec,G[16]=ea,G[17]=en,G[18]=d):d=G[18],G[19]===Symbol.for("react.memo_cache_sentinel")?(u=(0,m.jsx)(tB.l.GroupHeading,{children:"Prompt"}),G[19]=u):u=G[19],G[20]!==Z||G[21]!==et||G[22]!==ew?(h=ew&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>{Z.toggleRepoCustomInstructions(!et)},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.RepoIcon,{})}),et?"Disable custom instructions":"Enable custom instructions"]}),G[20]=Z,G[21]=et,G[22]=ew,G[23]=h):h=G[23],G[24]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{ex(!0),(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_PERSONAL_INSTRUCTIONS",mode:"immersive"})},G[24]=f):f=G[24],G[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,m.jsxs)(tB.l.Item,{onSelect:f,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.NoteIcon,{})}),"Personal instructions"]}),G[25]=y):y=G[25],G[26]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{ep.current?.openDialog(),(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_SYSTEM_PROMPT",mode:"immersive"})},G[26]=v):v=G[26],G[27]===Symbol.for("react.memo_cache_sentinel")?(b=(0,m.jsxs)(tB.l.Item,{onSelect:v,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.CpuIcon,{})}),"System prompt"]}),j=eh&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>eg(!0),children:[(0,m.jsx)(tB.l.LeadingVisual,{children:ev?(0,m.jsx)("span",{className:(0,x.$)(li.editedPromptIndicator,li.leadingVisual),children:(0,m.jsx)(B.BeakerIcon,{})}):(0,m.jsx)(B.BeakerIcon,{})}),"Edit prompt",(0,m.jsx)(tB.l.TrailingVisual,{children:(0,m.jsx)(ej.A,{variant:"attention",children:"Staff"})})]}),G[27]=b,G[28]=j):(b=G[27],j=G[28]),G[29]!==h?(C=(0,m.jsxs)(tB.l.Group,{children:[u,h,y,b,j]}),G[29]=h,G[30]=C):C=G[30],G[31]===Symbol.for("react.memo_cache_sentinel")?(N=(0,m.jsx)(tB.l.Divider,{}),G[31]=N):N=G[31],G[32]!==eM?(S=!eM&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>{eD(!0)},children:["Manage shared conversations",(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.ListUnorderedIcon,{})})]}),G[32]=eM,G[33]=S):S=G[33],G[34]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{em.current?.openDialog(),(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"immersive"})},G[34]=w):w=G[34],G[35]===Symbol.for("react.memo_cache_sentinel")?(I=(0,m.jsxs)(tB.l.Item,{onSelect:w,children:["Give feedback",(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.CommentIcon,{})})]}),G[35]=I):I=G[35],G[36]!==eb?(T=eb&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(tB.l.LinkItem,{href:"/github-copilot/signup/copilot_individual",onClick:lm,children:["Upgrade to Pro",(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.CopilotIcon,{})})]})}),G[36]=eb,G[37]=T):T=G[37],G[38]===Symbol.for("react.memo_cache_sentinel")?(k=(0,m.jsxs)(tB.l.LinkItem,{href:"/settings/copilot",onClick:lu,children:["Settings",(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.GearIcon,{})})]}),G[38]=k):k=G[38],G[39]!==S||G[40]!==T?(E=(0,m.jsxs)(tB.l.Group,{children:[S,I,T,k]}),G[39]=S,G[40]=T,G[41]=E):E=G[41],G[42]===Symbol.for("react.memo_cache_sentinel")?(A=(0,m.jsx)(o0.k,{}),G[42]=A):A=G[42],G[43]!==Q||G[44]!==d||G[45]!==C||G[46]!==E?(L=(0,m.jsx)(tD.W.Overlay,{width:"small",children:(0,m.jsxs)(tB.l,{children:[Q,d,C,N,E,A]})}),G[43]=Q,G[44]=d,G[45]=C,G[46]=E,G[47]=L):L=G[47],G[48]!==c||G[49]!==L?(R=(0,m.jsxs)(tD.W,{anchorRef:eC,children:[c,L]}),G[48]=c,G[49]=L,G[50]=R):R=G[50],G[51]!==X?(D=X&&(0,m.jsx)(lf,{}),G[51]=X,G[52]=D):D=G[52],G[53]===Symbol.for("react.memo_cache_sentinel")?(P=(0,m.jsx)(lc,{ref:ep}),M=(0,m.jsx)(tR.l,{ref:em,mode:"immersive",returnFocusRef:eC}),G[53]=P,G[54]=M):(P=G[53],M=G[54]),G[55]!==eN||G[56]!==ea||G[57]!==ek||G[58]!==eE||G[59]!==eo?(O=ea&&(0,m.jsx)(oX.p,{visibleDialog:eN,onClose:()=>{(0,n_.flushSync)(()=>eS(null)),eC.current?.focus()},threadName:eo,threadId:ea,selectedThreadId:ea,onStartLoading:ek,onFinishLoading:eE,returnFocusRef:eC}),G[55]=eN,G[56]=ea,G[57]=ek,G[58]=eE,G[59]=eo,G[60]=O):O=G[60],G[61]!==J||G[62]!==R||G[63]!==D||G[64]!==O||G[65]!==o?(F=(0,m.jsxs)("div",{className:li.rightControls,children:[o,J,R,D,P,M,O]}),G[61]=J,G[62]=R,G[63]=D,G[64]=O,G[65]=o,G[66]=F):F=G[66],G[67]!==ef?($=ef&&(0,m.jsx)(o2.X,{promptDialogRef:e_,onDismiss:()=>eg(!1)}),G[67]=ef,G[68]=$):$=G[68],G[69]!==ey?(V=ey&&(0,m.jsx)(o1.Y,{onDismiss:()=>ex(!1),returnFocusRef:eC}),G[69]=ey,G[70]=V):V=G[70],G[71]!==eR?(z=eR&&(0,m.jsx)(oZ.b,{closeDialog:()=>{eD(!1)}}),G[71]=eR,G[72]=z):z=G[72],G[73]!==F||G[74]!==$||G[75]!==V||G[76]!==z?(H=(0,m.jsxs)("div",{className:li.header,children:[F,$,V,z]}),G[73]=F,G[74]=$,G[75]=V,G[76]=z,G[77]=H):H=G[77],H}function lu(){return(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_SETTINGS",mode:"immersive"})}function lm(){return(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_UPGRADE_PRO",mode:"immersive"})}function lp(){return(0,ta.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU",mode:"immersive"})}function lh(e){return(0,nI.W)(e)}function lf(){let e,t=(0,p.c)(4),a=(0,au.tZ)(),{openPreviewPane:n}=(0,au.xx)(),r=an();return t[0]!==r||t[1]!==n||t[2]!==a?(e=!a&&(0,m.jsx)(tP.K,{icon:B.SidebarExpandIcon,"aria-label":"Open workbench",onClick:()=>{(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_OPEN_BUTTON",mode:"immersive"}),n()},ref:r}),t[0]=r,t[1]=n,t[2]=a,t[3]=e):e=t[3],e}try{ld.displayName||(ld.displayName="Header")}catch{}try{lf.displayName||(lf.displayName="PreviewPaneButton")}catch{}var lg=a(44669),ly=a(40136),lx=a(42342),l_=a(84863),lv=a(59220),lb=a(17515),lj=a(9205),lC=a(32702),lN=a(45064),lS=a(69632),lw=a(78929),lI=a(95409),lT=a(4699),lk=a(87928),lE=a(5279),lA=a(85332),lL=a(79311),lR=a(39376),lD=a(31771),lP=a(88011),lB=a(90851),lM=a(97785);let lO={imageAttachment:"ChatImageAttachment-module__imageAttachment--YlPWs"},lF=e=>{let t,a,n,r,i=(0,p.c)(18),{messageId:s,src:o,alt:l,name:c,mode:d,squareView:u}=e,{openPreviewPane:h,openItem:f,updateItem:g}=(0,au.xx)(),y=`image:${o}`;i[0]!==y||i[1]!==f||i[2]!==h?(t=e=>{e.metaKey||e.ctrlKey||((0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_IMAGE_OPENED",mode:"immersive"}),f(y),h(),e.preventDefault())},i[0]=y,i[1]=f,i[2]=h,i[3]=t):t=i[3];let x=t;return i[4]!==l||i[5]!==y||i[6]!==s||i[7]!==c||i[8]!==o||i[9]!==g?(a=()=>{g({altText:l,id:y,messageId:s,name:c,type:"image",url:o})},n=[y,l,s,c,o,g],i[4]=l,i[5]=y,i[6]=s,i[7]=c,i[8]=o,i[9]=g,i[10]=a,i[11]=n):(a=i[10],n=i[11]),(0,_.useEffect)(a,n),i[12]!==l||i[13]!==d||i[14]!==x||i[15]!==u||i[16]!==o?(r=(0,m.jsx)("div",{className:lO.imageAttachment,children:(0,m.jsx)(lM.o,{src:o,alt:l,onClick:x,mode:d,useOverlay:!0,squareView:u})}),i[12]=l,i[13]=d,i[14]=x,i[15]=u,i[16]=o,i[17]=r):r=i[17],r},l$=(0,_.memo)(lF);try{lF.displayName||(lF.displayName="ChatImageAttachmentUnmemoized")}catch{}try{l$.displayName||(l$.displayName="ChatImageAttachment")}catch{}let lU={chatMessage:"ChatMessage-module__chatMessage--rtt38",user:"ChatMessage-module__user--UoWHh",editing:"ChatMessage-module__editing--BMp49",content:"ChatMessage-module__content--MYneF",imageGrid:"ChatMessage-module__imageGrid--juCGt",imageRow:"ChatMessage-module__imageRow--HFSCK",references:"ChatMessage-module__references--Kunt2",messageArea:"ChatMessage-module__messageArea--CoOmf",userMessage:"ChatMessage-module__userMessage--xvIFp",messageSubthreadIndicator:"ChatMessage-module__messageSubthreadIndicator--DJyyk",actions:"ChatMessage-module__actions--Jllb6",ai:"ChatMessage-module__ai--WrCO3",latest:"ChatMessage-module__latest--IZwZP",actionsPlaceholder:"ChatMessage-module__actionsPlaceholder--MCwTL",avatar:"ChatMessage-module__avatar--KYI8V",sharedThreadActions:"ChatMessage-module__sharedThreadActions--Z9ffu ChatMessage-module__actions--Jllb6",skillExecutionText:"ChatMessage-module__skillExecutionText--pIBPI",errorFallback:"ChatMessage-module__errorFallback--d0bNW"},lV={container:"ChatPagingComponent-module__container--nH9hp",disabledButton:"ChatPagingComponent-module__disabledButton--hCGPC",pageIndicator:"ChatPagingComponent-module__pageIndicator--HoVKG"};function lW(e){let t,a,n,r,i,s,o=(0,p.c)(23),{currentPage:l,totalPages:c,onPrev:d,onNext:u,isUserMessage:h}=e,f=(0,W.A3)("isWaitingOnCopilot");if(l<1)throw Error("currentPage must be greater than or equal to 1");if(c<1)throw Error("totalPages must be greater than or equal to 1");if(l>c)throw Error("currentPage must be less than or equal to totalPages");let g=1===l||f,y=l===c||f,x=g?lV.disabledButton:"",_=y?lV.disabledButton:"";o[0]!==l||o[1]!==h||o[2]!==d||o[3]!==g?(t=()=>{if(g)return;let e=h?"USER_MESSAGE_ACTION_PREVIOUS_RESPONSE":"RESPONSE_ACTION_PREVIOUS_RESPONSE";(0,ta.BI)("dotcom_chat.activate",{target:e,mode:"immersive"}),d(l-1)},o[0]=l,o[1]=h,o[2]=d,o[3]=g,o[4]=t):t=o[4];let v=t;o[5]!==l||o[6]!==h||o[7]!==y||o[8]!==u?(a=()=>{if(y)return;let e=h?"USER_MESSAGE_ACTION_NEXT_RESPONSE":"RESPONSE_ACTION_NEXT_RESPONSE";(0,ta.BI)("dotcom_chat.activate",{target:e,mode:"immersive"}),u(l+1)},o[5]=l,o[6]=h,o[7]=y,o[8]=u,o[9]=a):a=o[9];let b=a;return o[10]!==v||o[11]!==x?(n=(0,m.jsx)(tP.K,{variant:"invisible","aria-label":"Previous response",onClick:v,icon:B.ChevronLeftIcon,className:x}),o[10]=v,o[11]=x,o[12]=n):n=o[12],o[13]!==l||o[14]!==c?(r=(0,m.jsxs)("span",{className:lV.pageIndicator,children:[l,"/",c]}),o[13]=l,o[14]=c,o[15]=r):r=o[15],o[16]!==b||o[17]!==_?(i=(0,m.jsx)(tP.K,{variant:"invisible","aria-label":"Next response",onClick:b,icon:B.ChevronRightIcon,className:_}),o[16]=b,o[17]=_,o[18]=i):i=o[18],o[19]!==n||o[20]!==r||o[21]!==i?(s=(0,m.jsxs)("div",{className:lV.container,"data-testid":"chat-paging-component",children:[n,r,i]}),o[19]=n,o[20]=r,o[21]=i,o[22]=s):s=o[22],s}try{lW.displayName||(lW.displayName="ChatPagingComponent")}catch{}let lz={container:"ClientConfirmations-module__container--gWbBU",text:"ClientConfirmations-module__text--WHq3j"};function lH(e){let t,a,n,r=(0,p.c)(5),{authorName:i,clientConfirmations:s}=e,o=s?.[0],l=o?.state;return i=o?.userLogin||i,r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.$)("my-1",lz.container),r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(B.CheckIcon,{}),r[1]=a):a=r[1],r[2]!==i||r[3]!==l?(n=(0,m.jsx)("div",{className:t,children:(0,m.jsxs)("span",{className:lz.text,children:[a," ",i," ",l," the action"]})}),r[2]=i,r[3]=l,r[4]=n):n=r[4],n}try{lH.displayName||(lH.displayName="ClientConfirmations")}catch{}let lq={container:"UserMessageEdit-module__container--rqkMG",input:"UserMessageEdit-module__input--LbiZ1",inputContainer:"UserMessageEdit-module__inputContainer--tewB2",actions:"UserMessageEdit-module__actions--_YMp2"},lG=e=>{let t,a,n,r,i,s,o,l,c,d,u,h,f,g=(0,p.c)(25),{messageContent:y,onSubmit:x,onCancel:v}=e,b=(0,W.A3)("isWaitingOnCopilot"),[j,C]=(0,_.useState)(y),N=(0,_.useRef)(null);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{N.current&&(N.current.style.height="auto",N.current.style.height=`${N.current.scrollHeight}px`)},g[0]=t):t=g[0],g[1]!==j?(a=[j],g[1]=j,g[2]=a):a=g[2],(0,_.useEffect)(t,a),g[3]!==j||g[4]!==x?(n=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"USER_MESSAGE_EDITING_SUBMIT",mode:"immersive"}),x(j)},g[3]=j,g[4]=x,g[5]=n):n=g[5];let S=n;g[6]!==y||g[7]!==v?(r=()=>{v(),C(y),(0,ta.BI)("dotcom_chat.activate",{target:"USER_MESSAGE_EDITING_CANCEL",mode:"immersive"})},g[6]=y,g[7]=v,g[8]=r):r=g[8];let w=r,I=b?void 0:S;return g[9]!==w||g[10]!==I?(i={"copilot-chat:send-message":I,"github:cancel":w},g[9]=w,g[10]=I,g[11]=i):i=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(s=(0,aF.G)("user-message-edit-box"),g[12]=s):s=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(o=e=>C(e.target.value),g[13]=o):o=g[13],g[14]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{N.current&&(N.current.style.height="auto",N.current.style.height=`${N.current.scrollHeight}px`)},g[14]=l):l=g[14],g[15]!==j?(c=(0,m.jsx)("div",{className:lq.inputContainer,children:(0,m.jsx)("textarea",{ref:N,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",rows:1,placeholder:"Ask Copilot",value:j,onChange:o,className:lq.input,autoFocus:!0,onInput:l,onFocus:lK})}),g[15]=j,g[16]=c):c=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,m.jsx)(aG.cQ,{commandId:"github:cancel",children:"Cancel"}),g[17]=d):d=g[17],g[18]===Symbol.for("react.memo_cache_sentinel")?(u=(0,aF.G)("user-message-edit-submit"),g[18]=u):u=g[18],g[19]!==b?(h=(0,m.jsxs)("div",{className:lq.actions,children:[d,(0,m.jsx)(aG.cQ,{commandId:"copilot-chat:send-message",showKeybindingHint:!0,variant:"primary",...u,disabled:b,children:"Send"})]}),g[19]=b,g[20]=h):h=g[20],g[21]!==c||g[22]!==h||g[23]!==i?(f=(0,m.jsxs)(aG.tL,{commands:i,className:lq.container,...s,children:[c,h]}),g[21]=c,g[22]=h,g[23]=i,g[24]=f):f=g[24],f};try{lG.displayName||(lG.displayName="UserMessageEdit")}catch{}function lK(e){return e.target.setSelectionRange(0,e.target.value.length)}let lQ=({excludeFeedback:e,inputRef:t,isLatestMessage:a,isLatestUserMessage:n,isFirstReply:r,isStreaming:i,parentMessage:s,messageIndex:o,autoOpenPreviewPane:l,...c})=>{let{message:d}=(0,eB.V)(),u=(0,_.useMemo)(()=>(0,eI.H2)(d.references??[]),[d.references]),p=(0,q.b)(),h=(0,W.bP)("customCopilots","editingMessage","mode","wrapCodeLines"),f=(0,lP.tD)(),{items:g,versionedItems:y,openItem:v,removeItems:b,getOpenItems:j,openItemsBeforeSubthreadChange:C,setOpenItemsBeforeSubthreadChange:N,enableLoadingState:S,disableLoadingState:w}=(0,au.xx)(),I=aC({messageIndex:o,messageId:d.id,messageTimestamp:d.createdAt}),T=(0,_.useCallback)(()=>{let e=f(),t=[],a=d;for(;null!=a;)t.push(a.id),a=void 0!==a.selectedChildIndex?e.messages[a.selectedChildIndex]:void 0;let n=new Map;for(let[e,t]of g){let a=n.get(t.messageId)||[];a.push(e),n.set(t.messageId,a)}let r=[];for(let e of t){let t=n.get(e);if(t)for(let e of t)r.push(e)}for(let[e,t]of g)t.messageId===nw.Wp&&r.push(e);let i=j();N([...i]),r.some(e=>i.includes(e))&&S(),b(r)},[g,S,f,d,j,b,N]),{author:k,handleConfirmationAction:E,handleRetryErrorMessage:A,handleRetryCopilotResponse:L,handleEditUserMessage:R,hasClientConfirmations:D,isAgentError:P,isAI:M,isCopilot:O,isError:F,isInterrupted:$,isUser:U,myRef:V,rendererConfig:z,renderFeedback:H,shouldShowMessageActions:G,skillExecutionToUseForRespondingText:K,showRetryButton:Q}=(0,lR.p)({excludeFeedback:e,inputRef:t,isLatestMessage:a,isStreaming:i,removeOutdatedContentPreviewItems:T}),Y=ou(),J=h.editingMessage===d.id,X=i&&!F&&!d.confirmations&&!G&&a&&(!e||M),Z=(s?.childMessageIndexes?.findIndex(e=>e===o)||0)+1||1,ee=s?.childMessageIndexes?.length||1,et=ee>=lD.L9,ea=p.maxMessagesReached(),en=ee>1,er=(0,_.useMemo)(()=>d.mediaContent?.filter(e=>e.mediaType.startsWith("image/")),[d.mediaContent]),ei=(0,_.useMemo)(()=>!!er?.length,[er]),es=G&&Y&&(O||en),eo=(0,_.useRef)(null),el=(0,lB.M)(e=>{let t=y.get((0,aj.oy)(e))?.at(-1);t&&v(t,!1)});(0,_.useEffect)(()=>{if(eo.current!==d.id&&a&&C.length>0){let e=setTimeout(()=>{for(let e of C)el.current(e);w(),N([])});return()=>clearTimeout(e)}eo.current=d.id},[w,d.id,C,a,N,el]);let ec=(0,_.useCallback)(()=>{let{messages:e}=f(),t=Z-1;p.setSelectedMessage(e[s.childMessageIndexes[t-1]]),T()},[Z,p,s,T,f]),ed=(0,_.useCallback)(()=>{let{messages:e}=f(),t=Z-1;p.setSelectedMessage(e[s.childMessageIndexes[t+1]]),T()},[Z,p,s,T,f]),eu=(0,og.G)(),{model:em,availableModels:ep}=(0,W.bP)("model","availableModels"),eh=em;d.model&&(eh=(ep??[eh]).find(e=>e.id===d.model)||eh);let ef=()=>p.startEditingMessage(d.id),eg=(0,oc.G)(),ey=!!(0,av.JB)(h.customCopilots,eg),{selectedThreadID:ex}=(0,W.bP)("selectedThreadID"),{variant:e_}=oQ(eg,ex),ev=e_===oG.customCopilotSizeExceeded,eb=et||ea||!!eg&&!ey||ev,ej=O&&i&&a&&!d.content,eC=(0,_.useCallback)(e=>{p.setWrapCodeLines(e)},[p]),eN=i?rO:rF;return(0,m.jsxs)("div",{className:(0,x.$)("message-container",lU.chatMessage,U&&lU.user,M&&lU.ai,J?lU.editing:"",a&&lU.latest),ref:V,...(0,aF.G)(`message-${F?"error":i?"streaming":d.id}`),children:[M?(0,m.jsx)(lN.W,{isLoading:i&&a,isLoadingSkills:(d.skillExecutions??[]).length>0&&i&&""===d.content&&a,isError:F&&d.error?.type!=="agentUnauthorized",className:lU.avatar,mode:h.mode,isFirstMessage:r,message:d.content||"",createdAt:d.createdAt}):null,U&&ei&&(0,m.jsx)("div",{className:er?.length===4?lU.imageGrid:lU.imageRow,children:er?.map(e=>(0,m.jsx)(l$,{name:e?.name||"Uploaded image",messageId:d.id,src:e?.url||"",alt:`Uploaded image${e?.name?`: ${e.name}`:""}`,mode:h.mode,squareView:er?.length>=2},e?.url||""))}),U&&d.references&&d.references.length>0&&(0,m.jsx)(nF,{className:lU.references,messageId:d.id,messageTimestamp:d.createdAt,messageIndex:o,references:d.references,size:"medium"}),!J&&(0,m.jsx)("div",{className:lU.content,children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:(0,x.$)("js-snippet-clipboard-copy-unpositioned",lU.messageArea),children:[D?(0,m.jsx)(lH,{authorName:k.name,clientConfirmations:d.clientConfirmations??[]}):U?(0,m.jsx)(lA.R,{accessibleHeader:(0,eI.hV)("You",d.content??""),className:lU.userMessage}):(0,m.jsxs)(m.Fragment,{children:[ej&&(0,m.jsx)(lL.b,{className:(0,x.$)(lU.skillExecutionText,"mb-2"),children:`${(0,lI.WA)(K)}...`}),d.references&&d.references.length>0&&d.content&&(0,m.jsx)(nO.s,{className:"mb-2",references:d.references,isImmersive:!0,onClick:(e,t)=>{"draft-issue"===e.type&&I(e,t)}}),"assistant"===d.role&&(u.length?(0,m.jsx)(lj.Q,{mcpToolResults:u}):null),!D&&d.content&&(0,m.jsx)(lY,{children:(0,m.jsx)(eN,{autoOpenPreviewPane:l,markdown:d.content,messageId:d.id,messageIndex:o,messageTimestamp:d.createdAt,accessibleHeader:(0,eI.hV)("Copilot",d.content??""),copilotAnnotations:d.copilotAnnotations,wrapCodeLines:h.wrapCodeLines,onWrapCodeLinesChange:eC,...z})}),F?(0,m.jsx)(lS.K,{manager:p}):null,P&&d.agentErrors&&(0,m.jsx)(lS.h,{errors:d.agentErrors}),$?(0,m.jsx)(lT.h,{messageHasContent:!!d.content||!!d.skillExecutions?.length}):null,M&&!ej&&(0,eI.Ye)(d.confirmations).map((e,t)=>"indexrepo"===e.confirmation.name?null:(0,m.jsx)(lC.m,{confirmation:e,handleConfirmation:E,isLatestMessage:a},t))]}),en&&!a&&(0,m.jsxs)("div",{className:lU.messageSubthreadIndicator,"data-testid":"chat-paging-indicator",children:[Z,"/",ee]})]}),X&&(0,m.jsx)("div",{className:lU.actionsPlaceholder}),!G&&Q&&(0,m.jsx)(lk.$,{handleRetryMessage:A,disabled:eb}),G&&!Y&&(0,m.jsxs)(lE.M,{"aria-label":"Message tools",className:lU.actions,"data-testid":"nonshared-toolbar",children:[U&&(n?(0,m.jsx)(aG.N5,{commandId:"copilot-chat:edit-last-message",variant:"invisible","aria-label":"Edit message",onClick:ef,icon:B.PencilIcon,disabled:eb,...(0,aF.G)("edit-message-button")}):(0,m.jsx)(tP.K,{variant:"invisible","aria-label":"Edit message",onClick:ef,icon:B.PencilIcon,disabled:eb,...(0,aF.G)("edit-message-button")})),O&&(0,m.jsxs)(m.Fragment,{children:[H&&(0,m.jsx)(lw.G,{iconSize:"medium"}),!!d.content&&!i&&(0,m.jsx)(iW.T,{textToCopy:d.content??"",ariaLabel:"Copy to clipboard",size:"medium",className:"d-flex flex-items-center",onCopy:()=>(0,ta.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_COPY",mode:"immersive"})})]}),Q&&F?(0,m.jsx)(lk.$,{handleRetryMessage:A,disabled:eb}):M&&!F&&!d.clientSide&&(0,m.jsx)(lk.$,{handleRetryMessage:L,disabled:eb,showModelPicker:!!ep&&ep.length>1,model:eh,navigateToNewThread:eu}),en&&(0,m.jsx)(lW,{currentPage:Z,totalPages:ee,onPrev:ec,onNext:ed,isUserMessage:U})]}),es&&(0,m.jsxs)(lE.M,{"aria-label":"Message tools",className:lU.sharedThreadActions,"data-testid":"shared-toolbar",children:[O&&(0,m.jsx)(m.Fragment,{children:!!d.content&&!i&&(0,m.jsx)(iW.T,{textToCopy:d.content??"",ariaLabel:"Copy to clipboard",size:"medium",className:"d-flex flex-items-center actions",onCopy:()=>(0,ta.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_COPY",mode:"immersive"})})}),en&&(0,m.jsx)(lW,{currentPage:Z,totalPages:ee,onPrev:ec,onNext:ed,isUserMessage:U})]})]})}),J&&(0,m.jsx)(lG,{messageContent:d.content||"",onSubmit:R,onCancel:()=>p.cancelEditingMessage()})]})},lY=e=>{let t,a,n=(0,p.c)(3),{children:r}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(K.l,{className:lU.errorFallback,variant:"warning",title:"Message cannot be displayed",description:"An unknown error occurred while attempting to display this message."}),n[0]=t):t=n[0],n[1]!==r?(a=(0,m.jsx)(aw.t,{fallback:t,children:r}),n[1]=r,n[2]=a):a=n[2],a},lJ=e=>{let t,a,n,r,i,s,o,l,c=(0,p.c)(23);c[0]!==e?({message:n,messageIndex:r,isSharedMessage:a,isLatestMessage:t,...i}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=n,c[4]=r,c[5]=i):(t=c[1],a=c[2],n=c[3],r=c[4],i=c[5]);let d=ou();return c[6]!==t||c[7]!==a||c[8]!==d||c[9]!==n||c[10]!==r||c[11]!==i?(s=!rV(n)&&(0,m.jsx)(lQ,{...i,messageIndex:r,isSharedMessage:a,isLatestMessage:t,isViewingSharedThread:d}),c[6]=t,c[7]=a,c[8]=d,c[9]=n,c[10]=r,c[11]=i,c[12]=s):s=c[12],c[13]!==t||c[14]!==a||c[15]!==d||c[16]!==n||c[17]!==r?(o=(0,m.jsx)(rW,{message:n,messageIndex:r,isViewingSharedThread:d,isSharedMessage:a,isLatestMessage:t}),c[13]=t,c[14]=a,c[15]=d,c[16]=n,c[17]=r,c[18]=o):o=c[18],c[19]!==n||c[20]!==s||c[21]!==o?(l=(0,m.jsxs)(eB.$,{message:n,children:[s,o]}),c[19]=n,c[20]=s,c[21]=o,c[22]=l):l=c[22],l},lX=(0,_.memo)(lJ),lZ=e=>{let t,a,n=(0,p.c)(7),{message:r}=e,i=(0,W.Pk)();n[0]!==r||n[1]!==i.messages?(t=(0,nu.CX)(i.messages,r),n[0]=r,n[1]=i.messages,n[2]=t):t=n[2];let s=t,o="user"===r.role&&i.messages.findLast(l1)?.id===r.id;return n[3]!==o||n[4]!==s||n[5]!==e?(a=(0,m.jsx)(lX,{...e,parentMessage:s,isLatestUserMessage:o}),n[3]=o,n[4]=s,n[5]=e,n[6]=a):a=n[6],a},l0=e=>{let t,a=(0,p.c)(2);return a[0]!==e?(t=(0,m.jsx)(lY,{children:(0,m.jsx)(lZ,{...e})}),a[0]=e,a[1]=t):t=a[1],t};try{lQ.displayName||(lQ.displayName="InnerChatMessage")}catch{}try{lY.displayName||(lY.displayName="MessageErrorBoundary")}catch{}try{lJ.displayName||(lJ.displayName="ChatMessageUnmemoized")}catch{}try{lX.displayName||(lX.displayName="ChatMessageMemoized")}catch{}try{lZ.displayName||(lZ.displayName="ChatMessageWrapped")}catch{}try{l0.displayName||(l0.displayName="ChatMessage")}catch{}function l1(e){return"user"===e.role}var l2=a(94232);let l3={ConversationLoader:"ConversationLoader-module__ConversationLoader--iaHbr",ConversationLoader__assistantGroup:"ConversationLoader-module__ConversationLoader__assistantGroup--PYCmE",ConversationLoader__userGroup:"ConversationLoader-module__ConversationLoader__userGroup--rnmbz",ConversationLoader__assistantAvatar:"ConversationLoader-module__ConversationLoader__assistantAvatar--jPmNg",assistantAvatarSkeleton:"ConversationLoader-module__assistantAvatarSkeleton--TBu5f"};function l4(){let e,t,a=(0,p.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:l3.ConversationLoader__userGroup,children:(0,m.jsx)(l2.O,{variant:"rounded",height:"20px",width:"random"})}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsxs)("div",{className:l3.ConversationLoader,"data-testid":"conversation-loader",children:[e,(0,m.jsxs)("div",{className:l3.ConversationLoader__assistantGroup,children:[(0,m.jsx)(l2.O,{className:(0,x.$)(l3.ConversationLoader__assistantAvatar,l3.assistantAvatarSkeleton),variant:"elliptical"}),Array.from({length:Math.floor(4*Math.random())+2}).map(l5)]})]}),a[1]=t):t=a[1],t}function l5(e,t){return(0,m.jsx)(l2.O,{variant:"rounded",height:"20px",width:"random"},t)}try{l4.displayName||(l4.displayName="ConversationLoader")}catch{}let l6={container:"ErrorState-module__container--DKNLc",icon:"ErrorState-module__icon--Grz_W",description:"ErrorState-module__description--uIC8b",sso:"ErrorState-module__sso--b2klG"};function l7(e){let t,a,n,r,i,s=(0,p.c)(11),{title:o,description:l,ssoOrgs:c}=e,d=c&&c.length>0&&!(0,Y.G7)("global_sso_banner");return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(aL.E.Visual,{children:(0,m.jsx)(B.AlertIcon,{size:"medium",className:l6.icon})}),s[1]=a):a=s[1],s[2]!==o?(n=(0,m.jsx)(aL.E.Heading,{as:"h2",children:o}),s[2]=o,s[3]=n):n=s[3],s[4]!==l||s[5]!==d||s[6]!==c?(r=(void 0!==l||d)&&(0,m.jsxs)("div",{className:l6.description,children:[(0,m.jsx)(aL.E.Description,{children:(0,m.jsx)("span",{children:l})}),(0,m.jsx)("div",{className:l6.sso,children:d&&(0,m.jsx)(z.x,{protectedOrgs:c})})]}),s[4]=l,s[5]=d,s[6]=c,s[7]=r):r=s[7],s[8]!==n||s[9]!==r?(i=(0,m.jsxs)("div",{className:l6.container,children:[t,(0,m.jsxs)(aL.E,{border:!1,children:[a,n,r]})]}),s[8]=n,s[9]=r,s[10]=i):i=s[10],i}function l8(){let e,t,a,n,r,i=(0,p.c)(6),{helpUrl:s}=(0,U.X)();i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(aL.E.Visual,{children:(0,m.jsx)(B.LockIcon,{size:"medium",className:l6.icon})}),a=(0,m.jsx)(aL.E.Heading,{as:"h2",children:"You don't have access to this shared conversation"}),i[1]=t,i[2]=a):(t=i[1],a=i[2]),i[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.jsx)(aL.E.Description,{children:(0,m.jsx)("span",{children:"To view this shared link, you must have permissions to all resources referenced in the conversation."})}),i[3]=n):n=i[3];let o=`${s}/copilot/using-github-copilot/copilot-chat/asking-github-copilot-questions-in-github#sharing-copilot-chat-conversations`;return i[4]!==o?(r=(0,m.jsxs)("div",{className:l6.container,children:[e,(0,m.jsxs)(aL.E,{border:!1,children:[t,a,(0,m.jsxs)("div",{className:l6.description,children:[n,(0,m.jsx)(aA.A,{inline:!0,href:o,children:"Learn more"})]})]})]}),i[4]=o,i[5]=r):r=i[5],r}try{l7.displayName||(l7.displayName="ErrorState")}catch{}try{l8.displayName||(l8.displayName="SharedThreadForbidden")}catch{}let l9={container:"ImmersiveChat-module__container--Q4j2R",emptyContent:"ImmersiveChat-module__emptyContent--IQfnX",messageContent:"ImmersiveChat-module__messageContent--fpzTL",scrollToBottomButton:"ImmersiveChat-module__scrollToBottomButton--MQEF2",hidden:"ImmersiveChat-module__hidden--K3ci9"},ce=e=>{let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(42),{inputRef:f,isMobile:g}=e,{scrollToBottom:y}=(0,ly.b)(),x=(0,W.Pk)(),{isWaitingOnCopilot:v,messagesLoading:b,streamingMessage:j,messages:C}=x,{reloadQuota:N,premiumChatQuotaRemaining:S,isLicensedLimited:w}=(0,ay.xR)();h[0]!==x?(a=(0,nI.W)(x),t=(0,eI.CB)(a),h[0]=x,h[1]=t,h[2]=a):(t=h[1],a=h[2]);let I=t,T=a?.sharedMessageID,{messages:k,groupedMessages:E}=(0,lv.a)(x);h[3]!==k?(n=k.find(cs)?.id,h[3]=k,h[4]=n):n=h[4];let A=n;h[5]!==y?(r=()=>y("instant"),i=[y],h[5]=y,h[6]=r,h[7]=i):(r=h[6],i=h[7]),(0,lb.N)(r,i);let L=(0,aI.S)(x.streamingMessage);if(h[8]!==w||h[9]!==v||h[10]!==k.length||h[11]!==b.state||h[12]!==S||h[13]!==L||h[14]!==N||h[15]!==j?(s=()=>{k.length>0&&!w&&eT.W.premiumRequestQuotasEnabled&&S<=eI.aX&&!v&&"loaded"===b.state&&L&&!j&&N("quota_low_trigger")},o=[w,v,k.length,b.state,S,L,N,j],h[8]=w,h[9]=v,h[10]=k.length,h[11]=b.state,h[12]=S,h[13]=L,h[14]=N,h[15]=j,h[16]=s,h[17]=o):(s=h[16],o=h[17]),(0,_.useEffect)(s,o),h[18]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)("h1",{children:"Copilot Chat"}),h[18]=l):l=h[18],h[19]!==I?(c=(0,m.jsxs)("div",{className:"sr-only",children:[l,(0,m.jsx)("h2",{children:I})]}),h[19]=I,h[20]=c):c=h[20],h[21]!==C||h[22]!==A||h[23]!==E||h[24]!==f||h[25]!==g||h[26]!==v||h[27]!==T||h[28]!==j?.id){let e;h[30]!==C||h[31]!==A||h[32]!==E.length||h[33]!==f||h[34]!==g||h[35]!==v||h[36]!==T||h[37]!==j?.id?(e=(e,t)=>(0,m.jsx)(lg.i,{isLastGroup:t===E.length-1,children:e.map((a,n)=>{let r=-1===a.messageIndex?C.length:a.messageIndex,i=t===E.length-1&&n===e.length-1;return(0,m.jsx)(l0,{isLatestMessage:i,isSharedMessage:a.id===T,isFirstReply:a.id===A,message:a,messageIndex:r,inputRef:f,isStreaming:a.id===j?.id||i&&v,autoOpenPreviewPane:!g},n)})},t),h[30]=C,h[31]=A,h[32]=E.length,h[33]=f,h[34]=g,h[35]=v,h[36]=T,h[37]=j?.id,h[38]=e):e=h[38],d=E.map(e),h[21]=C,h[22]=A,h[23]=E,h[24]=f,h[25]=g,h[26]=v,h[27]=T,h[28]=j?.id,h[29]=d}else d=h[29];return h[39]!==c||h[40]!==d?(u=(0,m.jsxs)("div",{children:[c,d]}),h[39]=c,h[40]=d,h[41]=u):u=h[41],u},ct=()=>{let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(l7,{title:"Conversation failed to load",description:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(aA.A,{href:"",onClick:co,inline:!0,children:"Reload the page"})," ","to try again."]})}),t[0]=e):e=t[0],e},ca=()=>{let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(l7,{title:"Access denied",description:"You do not have permission to view this."}),t[0]=e):e=t[0],e},cn=e=>{let t,a=(0,p.c)(4),{isSharedThread:n}=e,{needsSsoAuthentication:r,ssoOrgNames:i}=oy(),s=(0,oc.G)(),o=n?"Shared conversation not found":"Conversation not found",l=r?`This URL may be incorrect, you may be signed out of your organization or the ${s?"space":"conversation"} may have been deleted.`:"This URL may be incorrect or the conversation may have been deleted.";return a[0]!==l||a[1]!==i||a[2]!==o?(t=(0,m.jsx)(l7,{title:o,description:l,ssoOrgs:i}),a[0]=l,a[1]=i,a[2]=o,a[3]=t):t=a[3],t},cr=e=>{let t,a,n,r,i,s=(0,p.c)(19),{inputRef:o,isMobile:l}=e,c=(0,W.Pk)(),{messagesLoading:d,threadsLoading:u,messages:h,showTopicPicker:f,pendingFirstMessage:g}=c,y=(0,nI.W)(c),{textAreaRef:x}=(0,l_.Y)(o),_=ou(),v=null,b=null;if((0,nu.B)(h,g).length&&"loaded"===d.state){let e;s[0]!==l||s[1]!==x?(e=(0,m.jsx)(ce,{inputRef:x,isMobile:l}),s[0]=l,s[1]=x,s[2]=e):e=s[2],v=e}else if(("loading"===d.state||"pending"===d.state)&&c.selectedThreadID&&!f){let e;s[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(l4,{}),s[3]=e):e=s[3],v=e}else if("error"===d.state&&c.selectedThreadID&&(null===y||d.notFound))if(_&&c.fetchSharedThreads?.ok===!1&&(403===c.fetchSharedThreads.status||401===c.fetchSharedThreads.status)){let e;s[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(l8,{}),s[4]=e):e=s[4],b=e}else{let e;s[5]!==_?(e=(0,m.jsx)(cn,{isSharedThread:_}),s[5]=_,s[6]=e):e=s[6],b=e}else if("error"===d.state||"error"===u.state){let e;s[7]!==u.status?(e=403===u.status?(0,m.jsx)(ca,{}):(0,m.jsx)(ct,{}),s[7]=u.status,s[8]=e):e=s[8],b=e}let j=an();return s[9]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(ci,{}),s[9]=t):t=s[9],s[10]!==b?(a=b&&(0,m.jsx)("div",{className:l9.emptyContent,children:b}),s[10]=b,s[11]=a):a=s[11],s[12]!==v?(n=v&&(0,m.jsxs)("div",{className:l9.messageContent,children:[v,(0,m.jsx)(lx.Cb,{})]}),s[12]=v,s[13]=n):n=s[13],s[14]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)(lx.zc,{}),s[14]=r):r=s[14],s[15]!==j||s[16]!==a||s[17]!==n?(i=(0,m.jsxs)(ly.$,{className:l9.container,containerRef:j,children:[t,a,n,r]}),s[15]=j,s[16]=a,s[17]=n,s[18]=i):i=s[18],i},ci=()=>{let e,t,a,n=(0,p.c)(7),{isScrolledUp:r,scrollToBottom:i}=(0,ly.b)(),s=!r&&l9.hidden;return n[0]!==s?(e=(0,x.$)(l9.scrollToBottomButton,s),n[0]=s,n[1]=e):e=n[1],n[2]!==i?(t=()=>i("smooth"),n[2]=i,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(a=(0,m.jsx)(tP.K,{as:"a","aria-label":"Scroll to bottom",className:e,onClick:t,icon:B.ArrowDownIcon,tooltipDirection:"n",href:"#copilot-chat-textarea"}),n[4]=e,n[5]=t,n[6]=a):a=n[6],a};try{ce.displayName||(ce.displayName="Messages")}catch{}try{ct.displayName||(ct.displayName="FailedToLoadThreadError")}catch{}try{ca.displayName||(ca.displayName="AccessDeniedError")}catch{}try{cn.displayName||(cn.displayName="NotFoundError")}catch{}try{cr.displayName||(cr.displayName="ImmersiveChat")}catch{}try{ci.displayName||(ci.displayName="ScrollToBottomButton")}catch{}function cs(e){return"assistant"===e.role}function co(e){e.preventDefault(),window.location.reload()}var cl=a(60183);let cc=JSON.parse('{"Files":{"id":"files-group","name":"Files","color":"var(--display-gray-fgColor)","icon":"file","entries":[{"id":"create-profile-readme","message":"First, create an outstanding README for my GitHub profile using only Markdown. Then ask for key details (such as profession, top skills, favorite projects, or social links) to further refine and personalize it.","titleHtml":"Profile README"},{"id":"generate-html-calculator","message":"Generate a simple calculator using HTML, CSS, and JavaScript.","titleHtml":"Simple calculator"},{"id":"make-pong","message":"Create a simple Pong game using HTML, CSS, and JavaScript. The player should control the left paddle with their mouse and arrow keys up/down, the right paddle is the computer. Make sure the game includes a bouncing ball, a scoreboard and collision detection for paddles and walls.","titleHtml":"Pong game"},{"id":"mermaid-architecture","message":"Create a Markdown file with a Mermaid diagram showing an architecture overview.","titleHtml":"Mermaid architecture overview"}]},"Git":{"id":"git-group","name":"Git","color":"var(--display-gray-fgColor)","icon":"git-branch","entries":[{"id":"basic-git-commands","message":"Explain what basic Git commands are and how to use them. Include commands like `git status`, `git init`, `git clone`, `git add`, `git commit`, `git push`, and `git pull`. Provide examples for each command.","titleHtml":"Basic Git commands"},{"id":"git-branching","message":"Explain how to create and manage branches in Git. Include commands like `git branch`, `git checkout`, `git merge`, and `git rebase`. Provide examples for each command.","titleHtml":"Git branching"},{"id":"advanced-git-commands","message":"Explain advanced Git commands and their usage. Include commands like `git stash`, `git cherry-pick`, `git revert`, and `git reset`. Provide examples for each command.","titleHtml":"Advanced Git commands"}]},"Issues":{"id":"issues-group","name":"Issues","color":"var(--display-gray-fgColor)","icon":"issue-opened","entries":[{"id":"list-open-issues","message":"List the latest open issues assigned to me.","titleHtml":"Issues assigned to me"},{"id":"create-issue","message":"First, create a new draft issue. Then ask for additional information to fill out the issue.","titleHtml":"Create a new issue"},{"id":"summarize-issue","message":"Summarize the latest issue that I\'ve opened including all comments.","titleHtml":"Summarize my latest issue"}]},"Pull requests":{"id":"pull-requests-group","name":"Pull requests","color":"var(--display-gray-fgColor)","icon":"git-pull-request","entries":[{"id":"list-open-prs","message":"List my latest open pull requests.","titleHtml":"My open pull requests"},{"id":"summarize-pr","message":"Search for my latest merged PR and summarize it. What was the purpose and the key changes made?","titleHtml":"Summarize my latest PR"}]}}');var cd=a(65556);function cu(e){let t,a,n,r,i,s=(0,p.c)(12),{className:o}=e,[l,c]=(0,_.useState)(sn.L.Static),[d,u]=(0,_.useState)(!0),{safeSetTimeout:h}=(0,cd.A)();return s[0]!==h?(t=()=>{let e=h(()=>{a_.Jt.getProPlusAnimationFlag()?(c(sn.L.Activate),u(!1)):(c(sn.L.Idle),u(!0))},1e3);return()=>clearTimeout(e)},a=[h],s[0]=h,s[1]=t,s[2]=a):(t=s[1],a=s[2]),(0,_.useEffect)(t,a),s[3]!==l?(n=()=>{l===sn.L.Activate&&(c(sn.L.Idle),u(!0),a_.Jt.removeProPlusAnimationFlag())},s[3]=l,s[4]=n):n=s[4],s[5]!==l||s[6]!==d||s[7]!==n?(r=(0,m.jsx)(sn.N,{animationType:l,onAnimationEnd:n,loopAnimation:d,size:48}),s[5]=l,s[6]=d,s[7]=n,s[8]=r):r=s[8],s[9]!==o||s[10]!==r?(i=(0,m.jsx)("div",{className:o,children:r}),s[9]=o,s[10]=r,s[11]=i):i=s[11],i}try{cu.displayName||(cu.displayName="CopilotEmptyStateAnimation")}catch{}let cm={container:"StarterPill-module__container--BCDeZ",icon:"StarterPill-module__icon--ca2DE",title:"StarterPill-module__title--ODdkN",dropdown:"StarterPill-module__dropdown--wcx2F"},cp=_.forwardRef((e,t)=>{let a,n,r,i,s=(0,p.c)(14),{name:o,icon:l,color:c,onClick:d,dropdown:u,open:h}=e;return s[0]!==c||s[1]!==l?(a=tA.I&&(0,m.jsx)("div",{className:cm.icon,children:(0,m.jsx)(tA.I,{icon:l,color:c})}),s[0]=c,s[1]=l,s[2]=a):a=s[2],s[3]!==u?(n=u&&(0,m.jsx)("div",{className:cm.dropdown,children:(0,m.jsx)(B.TriangleDownIcon,{})}),s[3]=u,s[4]=n):n=s[4],s[5]!==o||s[6]!==n?(r=(0,m.jsxs)("div",{className:cm.title,children:[o,n]}),s[5]=o,s[6]=n,s[7]=r):r=s[7],s[8]!==d||s[9]!==h||s[10]!==t||s[11]!==a||s[12]!==r?(i=(0,m.jsxs)("button",{ref:t,className:cm.container,onClick:d,"aria-expanded":h,children:[a,r]}),s[8]=d,s[9]=h,s[10]=t,s[11]=a,s[12]=r,s[13]=i):i=s[13],i});function ch(){let e,t,a=(0,p.c)(5),n=(0,q.b)(),r=(0,W.Pk)();a[0]!==n||a[1]!==r?(e=()=>{let e=(0,nI.W)(r);n.sendChatMessage({thread:e,content:"First, create a new draft issue. Then ask for additional information to fill out the issue",references:r.currentReferences,topic:r.currentTopic,context:r.context,customInstructions:r.customInstructions,model:r.model}),(0,ta.BI)("dotcom_chat.activate",{target:"STARTER_CUSTOM_CREATE_ISSUE",mode:"immersive"})},a[0]=n,a[1]=r,a[2]=e):e=a[2];let i=e;return a[3]!==i?(t=(0,m.jsx)("li",{children:(0,m.jsx)(cp,{name:"Create issue",icon:"issue-draft",color:"var(--fgColor-muted)",onClick:i})}),a[3]=i,a[4]=t):t=a[4],t}cp.displayName="StarterPill";try{ch.displayName||(ch.displayName="CreateIssue")}catch{}let cf={scrollContainer:"NewConversation-module__scrollContainer--Xfaaj",container:"NewConversation-module__container--Qt89h",banner:"NewConversation-module__banner--nBNmy",main:"NewConversation-module__main--GVJMw",content:"NewConversation-module__content--j88E1",alignTop:"NewConversation-module__alignTop--gdI7p",innerContainer:"NewConversation-module__innerContainer--gDENn",footer:"NewConversation-module__footer--uQNk1",starters:"NewConversation-module__starters--leV1b"};var cg=a(23985),cy=a(33036),cx=a(88245);let c_={container:"EditorUpsellBanner-module__container--CVVb2",banner:"EditorUpsellBanner-module__banner--nLwUI",title:"EditorUpsellBanner-module__title--UkB0l",description:"EditorUpsellBanner-module__description--wNgDi",actions:"EditorUpsellBanner-module__actions--tJUAU",editorButton:"EditorUpsellBanner-module__editorButton--gkwOw",closeButton:"EditorUpsellBanner-module__closeButton--qXUPm"};function cv(){let e,t,a,n,r,i=(0,p.c)(10),s=(0,W.A3)("isEditorUpsellBannerDismissed"),o=(0,q.b)(),{isLicensedLimited:l}=(0,ay.xR)(),c=(0,_.useId)(),d=cb;return s||!l?null:(i[0]!==c?(e=(0,m.jsx)("h2",{className:c_.title,id:c,children:"Install Copilot in your favorite code editor"}),i[0]=c,i[1]=e):e=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)("p",{className:c_.description,children:"Copilot is available for a multitude of editors to fit your needs"}),a=eT.W.freeToPaidSettingsUpgrade?(0,m.jsx)(cg.B,{menuLocation:"editor_upsell_banner",mode:"immersive"}):(0,m.jsxs)(o9.A,{className:c_.actions,children:[(0,m.jsx)(ap.z,{className:c_.editorButton,href:cx.A.vscode.url,leadingVisual:(0,m.jsx)("img",{src:cx.A.vscode.icon,alt:"",height:"20",width:"20"}),onClick:()=>{d("vscode","ide_menu_primary_button_click")},children:cx.A.vscode.name}),(0,m.jsxs)(tD.W,{children:[(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{"aria-label":"More editors",icon:B.TriangleDownIcon,unsafeDisableTooltip:!0,onClick:()=>{d("menu","ide_menu_open")}})}),(0,m.jsx)(tD.W.Overlay,{align:"end",children:(0,m.jsx)(tB.l,{children:(0,m.jsx)(cy.t,{menuLocation:"editor_upsell_banner",mode:"immersive"})})})]})]}),i[2]=t,i[3]=a):(t=i[2],a=i[3]),i[4]!==o?(n=(0,m.jsx)(tP.K,{variant:"invisible",className:c_.closeButton,icon:B.XIcon,"aria-label":"Dismiss banner",onClick:()=>{o.dismissEditorUpsellBanner(),(0,ta.BI)("dotcom_chat.activate",{target:"EDITOR_UPSELL_BANNER_DISMISS",mode:"immersive"})}}),i[4]=o,i[5]=n):n=i[5],i[6]!==e||i[7]!==n||i[8]!==c?(r=(0,m.jsx)("div",{className:c_.container,children:(0,m.jsxs)("section",{className:c_.banner,"aria-labelledby":c,children:[e,t,a,n]})}),i[6]=e,i[7]=n,i[8]=c,i[9]=r):r=i[9],r)}function cb(e,t){eT.W.freeToPaidTelemetry?(0,cy.F)({eventName:e,menuLocation:"editor_upsell_banner",mode:"immersive",action:t}):(0,ta.BI)("dotcom_chat.activate",{target:`EDITOR_UPSELL_BANNER_${e.toUpperCase()}`,mode:"immersive"})}try{cv.displayName||(cv.displayName="EditorUpsellBanner")}catch{}function cj(){return a_.Jt.getGpt5PromotionBannerFlag()??!0}function cC(e){let t,a,n,r,i=(0,p.c)(7),{onDismiss:s,className:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],i[0]=t):t=i[0],(0,_.useEffect)(cN,t),i[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsxs)(m.Fragment,{children:["Start using OpenAI\u2019s ",(0,m.jsx)("strong",{children:"GPT-5"})," model today."]}),i[1]=a):a=i[1],i[2]!==s?(n=(0,m.jsx)(K.l,{variant:"upsell",title:"GPT-5 Now Available",description:a,hideTitle:!0,onDismiss:()=>{s(),(0,ta.BI)("dotcom_chat.activate",{target:"GPT5_UPSELL_BANNER_DISMISS",mode:"immersive"})}}),i[2]=s,i[3]=n):n=i[3],i[4]!==o||i[5]!==n?(r=(0,m.jsx)("div",{className:o,children:n}),i[4]=o,i[5]=n,i[6]=r):r=i[6],r}function cN(){(0,ta.BI)("dotcom_chat.activate",{target:"GPT5_UPSELL_BANNER_SHOW",mode:"immersive"})}try{cC.displayName||(cC.displayName="Gpt5PromotionBanner")}catch{}function cS(){return a_.Jt.getProPlusSuccessBannerFlag()??!1}function cw(e){let t,a,n=(0,p.c)(5),{onDismiss:r,className:i}=e;return n[0]!==r?(t=(0,m.jsx)(K.l,{variant:"success",title:"Copilot Pro+ activated",description:"Your Copilot Pro+ subscription is now active.",hideTitle:!0,onDismiss:()=>{r(),(0,ta.BI)("dotcom_chat.activate",{target:"PRO_PLUS_SUCCESS_BANNER_DISMISS",mode:"immersive"})}}),n[0]=r,n[1]=t):t=n[1],n[2]!==i||n[3]!==t?(a=(0,m.jsx)("div",{className:i,children:t}),n[2]=i,n[3]=t,n[4]=a):a=n[4],a}try{cw.displayName||(cw.displayName="ProPlusSuccessBanner")}catch{}function cI(){return(a_.Jt.getTrialSuccessBannerFlag()&&!a_.Jt.getProPlusSuccessBannerFlag())??!1}function cT(e){let t,a,n=(0,p.c)(5),{onDismiss:r,className:i}=e;return n[0]!==r?(t=(0,m.jsx)(K.l,{variant:"success",title:"Copilot Pro trial activated",description:"Your 30-day Copilot Pro trial is now active.",hideTitle:!0,onDismiss:()=>{r(),(0,ta.BI)("dotcom_chat.activate",{target:"TRIAL_SUCCESS_BANNER_DISMISS",mode:"immersive"})}}),n[0]=r,n[1]=t):t=n[1],n[2]!==i||n[3]!==t?(a=(0,m.jsx)("div",{className:i,children:t}),n[2]=i,n[3]=t,n[4]=a):a=n[4],a}try{cT.displayName||(cT.displayName="TrialSuccessBanner")}catch{}function ck(){let e,t,a,n,r,i=(0,p.c)(16),s=(0,ay.xR)(),o=s.licenseType,l=s.plan,c=function(){let e,t,a=(0,p.c)(3),[n,r]=(0,_.useState)(cj);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{a_.Jt.setGpt5PromotionBannerFlag(!1),r(!1)},a[0]=e):e=a[0];let i=e;return a[1]!==n?(t={visible:n,onDismiss:i},a[1]=n,a[2]=t):t=a[2],t}(),d=function(){let e,t,a=(0,p.c)(3),[n,r]=(0,_.useState)(cI);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{a_.Jt.removeTrialSuccessBannerFlag(),r(!1)},a[0]=e):e=a[0];let i=e;return a[1]!==n?(t={visible:n,onDismiss:i},a[1]=n,a[2]=t):t=a[2],t}(),u=function(){let e,t,a=(0,p.c)(3),[n,r]=(0,_.useState)(cS);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{a_.Jt.removeProPlusSuccessBannerFlag(),a_.Jt.removeTrialSuccessBannerFlag(),r(!1)},a[0]=e):e=a[0];let i=e;return a[1]!==n?(t={visible:n,onDismiss:i},a[1]=n,a[2]=t):t=a[2],t}(),h=(l===nw.UH.IndividualPro||l===nw.UH.IndividualProPlus||l===nw.UH.Enterprise)&&c.visible,f=!h&&u.visible,g=!h&&!f&&d.visible&&o===nw.mF.LicensedFull,y=!h&&!f&&!g;return i[0]!==c||i[1]!==h?(e=eT.W.gpt5PromotionBanner&&h&&(0,m.jsx)(cC,{className:(0,x.$)(o_.banner,o_.gpt5),onDismiss:c.onDismiss}),i[0]=c,i[1]=h,i[2]=e):e=i[2],i[3]!==y?(t=y&&(0,m.jsx)(cv,{}),i[3]=y,i[4]=t):t=i[4],i[5]!==g||i[6]!==d?(a=g&&(0,m.jsx)(cT,{className:o_.banner,onDismiss:d.onDismiss}),i[5]=g,i[6]=d,i[7]=a):a=i[7],i[8]!==u||i[9]!==f?(n=f&&(0,m.jsx)(cw,{className:o_.banner,onDismiss:u.onDismiss}),i[8]=u,i[9]=f,i[10]=n):n=i[10],i[11]!==e||i[12]!==t||i[13]!==a||i[14]!==n?(r=(0,m.jsxs)(m.Fragment,{children:[e,t,a,n]}),i[11]=e,i[12]=t,i[13]=a,i[14]=n,i[15]=r):r=i[15],r}try{ck.displayName||(ck.displayName="NewConversationBanners")}catch{}function cE(e){let t,a,n,r,i,s,o=(0,p.c)(20),{group:l,onEntrySelect:c}=e,[d,u]=(0,_.useState)(!1),h=(0,_.useRef)(null);o[0]!==d?(t=()=>{u(!d)},o[0]=d,o[1]=t):t=o[1];let f=t;if(o[2]!==l.color||o[3]!==l.icon||o[4]!==l.name||o[5]!==f||o[6]!==d?(a=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(cp,{ref:h,name:l.name,icon:l.icon,color:l.color,onClick:f,dropdown:!0,open:d})}),o[2]=l.color,o[3]=l.icon,o[4]=l.name,o[5]=f,o[6]=d,o[7]=a):a=o[7],o[8]===Symbol.for("react.memo_cache_sentinel")?(n={width:"260px"},o[8]=n):n=o[8],o[9]!==l.entries||o[10]!==c){let e;o[12]!==c?(e=e=>(0,m.jsx)(tB.l.Item,{onSelect:()=>c(e),children:(0,m.jsx)(sg.$6,{html:e.titleHtml})},e.id),o[12]=c,o[13]=e):e=o[13],r=l.entries.map(e),o[9]=l.entries,o[10]=c,o[11]=r}else r=o[11];return o[14]!==r?(i=(0,m.jsx)(tD.W.Overlay,{style:n,children:(0,m.jsx)(tB.l,{children:r})}),o[14]=r,o[15]=i):i=o[15],o[16]!==d||o[17]!==a||o[18]!==i?(s=(0,m.jsx)("li",{children:(0,m.jsxs)(tD.W,{open:d,onOpenChange:u,children:[a,i]})}),o[16]=d,o[17]=a,o[18]=i,o[19]=s):s=o[19],s}function cA(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,_=(0,p.c)(44),{textAreaRef:v,handleUserSubmit:b,nextMessageIndex:j}=e,C=(0,q.b)(),N=(0,W.Pk)();_[0]!==N?(t=(0,nI.W)(N),_[0]=N,_[1]=t):t=_[1];let S=t;_[2]!==S||_[3]!==C||_[4]!==N?(a=e=>{let t=0===N.messages.length?S:(0,nI.W)(N),a=N.currentUserLogin||"",n=e.message.replaceAll("$$USERNAME$$",a);C.sendChatMessage({thread:t,content:n,references:N.currentReferences,topic:N.currentTopic,context:N.context,customInstructions:N.customInstructions,model:N.model}),(0,ta.BI)("dotcom_chat.activate",{target:"NEW_CONVERSATION_STARTER_MENU_ITEM",topic:N.currentTopic?.name,mode:"immersive",starterId:e.id})},_[2]=S,_[3]=C,_[4]=N,_[5]=a):a=_[5];let w=a,I=Object.values(cc);_[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,m.jsx)("div",{className:cf.banner,children:(0,m.jsx)(ck,{})}),_[6]=n):n=_[6];let T=(0,cl.u)("copilot_pro_plus_animation")?(0,m.jsx)(cu,{}):(0,m.jsx)(am.A,{hidden:!0});_[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),_[7]=r):r=_[7],_[8]!==b||_[9]!==j||_[10]!==v?(i=(0,m.jsx)(oJ,{textAreaRef:v,handleUserSubmit:b,nextMessageIndex:j}),_[8]=b,_[9]=j,_[10]=v,_[11]=i):i=_[11],_[12]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)("h2",{className:"sr-only",children:"Sample prompts to try"}),_[12]=s):s=_[12],_[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsx)(ch,{}),_[13]=o):o=_[13],_[14]!==w?(l=e=>(0,m.jsx)(cE,{group:e,onEntrySelect:w},e.id),_[14]=w,_[15]=l):l=_[15];let k=I.map(l);return _[16]!==cf.starters||_[17]!==o||_[18]!==k?(c=(0,m.jsxs)("ul",{className:cf.starters,children:[o,k]}),_[16]=cf.starters,_[17]=o,_[18]=k,_[19]=c):c=_[19],_[20]!==cf.innerContainer||_[21]!==r||_[22]!==i||_[23]!==s||_[24]!==c?(d=(0,m.jsxs)("div",{className:cf.innerContainer,children:[r,i,s,c]}),_[20]=cf.innerContainer,_[21]=r,_[22]=i,_[23]=s,_[24]=c,_[25]=d):d=_[25],_[26]!==d||_[27]!==cf.alignTop||_[28]!==T?(u=(0,m.jsxs)("div",{className:cf.alignTop,children:[T,d]}),_[26]=d,_[27]=cf.alignTop,_[28]=T,_[29]=u):u=_[29],_[30]!==u||_[31]!==cf.content?(h=(0,m.jsx)("div",{className:cf.content,children:u}),_[30]=u,_[31]=cf.content,_[32]=h):h=_[32],_[33]!==h||_[34]!==cf.main?(f=(0,m.jsx)("div",{className:cf.main,children:h}),_[33]=h,_[34]=cf.main,_[35]=f):f=_[35],_[36]===Symbol.for("react.memo_cache_sentinel")?(g=(0,m.jsx)("div",{className:cf.footer,children:(0,m.jsx)(tm.h,{})}),_[36]=g):g=_[36],_[37]!==f||_[38]!==cf.container||_[39]!==n?(y=(0,m.jsxs)("div",{className:cf.container,children:[n,f,g]}),_[37]=f,_[38]=cf.container,_[39]=n,_[40]=y):y=_[40],_[41]!==y||_[42]!==cf.scrollContainer?(x=(0,m.jsx)("div",{className:cf.scrollContainer,children:y}),_[41]=y,_[42]=cf.scrollContainer,_[43]=x):x=_[43],x}try{cE.displayName||(cE.displayName="StarterGroupWithMenu")}catch{}try{cA.displayName||(cA.displayName="NewConversation")}catch{}let cL={container:"QuotaExceededEmptyState-module__container--IH35J",main:"QuotaExceededEmptyState-module__main--UOew3",copy:"QuotaExceededEmptyState-module__copy--FI8o_",heading:"QuotaExceededEmptyState-module__heading--RHZjC",description:"QuotaExceededEmptyState-module__description--m4Qvb",footer:"QuotaExceededEmptyState-module__footer--xLpJU"};function cR(){let e,t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(21),{resetDate:f,eligibleForTrial:g}=(0,ay.xR)(),[y,x]=(0,_.useState)(!1),[v,b]=(0,_.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{x(!0),b(!0)},h[0]=e):e=h[0];let j=e;h[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{x(!1)},h[1]=t):t=h[1];let C=t;h[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{b(!1)},h[2]=a):a=h[2];let N=a,S=y||v;h[3]!==y||h[4]!==S?(n=S?(0,m.jsx)(sn.N,{animationType:"jumpWiggle",loopAnimation:y,size:96,onAnimationEnd:N}):(0,m.jsx)(sn.N,{animationType:"static",loopAnimation:!1,size:96}),h[3]=y,h[4]=S,h[5]=n):n=h[5],h[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)("h2",{className:cL.heading,children:"You\u2019ve reached your free plan limit"}),h[6]=r):r=h[6],h[7]!==f?(i=(0,m.jsxs)("p",{className:cL.description,children:["Your limits will reset on ",f,"."]}),h[7]=f,h[8]=i):i=h[8];let w=g?"Try Copilot Pro free for 30 days":"Upgrade to Pro";return h[9]!==w?(s=(0,m.jsx)(ap.z,{as:"a",variant:"primary",size:"large",href:"https://github.com/github-copilot/pro",onMouseEnter:j,onMouseLeave:C,onClick:cD,children:w}),h[9]=w,h[10]=s):s=h[10],h[11]!==i||h[12]!==s?(o=(0,m.jsxs)("div",{className:cL.copy,children:[r,i,s]}),h[11]=i,h[12]=s,h[13]=o):o=h[13],h[14]!==n||h[15]!==o?(l=(0,m.jsxs)("div",{className:cL.main,children:[n,o]}),h[14]=n,h[15]=o,h[16]=l):l=h[16],h[17]===Symbol.for("react.memo_cache_sentinel")?(c=(0,m.jsx)("strong",{children:"Part of an organization?"}),h[17]=c):c=h[17],h[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,m.jsxs)("div",{className:cL.footer,children:[c,(0,m.jsxs)("span",{children:["Upgrade to"," ",(0,m.jsx)(aA.A,{href:"https://github.com/github-copilot/business_signup/choose_business_type?cft=copilot_li.features_copilot.cfb",inline:!0,children:"Copilot Business"})," ","to enable across teams."]})]}),h[18]=d):d=h[18],h[19]!==l?(u=(0,m.jsxs)("div",{className:cL.container,children:[l,d]}),h[19]=l,h[20]=u):u=h[20],u}function cD(){(0,ta.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_EMPTY_STATE_LINK_UPGRADE",mode:"immersive"})}try{cR.displayName||(cR.displayName="QuotaExceededEmptyState")}catch{}function cP(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(24),{isMobile:u,textAreaRef:h}=e,f=(0,W.Pk)(),{messages:g,messagesLoading:y,threadsLoading:x}=f,{chatQuotaExceeded:v}=(0,ay.xR)(),b=(0,oc.G)();d[0]!==b||d[1]!==f.customCopilots?(t=(0,av.JB)(f.customCopilots,b),d[0]=b,d[1]=f.customCopilots,d[2]=t):t=d[2];let j=!!t,{variant:C,customCopilot:N}=oQ(b,f.selectedThreadID),S=C===oG.customCopilotSizeExceeded,w=(!C||j)&&!S,I=(0,_.useRef)(f.currentTopic),T=ou();a=!f.selectedThreadID&&a_.Jt.getEntrypointMessage();e:{if(f.selectedThreadID||f.pendingFirstMessage||a||b||v||"error"===y.state||"error"===x.state){n=!1;break e}n=!0}let k=n,E=g.length,A=of(I,E);return d[3]!==f.currentTopic?(r=()=>{I.current=f.currentTopic},i=[f.currentTopic],d[3]=f.currentTopic,d[4]=r,d[5]=i):(r=d[4],i=d[5]),(0,_.useEffect)(r,i),d[6]!==v||d[7]!==A?(s=()=>{let e=a_.Jt.getEntrypointMessage();e&&!v&&(a_.Jt.setEntrypointMessage(null),setTimeout(()=>{A(e)},100))},o=[A,v],d[6]=v,d[7]=A,d[8]=s,d[9]=o):(s=d[8],o=d[9]),(0,_.useEffect)(s,o),d[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)(ld,{}),d[10]=l):l=d[10],d[11]!==v||d[12]!==N||d[13]!==A||d[14]!==u||d[15]!==T||d[16]!==E||d[17]!==k||d[18]!==w||d[19]!==C||d[20]!==f.selectedThreadID||d[21]!==f.traceInfo?.visible||d[22]!==h?(c=(0,m.jsxs)(m.Fragment,{children:[l,!f.selectedThreadID&&v?(0,m.jsx)(cR,{}):f.traceInfo?.visible?(0,m.jsx)(oo,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:oB.content,children:k?(0,m.jsx)(cA,{textAreaRef:h,handleUserSubmit:A,nextMessageIndex:E}):(0,m.jsx)(cr,{inputRef:h,isMobile:u})}),(!T||eT.W.copilotDuplicateThread)&&!k&&(0,m.jsxs)("div",{className:oB.footer,children:[eT.W.groupNotifications&&!w&&(0,m.jsx)(oY,{}),!eT.W.groupNotifications&&C&&(0,m.jsx)("div",{className:oB.spaceBannerContainer,children:(0,m.jsx)(oK,{variant:C,customCopilot:N})}),w&&(0,m.jsx)(oJ,{textAreaRef:h,handleUserSubmit:A,nextMessageIndex:E})]})]})]}),d[11]=v,d[12]=N,d[13]=A,d[14]=u,d[15]=T,d[16]=E,d[17]=k,d[18]=w,d[19]=C,d[20]=f.selectedThreadID,d[21]=f.traceInfo?.visible,d[22]=h,d[23]=c):c=d[23],c}function cB(e){let t,a,n=(0,p.c)(3);return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(aD,{regionName:"This conversation"}),n[0]=t):t=n[0],n[1]!==e?(a=(0,m.jsx)(aw.t,{fallback:t,children:(0,m.jsx)(cP,{...e})}),n[1]=e,n[2]=a):a=n[2],a}try{cP.displayName||(cP.displayName="ConversationViewInner")}catch{}try{cB.displayName||(cB.displayName="ConversationView")}catch{}function cM(e){let t,a=(0,p.c)(4),{plugin:n}=e,r=(0,W.Pk)(),{PageComponent:i}=n;return a[0]!==i||a[1]!==n||a[2]!==r?(t=i?(0,m.jsx)(_.Suspense,{children:(0,m.jsx)(i,{chatState:r,plugin:n})}):null,a[0]=i,a[1]=n,a[2]=r,a[3]=t):t=a[3],t}try{cM.displayName||(cM.displayName="PluginPageContent")}catch{}function cO(e){let t,a=(0,p.c)(6),{plugin:n}=e,r=(0,W.Pk)(),{closePreviewPane:i,openPreviewPane:s}=(0,au.xx)(),{ViewComponent:o}=n;return a[0]!==o||a[1]!==i||a[2]!==s||a[3]!==n||a[4]!==r?(t=o?(0,m.jsx)(o,{chatState:r,closePreviewPane:i,openPreviewPane:s,plugin:n}):null,a[0]=o,a[1]=i,a[2]=s,a[3]=n,a[4]=r,a[5]=t):t=a[5],t}try{cO.displayName||(cO.displayName="PluginViewContent")}catch{}var cF=a(90495),c$=a(84217),cU=a(81007);let cV={ConversationList__container:"ConversationList-module__ConversationList__container--rX8fM",ConversationList__empty:"ConversationList-module__ConversationList__empty--sTf7Y",ConversationList:"ConversationList-module__ConversationList--LAVA0",ConversationList__section:"ConversationList-module__ConversationList__section--ihwdi",ConversationList__title:"ConversationList-module__ConversationList__title--IHb4U",ConversationList__item:"ConversationList-module__ConversationList__item--dD6z4",ConversationList__link:"ConversationList-module__ConversationList__link--Byc2c",ConversationList__text:"ConversationList-module__ConversationList__text--YbHpv",ConversationList__context:"ConversationList-module__ConversationList__context--SK6Jb",emptyStateHeading:"ConversationList-module__emptyStateHeading--uD6_i",emptyStateText:"ConversationList-module__emptyStateText--frRDc"};function cW({selectedItemID:e,loadingState:t,onConversationSelect:a}){let n=(0,q.b)(),{threads:r}=(0,W.Pk)(),i=(0,_.useMemo)(()=>n.sortAndFilterThreads(r).map(e=>({id:e.id,text:(0,eI.CB)(e),href:`${eI.Jz}/c/${e.id}`,date:new Date(e.updatedAt)})),[r,n]),s=function(e){let t=new Date,a=new Date(t);a.setDate(t.getDate()-1);let n=new Date(t);n.setDate(t.getDate()-7);let r=new Date(t);r.setDate(t.getDate()-30);let i=[],s=[],o=[],l=[];for(let c of e)c.date.toDateString()===t.toDateString()?i.push(c):c.date.toDateString()===a.toDateString()?s.push(c):c.date>n?o.push(c):c.date>r&&l.push(c);return{Today:i,Yesterday:s,"Last 7 days":o,"Last 30 days":l}}(i),o=0===i.length,l=(0,_.useId)();return(0,m.jsx)("nav",{"aria-labelledby":`${l}-conversations`,id:`${l}-conversation-list`,tabIndex:-1,className:cV.ConversationList__container,children:o&&("loading"===t||"pending"===t)?(0,m.jsx)(cU.r,{lines:5}):o?(0,m.jsx)(cq,{}):(0,m.jsxs)("div",{className:cV.ConversationList__section,children:[(0,m.jsx)("h3",{id:`${l}-conversations`,className:"sr-only",children:"Conversations"}),Object.entries(s).map(([t,n])=>n.length>0&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{id:`${l}_${t}`,className:cV.ConversationList__title,children:t}),(0,m.jsx)("ul",{className:cV.ConversationList,children:n.map(t=>(0,m.jsx)(cz,{item:t,selectedItemId:e??void 0,onSelect:a,threads:r},t.id))})]},t))]})})}function cz(e){let t,a,n,r=(0,p.c)(17),{item:i,selectedItemId:s,onSelect:o,threads:l}=e,c=i.id===s,[d,u]=(0,_.useState)(null),[h,f,g]=(0,o4.B)(!1);r[0]!==s||r[1]!==l?(t=l.get(s),r[0]=s,r[1]=l,r[2]=t):t=r[2];let y=t,x=!!y?.customCopilotID,v=(0,_.useRef)(null);r[3]===Symbol.for("react.memo_cache_sentinel")?(a=()=>u(null),r[3]=a):a=r[3];let b=a;return r[4]!==d||r[5]!==x||r[6]!==i.href||r[7]!==i.id||r[8]!==i.text||r[9]!==h||r[10]!==o||r[11]!==c||r[12]!==s||r[13]!==f||r[14]!==g||r[15]!==l?(n=i.href&&(0,m.jsxs)("li",{className:cV.ConversationList__item,children:[(0,m.jsx)(ef.N_,{className:cV.ConversationList__link,to:i.href,"aria-current":c?"page":void 0,onClick:()=>{o(),(0,ta.BI)("dotcom_chat.activate",{target:"CONVERSATION_SELECT",threadId:i.id,mode:"immersive"})},children:(0,m.jsx)("span",{className:cV.ConversationList__text,children:i.text})}),(0,m.jsx)("span",{className:cV.ConversationList__context,children:(0,m.jsxs)(tD.W,{anchorRef:v,children:[(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{loading:h,icon:B.KebabHorizontalIcon,"aria-label":"Manage conversation",variant:"invisible",onClick:cH})}),(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsx)(tB.l,{children:(0,m.jsx)(oX.V,{onOpenDialog:u,isShared:!!l.get(i.id)?.sharedID,showShare:!x})})})]})}),(0,m.jsx)(oX.p,{visibleDialog:d,onClose:b,threadName:i.text,threadId:i.id,selectedThreadId:s,onStartLoading:f,onFinishLoading:g,returnFocusRef:v})]},i.id),r[4]=d,r[5]=x,r[6]=i.href,r[7]=i.id,r[8]=i.text,r[9]=h,r[10]=o,r[11]=c,r[12]=s,r[13]=f,r[14]=g,r[15]=l,r[16]=n):n=r[16],n}function cH(){return(0,ta.BI)("dotcom_chat.activate",{target:"CONVERSATION_CONTEXT_MENU",mode:"immersive"})}function cq(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsxs)("div",{className:cV.ConversationList__empty,children:[(0,m.jsx)(c$.A,{as:"h3",className:cV.emptyStateHeading,children:"No conversations yet"}),(0,m.jsx)("span",{className:cV.emptyStateText,children:"Ask Copilot anything on the right to start your first conversation."})]}),t[0]=e):e=t[0],e}try{cW.displayName||(cW.displayName="ConversationList")}catch{}try{cz.displayName||(cz.displayName="ConversationListEntry")}catch{}try{cq.displayName||(cq.displayName="EmptyState")}catch{}function cG(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:(0,m.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.515.456a1.555 1.555 0 00-2.2 0L6.58 6.19a1.556 1.556 0 00-.396.673l-.825 2.89a.667.667 0 00.824.824l2.89-.826c.254-.072.485-.209.672-.396l5.735-5.734a1.556 1.556 0 000-2.2l-.965-.965zm-1.257.942a.222.222 0 01.314 0l.965.966a.222.222 0 010 .314L13.415 3.8l-1.28-1.28 1.123-1.122zm-2.065 2.066l1.279 1.279-3.67 3.67a.221.221 0 01-.096.056l-1.736.496.496-1.736c.01-.036.03-.07.057-.096l3.67-3.67zM1.639 4.778a2.25 2.25 0 012.25-2.25h3.154a.75.75 0 000-1.5H3.889a3.75 3.75 0 00-3.75 3.75v7.333a3.75 3.75 0 003.75 3.75h7.333a3.75 3.75 0 003.75-3.75V8.445a.75.75 0 00-1.5 0v3.666a2.25 2.25 0 01-2.25 2.25H3.889a2.25 2.25 0 01-2.25-2.25V4.778z",clipRule:"evenodd"})}),t[0]=e):e=t[0],e}try{cG.displayName||(cG.displayName="ComposeIcon")}catch{}let cK={container:"FreeChatUpgradeBanner-module__container--wbKbQ",content:"FreeChatUpgradeBanner-module__content--GSeCA"};function cQ(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:cK.container,children:(0,m.jsxs)("p",{className:cK.content,children:[(0,m.jsx)(aA.A,{href:"https://github.com/github-copilot/pro",inline:!0,onClick:cY,children:"Upgrade to Pro"})," ","to access higher limits and premium models."]})}),t[0]=e):e=t[0],e}function cY(){(0,ta.BI)("dotcom_chat.activate",{target:"FREE_CHAT_UPGRADE_BANNER_LINK",mode:"immersive"})}try{cQ.displayName||(cQ.displayName="FreeChatUpgradeBanner")}catch{}let cJ={list:"ServiceList-module__list--YDLyn"};function cX(e){let t,a,n,r,i,s,o=(0,p.c)(22),{toggleFloatingSidebar:l}=e,c=(0,W.Pk)(),{selectedThreadID:d}=c,u=(0,ax.v)()?.id,h=(0,ew.qw)(),f=(0,q.b)(),g=(0,og.G)(),y=(0,av.mM)();o[0]!==g||o[1]!==l?(t=async e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),l(),await g({clearTopic:!0,includeThreads:!1}),(0,ta.BI)("dotcom_chat.activate",{target:"SIDEBAR_CONVERSATION_NEW",mode:"immersive"}))},o[0]=g,o[1]=l,o[2]=t):t=o[2];let x=t;o[3]!==l?(a=e=>{e.metaKey||e.ctrlKey||l()},o[3]=l,o[4]=a):a=o[4];let _=a;o[5]!==f||o[6]!==l?(n=(e,t)=>{e.metaKey||e.ctrlKey||(l(),f.selectPlugin(t))},o[5]=f,o[6]=l,o[7]=n):n=o[7];let v=n,b=d||u||y?void 0:"page";o[8]!==x||o[9]!==b?(r=(0,m.jsx)(eh,{"aria-current":b,displayName:"Home",href:eI.Jz,icon:B.HomeIcon,id:"home",onLinkClick:x}),o[8]=x,o[9]=b,o[10]=r):r=o[10];let j=(0,ab.BV)()&&(0,m.jsx)(eh,{"aria-current":y?"page":void 0,displayName:"Spaces",href:eI.VR,iconOverride:(0,m.jsx)(tA.I,{icon:"spaces"}),id:"spaces",onLinkClick:_,label:(0,m.jsx)(ej.A,{variant:"success",children:"Preview"})});if(o[11]!==c||o[12]!==v||o[13]!==h){let e;o[15]!==c||o[16]!==v?(e=e=>void 0!==e.NavigationComponent?(0,m.jsx)(e.NavigationComponent,{chatState:c,onLinkClick:v},e.id):null,o[15]=c,o[16]=v,o[17]=e):e=o[17],i=h.map(e),o[11]=c,o[12]=v,o[13]=h,o[14]=i}else i=o[14];return o[18]!==r||o[19]!==j||o[20]!==i?(s=(0,m.jsxs)("ul",{className:cJ.list,children:[r,j,i]}),o[18]=r,o[19]=j,o[20]=i,o[21]=s):s=o[21],s}try{cX.displayName||(cX.displayName="ServiceList")}catch{}let cZ={container:"Sidebar-module__container--s585U",header:"Sidebar-module__header--uOLk8",sidebar:"Sidebar-module__sidebar--sn0TN",conversations:"Sidebar-module__conversations--NEO0w",quicklinks:"Sidebar-module__quicklinks--wbmcD",blankslateContainer:"Sidebar-module__blankslateContainer--Gvuc8",pinned:"Sidebar-module__pinned--e3Nsi",visible:"Sidebar-module__visible--d8dRm"};function c0(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,v,b,j,C,N,S,w,I=(0,p.c)(72),{isVisible:T,isPinned:k,isFloating:E,onNewThread:A,onToggle:L}=e,R=(0,W.Pk)(),{threads:D,selectedThreadID:P}=R,M=E?T:k,O=(0,q.b)(),F=(0,_.useRef)(!1),$=(0,og.G)(),U=ou(),{closePreviewPane:V}=(0,au.xx)(),z=(0,ab.BV)(),H=eT.W.immersiveServiceNavigation||z;I[0]!==O||I[1]!==D.size?(t=()=>{0!==D.size||F.current||(F.current=!0,O.fetchThreads())},I[0]=O,I[1]=D.size,I[2]=t):t=I[2],I[3]!==O||I[4]!==R||I[5]!==D?(a=[D,O,R],I[3]=O,I[4]=R,I[5]=D,I[6]=a):a=I[6],(0,_.useEffect)(t,a),I[7]!==E||I[8]!==T||I[9]!==L?(n=()=>{E&&T&&L()},I[7]=E,I[8]=T,I[9]=L,I[10]=n):n=I[10];let G=n;I[11]!==V||I[12]!==G?(r=()=>{G(),V()},I[11]=V,I[12]=G,I[13]=r):r=I[13];let K=r,Q=(0,_.useRef)(null),Y=an(),J=M?Y:Q,X=an();I[14]!==E||I[15]!==T||I[16]!==L||I[17]!==J?(i=()=>{if(T&&E){let e=e=>{J.current&&!J.current.contains(e.target)&&L()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}},s=[T,E,L,J],I[14]=E,I[15]=T,I[16]=L,I[17]=J,I[18]=i,I[19]=s):(i=I[18],s=I[19]),(0,_.useEffect)(i,s);let Z=(0,_.useId)(),ee=function(){let{isLicensedLimited:e}=(0,ay.xR)(),{visible:t}=ob();return!t&&e&&eT.W.freeToPaidHyperspaceUpgradePrompt}(),et=!(T&&E);I[20]!==J||I[21]!==et?(o={disabled:et,containerRef:J},I[20]=J,I[21]=et,I[22]=o):o=I[22],(0,cF.r)(o);let ea=`${Z}-copilot-navigation`,en=T&&cZ.visible,er=k&&cZ.pinned;I[23]!==en||I[24]!==er?(l=(0,x.$)(cZ.container,en,er),I[23]=en,I[24]=er,I[25]=l):l=I[25];let ei=`${Z}-copilot-navigation`;I[26]!==ei?(c=(0,m.jsx)("h2",{id:ei,className:"sr-only",children:"Copilot navigation"}),I[26]=ei,I[27]=c):c=I[27];let es=M?B.SidebarExpandIcon:B.SidebarCollapseIcon,eo=M?"Close conversations":"Open conversations";I[28]!==M||I[29]!==L?(d=()=>{L(),M?(0,ta.BI)("dotcom_chat.activate",{target:"SIDEBAR_EXPAND",mode:"immersive"}):(0,ta.BI)("dotcom_chat.activate",{target:"SIDEBAR_COLLAPSE",mode:"immersive"})},I[28]=M,I[29]=L,I[30]=d):d=I[30];let el=M?void 0:X;I[31]!==es||I[32]!==eo||I[33]!==d||I[34]!==el?(u=(0,m.jsx)(tP.K,{icon:es,"aria-label":eo,onClick:d,variant:"default",ref:el}),I[31]=es,I[32]=eo,I[33]=d,I[34]=el,I[35]=u):u=I[35],I[36]!==$||I[37]!==A||I[38]!==G?(h=(0,m.jsx)(tP.K,{as:ef.N_,to:eI.Jz,icon:cG,"aria-label":"New conversation",onClick:async e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),G(),await $({clearTopic:!0,includeThreads:!1}),A(),(0,ta.BI)("dotcom_chat.activate",{target:"SIDEBAR_CONVERSATION_NEW",mode:"immersive"}))},variant:"default"}),I[36]=$,I[37]=A,I[38]=G,I[39]=h):h=I[39],I[40]!==c||I[41]!==u||I[42]!==h?(f=(0,m.jsxs)("div",{className:cZ.header,children:[c,u,h]}),I[40]=c,I[41]=u,I[42]=h,I[43]=f):f=I[43],I[44]===Symbol.for("react.memo_cache_sentinel")?(g=(0,m.jsx)(c1,{}),I[44]=g):g=I[44];let ec=`${Z}-quick-links`,ed=`${Z}-quick-links`;I[45]!==ed?(y=(0,m.jsx)("h3",{id:ed,className:"sr-only",children:"Quick links"}),I[45]=ed,I[46]=y):y=I[46],I[47]!==K||I[48]!==H?(v=H&&(0,m.jsx)(cX,{toggleFloatingSidebar:K}),I[47]=K,I[48]=H,I[49]=v):v=I[49],I[50]!==ec||I[51]!==y||I[52]!==v?(b=(0,m.jsxs)("nav",{"aria-labelledby":ec,className:cZ.quicklinks,children:[y,v]}),I[50]=ec,I[51]=y,I[52]=v,I[53]=b):b=I[53];let eu=U?null:P;return I[54]!==K||I[55]!==R.threadsLoading.state||I[56]!==eu?(j=(0,m.jsx)(cW,{selectedItemID:eu,loadingState:R.threadsLoading.state,onConversationSelect:K}),I[54]=K,I[55]=R.threadsLoading.state,I[56]=eu,I[57]=j):j=I[57],I[58]!==b||I[59]!==j?(C=(0,m.jsx)(aw.t,{fallback:g,children:(0,m.jsxs)("div",{className:cZ.conversations,children:[b,j]})}),I[58]=b,I[59]=j,I[60]=C):C=I[60],I[61]!==ee?(N=ee?(0,m.jsx)(cQ,{}):null,I[61]=ee,I[62]=N):N=I[62],I[63]!==C||I[64]!==N?(S=(0,m.jsxs)("div",{className:cZ.sidebar,children:[C,N]}),I[63]=C,I[64]=N,I[65]=S):S=I[65],I[66]!==J||I[67]!==l||I[68]!==f||I[69]!==S||I[70]!==ea?(w=(0,m.jsxs)("aside",{"aria-labelledby":ea,ref:J,className:l,children:[f,S]}),I[66]=J,I[67]=l,I[68]=f,I[69]=S,I[70]=ea,I[71]=w):w=I[71],w}function c1(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:cZ.blankslateContainer,children:(0,m.jsx)(aD,{regionName:"The conversations menu"})}),t[0]=e):e=t[0],e}try{c0.displayName||(c0.displayName="Sidebar")}catch{}try{c1.displayName||(c1.displayName="SidebarContentsFallback")}catch{}var c2=a(26807);function c3(e,t){switch(t){case"custom_copilot_reader":case"custom_copilot_writer":case"custom_copilot_admin":return"Shared"}return"org_public"===e?"Shared":"Private"}let c4={container:"SpaceNotFoundComponent-module__container--hltG9",description:"SpaceNotFoundComponent-module__description--b8Rdv",banner:"SpaceNotFoundComponent-module__banner--ntKjI",icon:"SpaceNotFoundComponent-module__icon--hM9CP"},c5=e=>{let t,a,n,r,i,s=(0,p.c)(7),{protectedOrganizations:o}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(B.AlertIcon,{className:c4.icon}),a=(0,m.jsx)("h3",{children:"Space not found"}),n=(0,m.jsx)("p",{className:c4.description,children:"This URL may be incorrect, you're signed out of your organization, or the Space may have been deleted."}),s[0]=t,s[1]=a,s[2]=n):(t=s[0],a=s[1],n=s[2]),s[3]!==o?(r=o&&!(0,Y.G7)("global_sso_banner")&&(0,m.jsx)(z.x,{protectedOrgs:o,redirectURI:c6}),s[3]=o,s[4]=r):r=s[4],s[5]!==r?(i=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:c4.container,children:[t,a,n,(0,m.jsx)("div",{className:c4.banner,children:r})]})}),s[5]=r,s[6]=i):i=s[6],i};try{c5.displayName||(c5.displayName="SpaceNotFoundComponent")}catch{}function c6(){return`/search/refresh_blackbird_caches?return_to=${encodeURIComponent(window.location.href)}`}let c7={dialogTitle:"AllAttachmentsDialog-module__dialogTitle--A4eQa"},c8={attachmentText:"AttachmentPreview-module__attachmentText--GPjjd",attachmentPreviewImage:"AttachmentPreview-module__attachmentPreviewImage--W6lEk"};function c9(e){let t=(0,p.c)(13),{attachment:a}=e;if(!a){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("p",{className:c8.attachmentText,children:"No attachment selected."}),t[0]=e):e=t[0],e}switch(a.type){case"free_text":{let e;return t[1]!==a.text?(e=(0,m.jsx)("p",{className:c8.attachmentText,children:a.text}),t[1]=a.text,t[2]=e):e=t[2],e}case"media_content":{let e,n,r,i=`image: ${a.name}`;return t[3]!==a.url||t[4]!==i?(e=(0,m.jsx)("img",{alt:i,src:a.url}),t[3]=a.url,t[4]=i,t[5]=e):e=t[5],t[6]!==a.name||t[7]!==a.url?(n=(0,m.jsx)(e$.Q,{onClick:()=>(function(e,t,a="image"){let n=document.createElement("a");n.href=e,n.setAttribute("download",t||a),document.body.appendChild(n),n.click(),document.body.removeChild(n)})(a.url,a.name),children:"Download"}),t[6]=a.name,t[7]=a.url,t[8]=n):n=t[8],t[9]!==e||t[10]!==n?(r=(0,m.jsxs)("div",{className:c8.attachmentPreviewImage,children:[e,n]}),t[9]=e,t[10]=n,t[11]=r):r=t[11],r}default:{let e;return t[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("p",{children:"No preview available for this attachment."}),t[12]=e):e=t[12],e}}}try{c9.displayName||(c9.displayName="AttachmentPreview")}catch{}function de(e){let t=(0,p.c)(14),{attachment:a,className:n}=e;switch(a.type){case"github_file":{let e;return t[0]!==n?(e=(0,m.jsx)(B.FileIcon,{className:n}),t[0]=n,t[1]=e):e=t[1],e}case"free_text":{let e;return t[2]!==n?(e=(0,m.jsx)(B.PasteIcon,{className:n}),t[2]=n,t[3]=e):e=t[3],e}case"uploaded_text_file":{let e;return t[4]!==n?(e=(0,m.jsx)(B.FileIcon,{className:n}),t[4]=n,t[5]=e):e=t[5],e}case"github_issue":{let e;return t[6]!==n?(e=(0,m.jsx)(B.IssueOpenedIcon,{className:n}),t[6]=n,t[7]=e):e=t[7],e}case"github_pull_request":{let e;return t[8]!==n?(e=(0,m.jsx)(B.GitPullRequestIcon,{className:n}),t[8]=n,t[9]=e):e=t[9],e}case"media_content":{let e;return t[10]!==n?(e=(0,m.jsx)(B.ImageIcon,{className:n}),t[10]=n,t[11]=e):e=t[11],e}case"repository":{let e;return t[12]!==n?(e=(0,m.jsx)(B.RepoIcon,{className:n}),t[12]=n,t[13]=e):e=t[13],e}default:return null}}try{de.displayName||(de.displayName="AttachmentIcon")}catch{}let dt={attachmentList:"AttachmentsList-module__attachmentList--bXIct",attachmentItem:"AttachmentsList-module__attachmentItem--nReRG",attachmentItemButton:"AttachmentsList-module__attachmentItemButton--EYA7M",attachmentItemLink:"AttachmentsList-module__attachmentItemLink--jglX0",attachmentText:"AttachmentsList-module__attachmentText--CuSQm",attachmentName:"AttachmentsList-module__attachmentName--tRjFT",attachmentContent:"AttachmentsList-module__attachmentContent--qKH5R",attachmentIcon:"AttachmentsList-module__attachmentIcon--diR8_",lineClamp:"AttachmentsList-module__lineClamp--Nrbdd"};function da(e){let t,a,n=(0,p.c)(7),{attachments:r,onFileClick:i}=e;if(n[0]!==r||n[1]!==i){let e;n[3]!==i?(e=e=>(0,m.jsx)(dn,{attachment:e,onFileClick:i},e.id),n[3]=i,n[4]=e):e=n[4],t=r.map(e),n[0]=r,n[1]=i,n[2]=t}else t=n[2];return n[5]!==t?(a=(0,m.jsx)("ul",{className:dt.attachmentList,children:t}),n[5]=t,n[6]=a):a=n[6],a}function dn(e){let t=(0,p.c)(85),{attachment:a,onFileClick:n}=e;switch(a.type){case"github_file":{let e,n,r,i,s,o,l;t[0]!==a?(e=(0,av.q5)(a),t[0]=a,t[1]=e):e=t[1];let{filePath:c,fileName:d,fileUrl:u}=e;return t[2]!==a?(n=(0,m.jsx)("div",{className:dt.attachmentIcon,children:(0,m.jsx)(de,{attachment:a})}),t[2]=a,t[3]=n):n=t[3],t[4]!==d?(r=(0,m.jsx)("div",{className:dt.attachmentName,children:d}),t[4]=d,t[5]=r):r=t[5],t[6]!==c?(i=(0,m.jsx)("p",{className:dt.attachmentContent,children:c}),t[6]=c,t[7]=i):i=t[7],t[8]!==r||t[9]!==i?(s=(0,m.jsxs)("div",{className:dt.attachmentText,children:[r,i]}),t[8]=r,t[9]=i,t[10]=s):s=t[10],t[11]!==u||t[12]!==n||t[13]!==s?(o=(0,m.jsxs)("a",{className:dt.attachmentItemLink,href:u,rel:"noopener noreferrer",target:"_blank",children:[n,s]}),t[11]=u,t[12]=n,t[13]=s,t[14]=o):o=t[14],t[15]!==a.id||t[16]!==o?(l=(0,m.jsx)("li",{className:dt.attachmentItem,children:o},a.id),t[15]=a.id,t[16]=o,t[17]=l):l=t[17],l}case"repository":{let e,n,r,i,s=`/${a.nwo}`;return t[18]!==a?(e=(0,m.jsx)("div",{className:dt.attachmentIcon,children:(0,m.jsx)(de,{attachment:a})}),t[18]=a,t[19]=e):e=t[19],t[20]!==a.nwo?(n=(0,m.jsx)("div",{className:dt.attachmentText,children:(0,m.jsx)("div",{className:dt.attachmentName,children:a.nwo})}),t[20]=a.nwo,t[21]=n):n=t[21],t[22]!==s||t[23]!==e||t[24]!==n?(r=(0,m.jsxs)("a",{className:dt.attachmentItemLink,href:s,rel:"noopener noreferrer",target:"_blank",children:[e,n]}),t[22]=s,t[23]=e,t[24]=n,t[25]=r):r=t[25],t[26]!==a.id||t[27]!==r?(i=(0,m.jsx)("li",{className:dt.attachmentItem,children:r},a.id),t[26]=a.id,t[27]=r,t[28]=i):i=t[28],i}case"free_text":case"media_content":{let e,r,i,s,o,l,c,d,u,p=a.id;return t[29]!==a||t[30]!==n?(e=()=>n(a),t[29]=a,t[30]=n,t[31]=e):e=t[31],t[32]!==a?(r=(0,m.jsx)("div",{className:dt.attachmentIcon,children:(0,m.jsx)(de,{attachment:a})}),t[32]=a,t[33]=r):r=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(i=(0,x.$)(dt.attachmentName,dt.lineClamp),t[34]=i):i=t[34],t[35]!==a.name?(s=(0,m.jsx)("div",{className:i,children:a.name}),t[35]=a.name,t[36]=s):s=t[36],t[37]!==a?(o="text"in a&&(0,m.jsx)("p",{className:(0,x.$)(dt.attachmentContent,dt.lineClamp),children:a.text}),t[37]=a,t[38]=o):o=t[38],t[39]!==s||t[40]!==o?(l=(0,m.jsxs)("div",{className:dt.attachmentText,children:[s,o]}),t[39]=s,t[40]=o,t[41]=l):l=t[41],t[42]!==r||t[43]!==l?(c=(0,m.jsxs)("span",{className:dt.attachmentItemLink,children:[r,l]}),t[42]=r,t[43]=l,t[44]=c):c=t[44],t[45]!==e||t[46]!==c?(d=(0,m.jsx)("button",{type:"button",onClick:e,className:dt.attachmentItemButton,children:c}),t[45]=e,t[46]=c,t[47]=d):d=t[47],t[48]!==a.id||t[49]!==d?(u=(0,m.jsx)("li",{className:dt.attachmentItem,children:d},p),t[48]=a.id,t[49]=d,t[50]=u):u=t[50],u}case"uploaded_text_file":{let e,n,r,i,s,o=a.id,l=a.url,c=a.name;return t[51]!==a?(e=(0,m.jsx)("div",{className:dt.attachmentIcon,children:(0,m.jsx)(de,{attachment:a})}),t[51]=a,t[52]=e):e=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(n=(0,x.$)(dt.attachmentName,dt.lineClamp),t[53]=n):n=t[53],t[54]!==a.name?(r=(0,m.jsx)("div",{className:dt.attachmentText,children:(0,m.jsx)("div",{className:n,children:a.name})}),t[54]=a.name,t[55]=r):r=t[55],t[56]!==a.name||t[57]!==a.url||t[58]!==e||t[59]!==r?(i=(0,m.jsxs)("a",{className:dt.attachmentItemLink,href:l,download:c,children:[e,r]}),t[56]=a.name,t[57]=a.url,t[58]=e,t[59]=r,t[60]=i):i=t[60],t[61]!==a.id||t[62]!==i?(s=(0,m.jsx)("li",{className:dt.attachmentItem,children:i},o),t[61]=a.id,t[62]=i,t[63]=s):s=t[63],s}case"github_issue":case"github_pull_request":{let e,n,r,i,s,o,l,c,d,u=a.id,p=a.url;t[64]!==a?(e=(0,m.jsx)("div",{className:dt.attachmentIcon,children:(0,m.jsx)(de,{attachment:a,className:"fgColor-success"})}),t[64]=a,t[65]=e):e=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(n=(0,x.$)(dt.attachmentName,dt.lineClamp),t[66]=n):n=t[66];let h=`#${a.number}`;return t[67]!==h?(r=(0,m.jsx)("span",{className:"fgColor-muted text-light",children:h}),t[67]=h,t[68]=r):r=t[68],t[69]!==a.title||t[70]!==r?(i=(0,m.jsxs)("div",{className:n,children:[a.title,"\xa0",r]}),t[69]=a.title,t[70]=r,t[71]=i):i=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(s=(0,x.$)(dt.attachmentContent,dt.lineClamp),t[72]=s):s=t[72],t[73]!==a.nwo?(o=(0,m.jsx)("div",{className:s,children:a.nwo}),t[73]=a.nwo,t[74]=o):o=t[74],t[75]!==i||t[76]!==o?(l=(0,m.jsxs)("div",{className:dt.attachmentText,children:[i,o]}),t[75]=i,t[76]=o,t[77]=l):l=t[77],t[78]!==a.url||t[79]!==l||t[80]!==e?(c=(0,m.jsxs)("a",{className:dt.attachmentItemLink,href:p,rel:"noopener noreferrer",target:"_blank",children:[e,l]}),t[78]=a.url,t[79]=l,t[80]=e,t[81]=c):c=t[81],t[82]!==a.id||t[83]!==c?(d=(0,m.jsx)("li",{className:dt.attachmentItem,children:c},u),t[82]=a.id,t[83]=c,t[84]=d):d=t[84],d}default:return null}}try{da.displayName||(da.displayName="AttachmentsList")}catch{}try{dn.displayName||(dn.displayName="AttachmentItem")}catch{}function dr(e){let t,a,n,r,i,s=(0,p.c)(17),{copilotSpace:o,onClose:l,returnFocusRef:c,initialAttachment:d}=e,u=(0,ef.Zp)(),[h,f]=(0,_.useState)(d??null);return s[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen"},s[0]=t):t=s[0],s[1]!==o||s[2]!==u||s[3]!==h?(a=!0===o.editable&&null===h?[{content:"Edit",leadingVisual:B.PencilIcon,onClick:()=>void u(`${(0,av.GL)(o)}#attachments`)}]:void 0,s[1]=o,s[2]=u,s[3]=h,s[4]=a):a=s[4],s[5]!==l||s[6]!==h?(n=()=>(0,m.jsx)(aK.l.Header,{children:(0,m.jsxs)("div",{className:"d-flex flex-items-center",children:[h?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(tP.K,{icon:B.ArrowLeftIcon,variant:"invisible",onClick:()=>f(null),"aria-label":"Back",className:"mr-1"}),(0,m.jsx)(aK.l.Title,{className:c7.dialogTitle,children:h?.name??"Attachments"})]}):(0,m.jsx)(aK.l.Title,{className:(0,x.$)(c7.dialogTitle,"pl-2"),children:"Attachments"}),(0,m.jsx)(aK.l.CloseButton,{onClose:l})]})}),s[5]=l,s[6]=h,s[7]=n):n=s[7],s[8]!==o.resources||s[9]!==h?(r=h?(0,m.jsx)(c9,{attachment:h}):(0,m.jsx)(da,{attachments:o.resources,onFileClick:f}),s[8]=o.resources,s[9]=h,s[10]=r):r=s[10],s[11]!==l||s[12]!==c||s[13]!==a||s[14]!==n||s[15]!==r?(i=(0,m.jsx)(aK.l,{onClose:l,position:t,returnFocusRef:c,footerButtons:a,renderHeader:n,children:r}),s[11]=l,s[12]=c,s[13]=a,s[14]=n,s[15]=r,s[16]=i):i=s[16],i}try{dr.displayName||(dr.displayName="AllAttachmentsDialog")}catch{}let di={instructionsText:"FullInstructionsDialog-module__instructionsText--K7H7X"},ds=e=>{let t,a=(0,p.c)(2);return a[0]!==e?(t=(0,m.jsx)(B.CheckIcon,{...e,className:"fgColor-success"}),a[0]=e,a[1]=t):t=a[1],t};function dl(e){let t,a,n,r,i,s,o,l=(0,p.c)(20),{copilotSpace:c,onClose:d,returnFocusRef:u}=e,[h,f]=(0,_.useState)(!1);l[0]!==c.generalInstructions?(t=function(){(0,o7.D)(c.generalInstructions||""),f(!0),setTimeout(()=>f(!1),2e3)},l[0]=c.generalInstructions,l[1]=t):t=l[1];let g=t,y=(0,ef.Zp)();l[2]===Symbol.for("react.memo_cache_sentinel")?(a={narrow:"fullscreen"},l[2]=a):a=l[2];let x=h?"Copied":"Copy",v=h?ds:B.CopyIcon;return l[3]!==g||l[4]!==x||l[5]!==v?(n={content:x,leadingVisual:v,onClick:g},l[3]=g,l[4]=x,l[5]=v,l[6]=n):n=l[6],l[7]!==c||l[8]!==y?(r=!0===c.editable?[{content:"Edit",leadingVisual:B.PencilIcon,onClick:()=>y(`${(0,av.GL)(c)}#instructions`)}]:[],l[7]=c,l[8]=y,l[9]=r):r=l[9],l[10]!==n||l[11]!==r?(i=[n,...r],l[10]=n,l[11]=r,l[12]=i):i=l[12],l[13]!==c.generalInstructions?(s=()=>(0,m.jsx)("div",{className:"p-3",children:(0,m.jsx)("p",{className:di.instructionsText,children:c.generalInstructions})}),l[13]=c.generalInstructions,l[14]=s):s=l[14],l[15]!==d||l[16]!==u||l[17]!==i||l[18]!==s?(o=(0,m.jsx)(aK.l,{title:"Instructions",onClose:d,returnFocusRef:u,position:a,footerButtons:i,renderBody:s}),l[15]=d,l[16]=u,l[17]=i,l[18]=s,l[19]=o):o=l[19],o}try{ds.displayName||(ds.displayName="SuccessCheckIcon")}catch{}try{dl.displayName||(dl.displayName="FullInstructionsDialog")}catch{}var dc=a(29255),dd=a(97665);let du=e=>{let t,a,n,r,i,s,o,l=(0,p.c)(18),c=(0,q.b)(),{customCopilots:d}=(0,W.Pk)(),u=(0,dd.jE)();l[0]!==e||l[1]!==u?(t=async()=>(e&&await u.invalidateQueries({queryKey:(0,dc.dp)(e)}),u.invalidateQueries({queryKey:dc.O6})),l[0]=e,l[1]=u,l[2]=t):t=l[2],l[3]!==d||l[4]!==e||l[5]!==c?(a=async t=>{let a=(0,av.JB)(d,e);if(!a)return;let n=`${(0,av.Cb)(e)}/stars`,r=t.starred?"POST":"DELETE";if((await (0,tl.lS)(n,{method:r})).ok)return a.starred=t.starred,c.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:a}),a},l[3]=d,l[4]=e,l[5]=c,l[6]=a):a=l[6],l[7]!==t||l[8]!==a?(n={onSuccess:t,mutationFn:a},l[7]=t,l[8]=a,l[9]=n):n=l[9];let m=(0,nn.n)(n);return l[10]!==m?({mutateAsync:s,isPending:r,...i}=m,l[10]=m,l[11]=r,l[12]=i,l[13]=s):(r=l[11],i=l[12],s=l[13]),l[14]!==r||l[15]!==i||l[16]!==s?(o={starCopilotSpace:s,isLoading:r,...i},l[14]=r,l[15]=i,l[16]=s,l[17]=o):o=l[17],o},dm={container:"SpaceDetailsPage-module__container--NBzl3",main:"SpaceDetailsPage-module__main--VvzPx",contain:"SpaceDetailsPage-module__contain--oqicC",mobileOnly:"SpaceDetailsPage-module__mobileOnly--kEz8Z",desktopOnly:"SpaceDetailsPage-module__desktopOnly--xwqTV",meta:"SpaceDetailsPage-module__meta--juYEp",header:"SpaceDetailsPage-module__header--eIaez",chatInput:"SpaceDetailsPage-module__chatInput--Auq6g",conversations:"SpaceDetailsPage-module__conversations--VZDbm",info:"SpaceDetailsPage-module__info--VWAb_",sideTitle:"SpaceDetailsPage-module__sideTitle--m6GP5",sideSection:"SpaceDetailsPage-module__sideSection--p8xws",sideSectionTitle:"SpaceDetailsPage-module__sideSectionTitle--ieSV8",sideSectionHeader:"SpaceDetailsPage-module__sideSectionHeader--lofn9",conversationsListTitle:"SpaceDetailsPage-module__conversationsListTitle--Qi4h1",noConversations:"SpaceDetailsPage-module__noConversations--L9F5I",conversationsPlaceholder:"SpaceDetailsPage-module__conversationsPlaceholder--YUty1",contextPlaceholder:"SpaceDetailsPage-module__contextPlaceholder--TJQfK",conversationsPlaceholderText:"SpaceDetailsPage-module__conversationsPlaceholderText--X4UwU",conversationsHeader:"SpaceDetailsPage-module__conversationsHeader--WPiMC",conversationsContainer:"SpaceDetailsPage-module__conversationsContainer--vapwm",conversationsList:"SpaceDetailsPage-module__conversationsList--q27bh",conversationItem:"SpaceDetailsPage-module__conversationItem--yTwgT",conversationItemMenuOpen:"SpaceDetailsPage-module__conversationItemMenuOpen--OkeFA",conversationItemLeftColumn:"SpaceDetailsPage-module__conversationItemLeftColumn--lf_vr",conversationName:"SpaceDetailsPage-module__conversationName--lRecN",conversationTimestamp:"SpaceDetailsPage-module__conversationTimestamp--bMWsn",instructionsText:"SpaceDetailsPage-module__instructionsText--Qa5J2",infoDescription:"SpaceDetailsPage-module__infoDescription--NU98Y",noDescription:"SpaceDetailsPage-module__noDescription--QMqlj",starButton:"SpaceDetailsPage-module__starButton--VxOa3",visibilityLabel:"SpaceDetailsPage-module__visibilityLabel--kJe6N",descriptionExpander:"SpaceDetailsPage-module__descriptionExpander--HWK9U",starFillIcon:"SpaceDetailsPage-module__starFillIcon--FEdbK",instructionsLink:"SpaceDetailsPage-module__instructionsLink--Xw19Y",attachmentsLink:"SpaceDetailsPage-module__attachmentsLink--Q28Yi",actionListOffset:"SpaceDetailsPage-module__actionListOffset--jaFU6",lineClamp:"SpaceDetailsPage-module__lineClamp--_by4z"};function dp(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(J.B,{direction:"horizontal",align:"center",className:"p-4 px-md-6",children:(0,m.jsx)(J.B.Item,{grow:!0,children:(0,m.jsx)(l4,{})})}),t[0]=e):e=t[0],e}try{dp.displayName||(dp.displayName="SpaceLoader")}catch{}Object.keys({BeakerIcon:B.BeakerIcon,BookIcon:B.BookIcon,BroadcastIcon:B.BroadcastIcon,CloudIcon:B.CloudIcon,CodeIcon:B.CodeIcon,DatabaseIcon:B.DatabaseIcon,DependabotIcon:B.DependabotIcon,HubotIcon:B.HubotIcon,OrganizationIcon:B.OrganizationIcon,PlusIcon:B.PlusIcon,ProjectRoadmapIcon:B.ProjectRoadmapIcon,TelescopeIcon:B.TelescopeIcon,TerminalIcon:B.TerminalIcon});let dh=["auburn","blue","brown","coral","cyan","gray","green","indigo","lemon","lime","olive","orange","pine","pink","plum","purple","red","teal","yellow"],df={container:"SpacesAvatar-module__container--zJJUl",auburn:"SpacesAvatar-module__auburn--CIKFA",blue:"SpacesAvatar-module__blue--csQQ0",brown:"SpacesAvatar-module__brown--n04yP",coral:"SpacesAvatar-module__coral--_ML4p",cyan:"SpacesAvatar-module__cyan--o0MwN",gray:"SpacesAvatar-module__gray--vvb1W",green:"SpacesAvatar-module__green--Ro4IV",indigo:"SpacesAvatar-module__indigo--_0T4q",lemon:"SpacesAvatar-module__lemon--gsHE8",lime:"SpacesAvatar-module__lime--vRdDX",olive:"SpacesAvatar-module__olive--G1neu",orange:"SpacesAvatar-module__orange--FmpCu",pine:"SpacesAvatar-module__pine--jFhFP",pink:"SpacesAvatar-module__pink--vHHwu",plum:"SpacesAvatar-module__plum--M6SF6",purple:"SpacesAvatar-module__purple--_4Sak",red:"SpacesAvatar-module__red--IUpfe",teal:"SpacesAvatar-module__teal--q0AMo",yellow:"SpacesAvatar-module__yellow--DdvtA"},dg={auburn:df.auburn,blue:df.blue,brown:df.brown,coral:df.coral,cyan:df.cyan,gray:df.gray,green:df.green,indigo:df.indigo,lemon:df.lemon,lime:df.lime,olive:df.olive,orange:df.orange,pine:df.pine,pink:df.pink,plum:df.plum,purple:df.purple,red:df.red,teal:df.teal,yellow:df.yellow};function dy(e){let t,a,n,r,i=(0,p.c)(11),{color:s,size:o}=e,l=void 0===o?16:o,{spaceColor:c}={icon:eA.Dy,spaceColor:dh.find(e=>e===s)??"blue"},d=`Spaces avatar in ${c} color`,u=`var(--base-size-${2*l})`;i[0]!==u?(t={"--custom-size":u},i[0]=u,i[1]=t):t=i[1];let h=dg[c];return i[2]!==h?(a=(0,x.$)(df.container,h),i[2]=h,i[3]=a):a=i[3],i[4]!==l?(n=(0,m.jsx)(eA.Dy,{size:l}),i[4]=l,i[5]=n):n=i[5],i[6]!==d||i[7]!==t||i[8]!==a||i[9]!==n?(r=(0,m.jsx)("div",{role:"img","aria-label":d,style:t,className:a,children:n}),i[6]=d,i[7]=t,i[8]=a,i[9]=n,i[10]=r):r=i[10],r}try{dy.displayName||(dy.displayName="SpacesAvatar")}catch{}let dx={container:"Tip-module__container--Ut3fK",prefix:"Tip-module__prefix--PQJdZ"};function d_(e){let t,a,n=(0,p.c)(3),{children:r}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsxs)("div",{className:dx.prefix,children:[(0,m.jsx)(B.LightBulbIcon,{}),"Tip"]}),n[0]=t):t=n[0],n[1]!==r?(a=(0,m.jsxs)("div",{className:dx.container,children:[t,r]}),n[1]=r,n[2]=a):a=n[2],a}try{d_.displayName||(d_.displayName="Tip")}catch{}function dv({customCopilotId:e,onChatSubmit:t,selectedThreadID:a,textAreaRef:n}){let{threads:r,streamingMessage:i,ambientError:s}=(0,W.Pk)(),o=(0,q.b)(),l=(0,og.G)(),[c,d]=(0,_.useState)(null),{isPending:u,data:p,error:h}=(0,ab.Ao)(e),[f,g]=(0,_.useState)(!1),[y,v]=(0,_.useState)(!1),b=(0,_.useMemo)(()=>p?o.sortAndFilterThreads(r,t=>t.customCopilotOwner===e.owner&&t.customCopilotID===e.id).slice(0,10):[],[r,e,o,p]);(0,_.useEffect)(()=>{p&&o.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:p}),o.clearCurrentReferences(["image"])},[p,o]);let j=(0,_.useRef)(!1);(0,_.useEffect)(()=>()=>{j.current||(o.clearCurrentReferences(),j.current=!1)},[o,e]);let C=(0,_.useCallback)(async e=>{t&&(j.current=!0,await t(e))},[t]);if(h instanceof ab.i9)return(0,m.jsx)(c5,{});if(h instanceof ab.OW)return(0,m.jsx)(c5,{protectedOrganizations:h.protectedOrganizations});if(u||!p)return(0,m.jsx)(dp,{});let N=(0,av.Hh)(p),S=c3(p.visibility,p.baseRole);return(0,m.jsx)("div",{className:dm.container,children:(0,m.jsxs)("div",{className:dm.main,children:[(0,m.jsxs)("div",{className:dm.contain,children:[N&&(0,m.jsx)(oW,{}),(0,m.jsxs)("div",{className:dm.header,children:[(0,m.jsx)(dy,{size:16,color:p.iconColor}),(0,m.jsxs)("h3",{className:dm.sideTitle,children:[p.name,(0,m.jsx)(ej.A,{className:dm.visibilityLabel,size:"small",variant:"secondary",children:S})]})]}),(0,m.jsxs)("div",{className:dm.chatInput,children:[s&&(0,m.jsx)(ox.P,{ambientError:s}),!N&&(0,m.jsx)(tk.V,{textAreaRef:n,onSubmit:C,isStreaming:!!i,size:"large",disabled:N,showModelPicker:!0,onNewThreadSelected:l},a)]}),(0,m.jsx)("div",{className:dm.conversations,children:b.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:dm.conversationsContainer,children:(0,m.jsxs)("nav",{"aria-labelledby":"conversations-heading",children:[(0,m.jsx)("div",{className:dm.conversationsHeader,children:(0,m.jsx)("h2",{id:"conversations-heading",className:dm.conversationsListTitle,children:"Your last conversations"})}),(0,m.jsx)("ul",{role:"menu",className:dm.conversationsList,children:b.map(e=>(0,m.jsx)(db,{conversation:e,activeMenuConversationId:c,setActiveMenuConversationId:d},e.id))})]})}),p.ownerIsOrg&&(0,m.jsx)(d_,{children:"Your conversations stay private when you share a space."})]}):(0,m.jsx)("div",{className:dm.noConversations,children:(0,m.jsx)(dN,{referenceSizeExceeded:N})})})]}),(0,m.jsxs)("aside",{className:dm.meta,children:[(0,m.jsx)(dS,{copilotSpace:p}),(0,m.jsx)(dw,{copilotSpace:p,setInstructionsDialogOpen:g,setAttachmentsDialogOpen:v}),p.generalInstructions||p.starredUsers.length>0||p.resources.length>0?(0,m.jsxs)(m.Fragment,{children:[p.generalInstructions&&(0,m.jsx)(dI,{copilotSpace:p,isDialogOpen:f,setDialogOpen:g}),p.starredUsers.length>0&&(0,m.jsx)(dk,{copilotSpace:p}),p.resources.length>0&&(0,m.jsx)(dT,{copilotSpace:p,isDialogOpen:y,setDialogOpen:v})]}):(0,m.jsx)("section",{className:(0,x.$)(dm.noConversations,dm.desktopOnly),children:(0,m.jsxs)("div",{className:dm.contextPlaceholder,children:[(0,m.jsx)(B.PaperclipIcon,{size:24}),(0,m.jsx)("div",{className:dm.conversationsPlaceholderText,children:"This space doesn\u2019t have any instructions or attachments yet"})]})})]})]})})}function db(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,_,v=(0,p.c)(38),{conversation:b,activeMenuConversationId:j,setActiveMenuConversationId:C}=e,N=(0,c2.Z)(),S=(0,q.b)();v[0]!==b?(t=(0,eI.CB)(b),v[0]=b,v[1]=t):t=v[1];let w=t,I=`${eI.Jz}/c/${b.id}`;v[2]!==b||v[3]!==S?(a=function(){S.deleteThread(b)},v[2]=b,v[3]=S,v[4]=a):a=v[4];let T=a;v[5]!==N||v[6]!==I?(n=()=>{N(I)},r=e=>{"Enter"===e.key&&N(I)},v[5]=N,v[6]=I,v[7]=n,v[8]=r):(n=v[7],r=v[8]);let k=null!==j&&dm.conversationItemMenuOpen;v[9]!==k?(i=(0,x.$)(dm.conversationItem,k),v[9]=k,v[10]=i):i=v[10],v[11]!==w?(s=(0,m.jsx)("div",{className:dm.conversationName,children:w}),v[11]=w,v[12]=s):s=v[12],v[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsx)(B.ClockIcon,{}),v[13]=o):o=v[13],v[14]!==b.updatedAt?(l=new Date(b.updatedAt),v[14]=b.updatedAt,v[15]=l):l=v[15],v[16]!==l?(c=(0,m.jsxs)("div",{className:dm.conversationTimestamp,children:[o," ",(0,m.jsx)(rC.A,{format:"relative",prefix:"",date:l})]}),v[16]=l,v[17]=c):c=v[17],v[18]!==c||v[19]!==s?(d=(0,m.jsxs)("div",{className:dm.conversationItemLeftColumn,children:[s,c]}),v[18]=c,v[19]=s,v[20]=d):d=v[20];let E=j===b.id;return v[21]!==b.id||v[22]!==C?(u=e=>{C(e?b.id:null)},v[21]=b.id,v[22]=C,v[23]=u):u=v[23],v[24]===Symbol.for("react.memo_cache_sentinel")?(h=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{variant:"invisible","aria-label":"Conversation options",icon:B.KebabHorizontalIcon,onClick:dC})}),v[24]=h):h=v[24],v[25]===Symbol.for("react.memo_cache_sentinel")?(f=(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.TrashIcon,{})}),v[25]=f):f=v[25],v[26]!==T?(g=(0,m.jsx)(tD.W.Overlay,{onClick:dj,align:"end",children:(0,m.jsx)(tB.l,{children:(0,m.jsxs)(tB.l.Item,{variant:"danger",onSelect:T,children:[f,"Delete"]})})}),v[26]=T,v[27]=g):g=v[27],v[28]!==E||v[29]!==u||v[30]!==g?(y=(0,m.jsxs)(tD.W,{open:E,onOpenChange:u,children:[h,g]}),v[28]=E,v[29]=u,v[30]=g,v[31]=y):y=v[31],v[32]!==d||v[33]!==y||v[34]!==n||v[35]!==r||v[36]!==i?(_=(0,m.jsxs)("li",{role:"menuitem",onClick:n,onKeyDown:r,className:i,children:[d,y]}),v[32]=d,v[33]=y,v[34]=n,v[35]=r,v[36]=i,v[37]=_):_=v[37],_}function dj(e){return e.stopPropagation()}function dC(e){e.stopPropagation()}function dN(e){let t,a,n=(0,p.c)(3),{referenceSizeExceeded:r}=e;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(B.CommentDiscussionIcon,{size:24}),n[0]=t):t=n[0];let i=r?"Remove some references to start your first conversation":"Start your first conversation using the input above";return n[1]!==i?(a=(0,m.jsx)("section",{className:dm.noConversations,children:(0,m.jsxs)("div",{className:dm.conversationsPlaceholder,children:[t,(0,m.jsx)("div",{className:dm.conversationsPlaceholderText,children:i})]})}),n[1]=i,n[2]=a):a=n[2],a}function dS(e){let t,a,n,r,i,s,o,l,c=(0,p.c)(23),{copilotSpace:d}=e,[u,h]=(0,_.useState)(!1),f=(d.description?.length??0)>140&&!u,{starCopilotSpace:g,isLoading:y}=du(d);c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)("div",{className:(0,x.$)(dm.sideSectionHeader,dm.desktopOnly),children:(0,m.jsx)("h4",{className:dm.sideSectionTitle,children:"About"})}),c[0]=t):t=c[0],c[1]!==d.description||c[2]!==f?(a=d.description?(f?d.description.slice(0,140):d.description).replaceAll(`

`,`
`):(0,m.jsx)("span",{className:(0,x.$)(dm.noDescription,dm.desktopOnly),children:"No description"}),c[1]=d.description,c[2]=f,c[3]=a):a=c[3],c[4]!==d.description||c[5]!==f?(n=d.description&&f&&(0,m.jsx)("button",{type:"button","aria-label":"Expand description",className:dm.descriptionExpander,onClick:()=>h(!0),children:(0,m.jsx)(B.EllipsisIcon,{size:16})}),c[4]=d.description,c[5]=f,c[6]=n):n=c[6],c[7]!==a||c[8]!==n?(r=(0,m.jsxs)("p",{className:dm.infoDescription,children:[a,n]}),c[7]=a,c[8]=n,c[9]=r):r=c[9],c[10]!==d.starred||c[11]!==g?(i=()=>void g({starred:!d.starred}),c[10]=d.starred,c[11]=g,c[12]=i):i=c[12],c[13]!==d.starred?(s=d.starred?(0,m.jsx)(B.StarFillIcon,{className:dm.starFillIcon}):(0,m.jsx)(B.StarIcon,{}),c[13]=d.starred,c[14]=s):s=c[14];let v=d.starred?"Starred":"Star";return c[15]!==y||c[16]!==i||c[17]!==s||c[18]!==v?(o=(0,m.jsx)(e$.Q,{className:dm.starButton,block:!0,disabled:y,onClick:i,leadingVisual:s,variant:"default",children:v}),c[15]=y,c[16]=i,c[17]=s,c[18]=v,c[19]=o):o=c[19],c[20]!==r||c[21]!==o?(l=(0,m.jsxs)("section",{className:dm.info,children:[t,r,o]}),c[20]=r,c[21]=o,c[22]=l):l=c[22],l}function dw(e){let t,a,n,r,i,s,o=(0,p.c)(19),{copilotSpace:l,setInstructionsDialogOpen:c,setAttachmentsDialogOpen:d}=e,u=`/${l.owner}`;return o[0]!==l.ownerAvatar||o[1]!==l.ownerIsOrg?(t=(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(rj.r,{size:16,square:l.ownerIsOrg,src:l.ownerAvatar})}),o[0]=l.ownerAvatar,o[1]=l.ownerIsOrg,o[2]=t):t=o[2],o[3]!==l.owner?(a=(0,m.jsxs)("span",{className:"fgColor-muted",children:["Owned by ",(0,m.jsx)("strong",{className:"text-semibold",children:l.owner})]}),o[3]=l.owner,o[4]=a):a=o[4],o[5]!==u||o[6]!==t||o[7]!==a?(n=(0,m.jsxs)(tB.l.LinkItem,{href:u,children:[t,a]}),o[5]=u,o[6]=t,o[7]=a,o[8]=n):n=o[8],o[9]!==l.generalInstructions||o[10]!==c?(r=l.generalInstructions&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>c(!0),className:dm.mobileOnly,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.NoteIcon,{})}),(0,m.jsx)("span",{className:"fgColor-muted",children:"View instructions"})]}),o[9]=l.generalInstructions,o[10]=c,o[11]=r):r=o[11],o[12]!==l.resources.length||o[13]!==d?(i=l.resources.length>0&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>d(!0),className:dm.mobileOnly,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.PaperclipIcon,{})}),(0,m.jsxs)("span",{className:"fgColor-muted",children:[l.resources.length," attachment",l.resources.length>1?"s":""]})]}),o[12]=l.resources.length,o[13]=d,o[14]=i):i=o[14],o[15]!==n||o[16]!==r||o[17]!==i?(s=(0,m.jsxs)(tB.l,{variant:"full",className:dm.actionListOffset,children:[n,r,i]}),o[15]=n,o[16]=r,o[17]=i,o[18]=s):s=o[18],s}function dI(e){let t,a,n,r,i,s,o,l=(0,p.c)(19),{copilotSpace:c,isDialogOpen:d,setDialogOpen:u}=e,h=(0,_.useRef)(null),f=c.generalInstructions||"";return l[0]!==f?(t=f.replaceAll(`

`,`
`),l[0]=f,l[1]=t):t=l[1],l[2]!==t?(a=(0,m.jsx)("p",{className:dm.instructionsText,children:t}),l[2]=t,l[3]=a):a=l[3],l[4]!==u?(n=()=>u(!0),l[4]=u,l[5]=n):n=l[5],l[6]!==d||l[7]!==n?(r=(0,m.jsx)(aA.A,{className:dm.instructionsLink,as:"button",ref:h,onClick:n,"aria-haspopup":"dialog","aria-expanded":d,children:"View full instructions"}),l[6]=d,l[7]=n,l[8]=r):r=l[8],l[9]!==a||l[10]!==r?(i=(0,m.jsxs)(dA,{title:"Instructions",children:[a,r]}),l[9]=a,l[10]=r,l[11]=i):i=l[11],l[12]!==c||l[13]!==d||l[14]!==u?(s=d&&(0,m.jsx)(dl,{copilotSpace:c,onClose:()=>u(!1),returnFocusRef:h}),l[12]=c,l[13]=d,l[14]=u,l[15]=s):s=l[15],l[16]!==i||l[17]!==s?(o=(0,m.jsxs)(m.Fragment,{children:[i,s]}),l[16]=i,l[17]=s,l[18]=o):o=l[18],o}function dT(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g=(0,p.c)(35),{copilotSpace:y,isDialogOpen:x,setDialogOpen:v}=e,[b,j]=(0,_.useState)(null),C=(0,_.useRef)(null);if(g[0]!==y.resources||g[1]!==v){let e,l=y.resources.slice(0,5);a=dA,s="Attachments",o=y.resources.length,t=tB.l,n="full",r=dm.actionListOffset,g[9]!==v?(e=e=>{if("free_text"===e.type||"media_content"===e.type)return(0,m.jsxs)(tB.l.Item,{onSelect:()=>{j(e),v(!0)},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(de,{attachment:e})}),(0,m.jsx)("span",{className:dm.lineClamp,children:e.name})]},e.id);if("uploaded_text_file"===e.type)return(0,m.jsxs)(tB.l.LinkItem,{href:e.url,download:e.name,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(de,{attachment:e})}),(0,m.jsx)("span",{className:dm.lineClamp,children:e.name})]},e.id);if("repository"===e.type)return(0,m.jsxs)(tB.l.LinkItem,{href:`/${e.nwo}`,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(de,{attachment:e})}),(0,m.jsx)("span",{className:dm.lineClamp,children:e.nwo})]},e.id);let t=(0,av.$s)(e)?"fgColor-success":"",{fileName:a,fileUrl:n}="github_file"===e.type?(0,av.q5)(e):{fileName:e.title,fileUrl:e.url};return(0,m.jsxs)(tB.l.LinkItem,{href:n,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(de,{attachment:e,className:t})}),(0,m.jsx)("span",{className:dm.lineClamp,children:a})]},e.id)},g[9]=v,g[10]=e):e=g[10],i=l.map(e),g[0]=y.resources,g[1]=v,g[2]=t,g[3]=a,g[4]=n,g[5]=r,g[6]=i,g[7]=s,g[8]=o}else t=g[2],a=g[3],n=g[4],r=g[5],i=g[6],s=g[7],o=g[8];return g[11]!==t||g[12]!==n||g[13]!==r||g[14]!==i?(l=(0,m.jsx)(t,{variant:n,className:r,children:i}),g[11]=t,g[12]=n,g[13]=r,g[14]=i,g[15]=l):l=g[15],g[16]!==v?(c=()=>v(!0),g[16]=v,g[17]=c):c=g[17],g[18]!==x||g[19]!==c?(d=(0,m.jsx)(aA.A,{className:dm.attachmentsLink,as:"button",ref:C,onClick:c,"aria-haspopup":"dialog","aria-expanded":x,children:"View all attachments"}),g[18]=x,g[19]=c,g[20]=d):d=g[20],g[21]!==a||g[22]!==s||g[23]!==o||g[24]!==l||g[25]!==d?(u=(0,m.jsxs)(a,{title:s,count:o,children:[l,d]}),g[21]=a,g[22]=s,g[23]=o,g[24]=l,g[25]=d,g[26]=u):u=g[26],g[27]!==y||g[28]!==b||g[29]!==x||g[30]!==v?(h=x&&(0,m.jsx)(dr,{copilotSpace:y,initialAttachment:b,onClose:()=>{j(null),v(!1)},returnFocusRef:C}),g[27]=y,g[28]=b,g[29]=x,g[30]=v,g[31]=h):h=g[31],g[32]!==h||g[33]!==u?(f=(0,m.jsxs)(m.Fragment,{children:[u,h]}),g[32]=h,g[33]=u,g[34]=f):f=g[34],f}function dk(e){let t,a,n,r=(0,p.c)(7),{copilotSpace:i}=e,s=i.starredUsersCount;return r[0]!==i.starredUsers?(t=i.starredUsers.map(dE),r[0]=i.starredUsers,r[1]=t):t=r[1],r[2]!==t?(a=(0,m.jsx)("div",{children:t}),r[2]=t,r[3]=a):a=r[3],r[4]!==i.starredUsersCount||r[5]!==a?(n=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(dA,{title:"Starred by",count:s,children:a})}),r[4]=i.starredUsersCount,r[5]=a,r[6]=n):n=r[6],n}function dE(e){return(0,m.jsx)(rj.r,{className:"mr-2",size:32,src:e.avatarUrl,alt:e.login},e.login)}function dA(e){let t,a,n,r,i=(0,p.c)(9),{title:s,count:o,children:l}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.$)(dm.sideSection,dm.desktopOnly),i[0]=t):t=i[0],i[1]!==o?(a=!!o&&(0,m.jsx)(aZ.A,{children:o}),i[1]=o,i[2]=a):a=i[2],i[3]!==a||i[4]!==s?(n=(0,m.jsx)("div",{className:dm.sideSectionHeader,children:(0,m.jsxs)("h4",{className:dm.sideSectionTitle,children:[s," ",a]})}),i[3]=a,i[4]=s,i[5]=n):n=i[5],i[6]!==l||i[7]!==n?(r=(0,m.jsxs)("div",{className:t,children:[n,l]}),i[6]=l,i[7]=n,i[8]=r):r=i[8],r}try{dv.displayName||(dv.displayName="SpaceDetailsPage")}catch{}try{db.displayName||(db.displayName="ConversationItem")}catch{}try{dN.displayName||(dN.displayName="NoConversationsPlaceholder")}catch{}try{dS.displayName||(dS.displayName="InfoSection")}catch{}try{dw.displayName||(dw.displayName="MetadataSection")}catch{}try{dI.displayName||(dI.displayName="InstructionsSection")}catch{}try{dT.displayName||(dT.displayName="AttachmentsSection")}catch{}try{dk.displayName||(dk.displayName="StarredSection")}catch{}try{dA.displayName||(dA.displayName="SideSection")}catch{}var dL=a(6869),dR=a(66839),dD=a(17632);let dP={container:"HeaderV2-module__container--yvARQ",leftControls:"HeaderV2-module__leftControls--QxvCJ",rightControls:"HeaderV2-module__rightControls--BPxjz",hideOnMobile:"HeaderV2-module__hideOnMobile--Z_c2P"};function dB(e){let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(40),{showPreviewPaneButton:y,conversationSpecificItems:x,customButtons:v}=e,b=void 0===y||y,j=(0,W.Pk)(),{selectedThreadID:C,threads:N,messagesLoading:S,messages:w}=j,I=(0,W.pn)(dM);f[0]!==I?(t=(0,eI.CB)(I),f[0]=I,f[1]=t):t=f[1];let T=t,k=ou(),E=oh(),A=(0,oc.G)(),L=(0,av.JB)(j.customCopilots,A),R=(0,ab.BV)(),D=(0,av.mM)(),P=(0,ax.v)(),[,M,O]=(0,o4.B)(!1);f[2]!==C||f[3]!==N?(a=N.get(C),f[2]=C,f[3]=N,f[4]=a):a=f[4];let F=a,$=!!(k?E:F?.sharedID),{updateGlobalNavigationBreadcrumbs:V}=lo();f[5]!==V?(n=()=>{V()},f[5]=V,f[6]=n):n=f[6],f[7]!==A||f[8]!==V?(r=[V,A],f[7]=A,f[8]=V,f[9]=r):r=f[9],(0,_.useEffect)(n,r),f[10]!==k||f[11]!==E||f[12]!==C?(i=()=>C?k&&E?`/copilot/share/${E}`:`/copilot/c/${C}`:eI.Jz,f[10]=k,f[11]=E,f[12]=C,f[13]=i):i=f[13];let z=i;P?.id,s=D&&!A||!C&&!P?.id&&!D;let H=(0,_.useRef)(null),[q,G]=(0,_.useState)(null),{canShareThread:K}=(0,U.X)(),Q="loaded"===S.state,Y=K&&!k&&C&&!A&&Q,J=(0,eI.Q7)(w).length>0;f[14]!==J||f[15]!==G?(o=()=>{J||G("share")},f[14]=J,f[15]=G,f[16]=o):o=f[16];let X=o;L?I?(0,g.D)(`${T} \xb7 ${L.name} \xb7 GitHub Copilot Spaces`):(0,g.D)(`${L.name} \xb7 GitHub Copilot Spaces`):D?(0,g.D)("Spaces \xb7 GitHub Copilot"):k?(0,g.D)("Shared conversation \xb7 GitHub Copilot"):(0,g.D)(`${T} \xb7 GitHub Copilot`);let Z=!s&&(0,m.jsx)("div",{className:dP.leftControls,children:(0,m.jsx)(dR.B,{children:R&&A?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(dR.B.Item,{href:eI.VR,children:"Spaces"}),C||!x?(0,m.jsx)(dR.B.Item,{href:L?(0,av.Cb)(L):eI.VR,children:L?.name||""}):(0,m.jsx)(dR.B.ItemWithMenu,{menuOverlay:(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsx)(tB.l,{children:x})}),children:L?.name||""}),C&&(0,m.jsx)(dR.B.ItemWithMenu,{menuOverlay:(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsx)(tB.l,{children:(0,m.jsx)(oX.V,{onOpenDialog:G,isShared:$,showShare:!A,hideShareOnDesktop:!0})})}),children:T})]}):P?(0,m.jsx)(dR.B.Item,{href:`/copilot/${P.id}`,children:P.displayName||"Plugin"}):C&&!k?(0,m.jsx)(dR.B.ItemWithMenu,{menuOverlay:(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsx)(tB.l,{children:(0,m.jsx)(oX.V,{onOpenDialog:G,isShared:$,showShare:!A,hideShareOnDesktop:!0})})}),children:T}):k?(0,m.jsx)(dR.B.Item,{href:z(),children:T}):null})});return f[17]!==$||f[18]!==J||f[19]!==X||f[20]!==Y?(l=Y&&(0,m.jsx)("div",{className:dP.hideOnMobile,children:(0,m.jsx)(dD.$,{icon:$?(0,m.jsx)(B.UnlockIcon,{}):(0,m.jsx)(B.LockIcon,{}),disabled:J,onClick:X,children:"Share"})}),f[17]=$,f[18]=J,f[19]=X,f[20]=Y,f[21]=l):l=f[21],f[22]!==b?(c=b&&(0,m.jsx)(dO,{}),f[22]=b,f[23]=c):c=f[23],f[24]!==q||f[25]!==C||f[26]!==G||f[27]!==M||f[28]!==O||f[29]!==T?(d=C&&(0,m.jsx)(oX.p,{visibleDialog:q,onClose:()=>{(0,n_.flushSync)(()=>G(null)),H.current?.focus()},threadName:T,threadId:C,selectedThreadId:C,onStartLoading:M,onFinishLoading:O,returnFocusRef:H}),f[24]=q,f[25]=C,f[26]=G,f[27]=M,f[28]=O,f[29]=T,f[30]=d):d=f[30],f[31]!==v||f[32]!==l||f[33]!==c||f[34]!==d?(u=(0,m.jsxs)("div",{className:dP.rightControls,children:[l,v,c,d]}),f[31]=v,f[32]=l,f[33]=c,f[34]=d,f[35]=u):u=f[35],f[36]!==Z||f[37]!==u||f[38]!==dP.container?(h=(0,m.jsxs)("div",{className:dP.container,children:[Z,u]}),f[36]=Z,f[37]=u,f[38]=dP.container,f[39]=h):h=f[39],h}function dM(e){return(0,nI.W)(e)}function dO(){let e,t=(0,p.c)(4),a=(0,au.tZ)(),{openPreviewPane:n}=(0,au.xx)(),r=an();return t[0]!==r||t[1]!==n||t[2]!==a?(e=!a&&(0,m.jsx)(dD.$,{iconOnly:!0,icon:(0,m.jsx)(B.SidebarExpandIcon,{}),"aria-label":"Open workbench",onClick:()=>{(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_OPEN_BUTTON",mode:"immersive"}),n()},ref:r}),t[0]=r,t[1]=n,t[2]=a,t[3]=e):e=t[3],e}try{dB.displayName||(dB.displayName="Header")}catch{}try{dO.displayName||(dO.displayName="PreviewPaneButton")}catch{}var dF=a(53526),d$=a(93959),dU=a(58569);let dV=(e,t)=>{let a,n,r,i,s,o,l,c,d,u,m,h,f,g,y,x,_,v=(0,p.c)(44),b=(0,dd.jE)(),j=(0,av.Cb)({id:t,owner:e}),C=`${j}/permissions`;v[0]!==C?(a={queryKey:["copilotSpaceCollaborators",C],queryFn:async()=>{let e=await (0,tl.lS)(C),t=await e.json();if(!e.ok)throw t.errorMessages;return t}},v[0]=C,v[1]=a):a=v[1];let{data:N,isLoading:S}=(0,nr.I)(a);v[2]!==C?(n=async e=>{let t=await (0,tl.lS)(C,{method:"POST",body:{permission:e}}),a=await t.json();if(!t.ok)throw a.errorMessages;return a},v[2]=C,v[3]=n):n=v[3],v[4]!==C||v[5]!==b?(r=()=>b.invalidateQueries({queryKey:["copilotSpaceCollaborators",C]}),v[4]=C,v[5]=b,v[6]=r):r=v[6],v[7]!==n||v[8]!==r?(i={mutationFn:n,onSuccess:r},v[7]=n,v[8]=r,v[9]=i):i=v[9];let w=(0,nn.n)(i);v[10]!==w?({mutateAsync:s,...o}=w,v[10]=w,v[11]=s,v[12]=o):(s=v[11],o=v[12]),v[13]!==C?(l=async e=>{let t=await (0,tl.lS)(C,{method:"PUT",body:{permission:e}}),a=await t.json();if(!t.ok)throw a.errorMessages;return a},v[13]=C,v[14]=l):l=v[14],v[15]!==C||v[16]!==b?(c=()=>b.invalidateQueries({queryKey:["copilotSpaceCollaborators",C]}),v[15]=C,v[16]=b,v[17]=c):c=v[17],v[18]!==l||v[19]!==c?(d={mutationFn:l,onSuccess:c},v[18]=l,v[19]=c,v[20]=d):d=v[20];let I=(0,nn.n)(d);v[21]!==I?({mutateAsync:u,...m}=I,v[21]=I,v[22]=u,v[23]=m):(u=v[22],m=v[23]),v[24]!==C?(h=async e=>{let t=await (0,tl.lS)(C,{method:"DELETE",body:{permission:e}});if(!t.ok)throw(await t.json()).errorMessages},v[24]=C,v[25]=h):h=v[25],v[26]!==C||v[27]!==b?(f=()=>b.invalidateQueries({queryKey:["copilotSpaceCollaborators",C]}),v[26]=C,v[27]=b,v[28]=f):f=v[28],v[29]!==f||v[30]!==h?(g={mutationFn:h,onSuccess:f},v[29]=f,v[30]=h,v[31]=g):g=v[31];let T=(0,nn.n)(g);return v[32]!==T?({mutateAsync:y,...x}=T,v[32]=T,v[33]=y,v[34]=x):(y=v[33],x=v[34]),v[35]!==s||v[36]!==o||v[37]!==N||v[38]!==S||v[39]!==y||v[40]!==x||v[41]!==u||v[42]!==m?(_={collaborators:N,isLoading:S,addCollaborator:s,updateCollaborator:u,removeCollaborator:y,isAddPending:o.isPending,isUpdatePending:m.isPending,isRemovePending:x.isPending,...o,...m,...x},v[35]=s,v[36]=o,v[37]=N,v[38]=S,v[39]=y,v[40]=x,v[41]=u,v[42]=m,v[43]=_):_=v[43],_};function dW(e){if("user"in e)return{...e.user,actor_type:"user"};if("team"in e)return{...e.team,actor_type:"team"};throw Error("suggestion has a value, but the types suggest this should not be possible. Did we account for all possible options properly in the typings?")}let dz={copyLinkSection:"SpaceCollaborators-module__copyLinkSection--4WK0E",spacesSuggestionsList:"SpaceCollaborators-module__spacesSuggestionsList--vfcJr"};function dH(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x=(0,p.c)(39),{copilotSpace:v,onError:b}=e,[j,C]=(0,_.useState)(""),[N,S]=(0,_.useState)(!1),w=(0,_.useRef)(null);x[0]!==j?(t=j.startsWith("@")?j.trim().slice(1):j.trim(),x[0]=j,x[1]=t):t=x[1];let I=(0,_.useDeferredValue)(t);x[2]!==v.id||x[3]!==v.owner||x[4]!==I?(a={input:{query:I,spaceOwner:v.owner,spaceId:v.id}},x[2]=v.id,x[3]=v.owner,x[4]=I,x[5]=a):a=x[5];let{data:T,isLoading:k}=(e=>{let t,a,n,r,i,s,o=(0,p.c)(16),{input:l}=e;o[0]!==l?(t=["suggestedSpaceCollaborators",l],o[0]=l,o[1]=t):t=o[1],o[2]!==l.query||o[3]!==l.spaceId||o[4]!==l.spaceOwner?(a=async()=>{let e=(0,av.Cb)({id:l.spaceId,owner:l.spaceOwner}),t=`${e}/suggested_collaborators?q=${encodeURIComponent(l.query)}`,a=await (0,tl.lS)(t);if(!a.ok)throw Error("Failed to fetch suggested collaborators");return(await a.json()).suggestions.map(dW)},o[2]=l.query,o[3]=l.spaceId,o[4]=l.spaceOwner,o[5]=a):a=o[5];let c=!!l.query;o[6]!==t||o[7]!==a||o[8]!==c?(n={queryKey:t,queryFn:a,enabled:c},o[6]=t,o[7]=a,o[8]=c,o[9]=n):n=o[9];let d=(0,nr.I)(n);return o[10]!==d?({data:r,...i}=d,o[10]=d,o[11]=r,o[12]=i):(r=o[11],i=o[12]),o[13]!==r||o[14]!==i?(s={data:r,...i},o[13]=r,o[14]=i,o[15]=s):s=o[15],s})(a),{collaborators:E,addCollaborator:A,error:L,isLoading:R}=dV(v.owner,v.id);x[6]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{let e=function(e){w.current&&!w.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},r=[],x[6]=n,x[7]=r):(n=x[6],r=x[7]),(0,_.useEffect)(n,r),x[8]!==j||x[9]!==T||x[10]!==k?(i=()=>{S(!!(j&&!k&&T&&T.length>0))},s=[j,T,k],x[8]=j,x[9]=T,x[10]=k,x[11]=i,x[12]=s):(i=x[11],s=x[12]),(0,_.useEffect)(i,s),x[13]!==A||x[14]!==E||x[15]!==b?(o=async function(e){if(E?.some(t=>t.actor_id===e.id&&t.actor_type===e.actor_type)){C(""),S(!1);return}try{await A({actor_id:e.id,role_name:"custom_copilot_reader",actor_type:e.actor_type}),C(""),S(!1)}catch{b({base:"An error occurred while adding a collaborator."})}},x[13]=A,x[14]=E,x[15]=b,x[16]=o):o=x[16];let D=o;x[17]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)("span",{className:"text-small text-bold color-fg-muted mb-1",children:"People with access"}),x[17]=l):l=x[17],x[18]===Symbol.for("react.memo_cache_sentinel")?(c={position:"relative"},x[18]=c):c=x[18];let P=`Search people within ${v.owner}`;return x[19]===Symbol.for("react.memo_cache_sentinel")?(d=e=>C(e.target.value),x[19]=d):d=x[19],x[20]!==j||x[21]!==P?(u=(0,m.jsx)(sK.A,{block:!0,placeholder:P,value:j,onChange:d,className:"color-fg-default","aria-label":"Search for users or teams to share this space with"}),x[20]=j,x[21]=P,x[22]=u):u=x[22],x[23]!==D||x[24]!==N||x[25]!==T?(h=N&&T&&(0,m.jsx)("div",{ref:w,children:(0,m.jsx)(dY,{items:T,onSelect:D})}),x[23]=D,x[24]=N,x[25]=T,x[26]=h):h=x[26],x[27]!==u||x[28]!==h?(f=(0,m.jsxs)(J.B,{direction:"vertical",gap:"condensed",align:"start",children:[l,(0,m.jsxs)("div",{className:dz.copyLinkSection,style:c,children:[u,h]})]}),x[27]=u,x[28]=h,x[29]=f):f=x[29],x[30]!==E||x[31]!==L||x[32]!==R||x[33]!==v||x[34]!==b?(g=R?(0,m.jsx)("div",{className:"d-flex flex-justify-center p-2",children:(0,m.jsx)(aQ.A,{})}):L?(0,m.jsx)(K.l,{variant:"critical",title:"There was a problem with loading this Space's collaborators."}):E&&E.length>0?(0,m.jsx)(J.B,{direction:"vertical",gap:"condensed",align:"start",children:E.map(e=>(0,m.jsx)(dq,{actor:e,copilotSpace:v,onError:b},`${e.actor_type}-${e.actor_id}`))}):(0,m.jsx)("span",{className:"text-small color-fg-muted p-2",children:"This Space isn't shared with anyone yet"}),x[30]=E,x[31]=L,x[32]=R,x[33]=v,x[34]=b,x[35]=g):g=x[35],x[36]!==f||x[37]!==g?(y=(0,m.jsxs)(m.Fragment,{children:[f,g]}),x[36]=f,x[37]=g,x[38]=y):y=x[38],y}function dq(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(26),{actor:u,copilotSpace:h,onError:f}=e,g="user"===u.actor_type?u.display_login:u.slug,y="team"===u.actor_type;return d[0]!==u.avatar_url||d[1]!==y?(t=(0,m.jsx)(rj.r,{src:u.avatar_url,className:"mr-2",square:y,size:32}),d[0]=u.avatar_url,d[1]=y,d[2]=t):t=d[2],d[3]!==g?(a=(0,m.jsx)("b",{children:g}),d[3]=g,d[4]=a):a=d[4],d[5]!==g||d[6]!==a?(n=(0,m.jsx)("span",{className:"ml-1",children:(0,m.jsx)(dU.A,{maxWidth:"230px",title:g,inline:!0,children:a})}),d[5]=g,d[6]=a,d[7]=n):n=d[7],d[8]!==u.name?(r=(0,m.jsx)("p",{children:u.name}),d[8]=u.name,d[9]=r):r=d[9],d[10]!==u.name||d[11]!==r?(i=(0,m.jsx)("span",{className:"text-small color-fg-muted ml-1",children:(0,m.jsx)(dU.A,{maxWidth:"230px",title:u.name,inline:!0,children:r})}),d[10]=u.name,d[11]=r,d[12]=i):i=d[12],d[13]!==n||d[14]!==i?(s=(0,m.jsxs)("div",{className:"d-flex flex-column mt-1",children:[n,i]}),d[13]=n,d[14]=i,d[15]=s):s=d[15],d[16]!==t||d[17]!==s?(o=(0,m.jsxs)("div",{className:"d-flex flex-items-center mt-1",children:[t,s]}),d[16]=t,d[17]=s,d[18]=o):o=d[18],d[19]!==u||d[20]!==h||d[21]!==f?(l=(0,m.jsx)(dQ,{actor:u,onError:f,copilotSpace:h}),d[19]=u,d[20]=h,d[21]=f,d[22]=l):l=d[22],d[23]!==o||d[24]!==l?(c=(0,m.jsxs)("div",{className:"width-full d-flex flex-items-center flex-justify-between",children:[o,l]}),d[23]=o,d[24]=l,d[25]=c):c=d[25],c}let dG=[{text:"Admin",value:"custom_copilot_admin"},{text:"Editor",value:"custom_copilot_writer"},{text:"Viewer",value:"custom_copilot_reader"}],dK={custom_copilot_admin:"Can view, make changes and add new people",custom_copilot_writer:"Can view and make changes",custom_copilot_reader:"Can view"};function dQ({actor:e,onError:t,copilotSpace:a}){let[n,r]=(0,_.useState)(!1),i=(0,_.useRef)(null),s=dG.find(t=>t.value===e.role),{updateCollaborator:o,removeCollaborator:l,isUpdatePending:c,isRemovePending:d}=dV(a.owner,a.id);async function u(a){try{await o({actor_id:e.actor_id,role_name:a,actor_type:e.actor_type})}catch{t({base:"An error occurred while updating an actor's permission level."})}finally{r(!1)}}async function p(){try{await l({actor_id:e.actor_id,actor_type:e.actor_type})}catch{t({base:"An error occurred while removing an actor's permissions."})}finally{r(!1)}}return(0,m.jsxs)(tD.W,{onOpenChange:r,anchorRef:i,open:n,children:[(0,m.jsx)(tD.W.Button,{disabled:e.disabled,loading:c||d,variant:"invisible",className:"text-small",ref:i,onClick:()=>r(!0),"aria-label":`Change role for ${e.name}`,children:(0,m.jsx)(dU.A,{title:s?.text||"",inline:!0,children:s?.text})}),(0,m.jsx)(tD.W.Overlay,{side:"outside-bottom",align:"end",width:"medium",children:(0,m.jsxs)(tB.l,{selectionVariant:"single","aria-label":`Role options for ${e.name}`,children:[dG.map(e=>(0,m.jsxs)(tB.l.Item,{selected:e.value===s?.value,onSelect:()=>u(e.value),children:[(0,m.jsx)("span",{className:"text-medium",children:(0,m.jsx)("b",{children:e.text})}),(0,m.jsx)("span",{className:"text-small color-fg-muted",children:(0,m.jsx)("p",{className:"m-0",children:dK[e.value]})})]},e.value)),(0,m.jsx)(tB.l.Divider,{}),(0,m.jsxs)(tB.l.Item,{variant:"danger",onSelect:()=>p(),children:[(0,m.jsx)("span",{className:"text-medium",children:(0,m.jsx)("b",{children:"Remove"})}),(0,m.jsx)("span",{className:"text-small color-fg-muted",children:(0,m.jsx)("p",{className:"m-0",children:"Loses access to this content"})})]},"remove")]})})]})}function dY(e){let t,a,n=(0,p.c)(7),{items:r,onSelect:i}=e;if(n[0]!==r||n[1]!==i){let e;n[3]!==i?(e=e=>{let t=`${e.actor_type}-${e.id}`,a="user"===e.actor_type?e.login:e.slug;return(0,m.jsxs)(tB.l.Item,{onSelect:()=>i(e),role:"option",children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(rj.r,{src:e.avatarUrl,square:"team"===e.actor_type,size:20})}),(0,m.jsx)("span",{className:"text-bold",children:a}),e.name&&(0,m.jsx)(tB.l.Description,{children:e.name})]},t)},n[3]=i,n[4]=e):e=n[4],t=r.map(e),n[0]=r,n[1]=i,n[2]=t}else t=n[2];return n[5]!==t?(a=(0,m.jsx)("div",{role:"dialog","aria-label":"Suggested collaborators",className:dz.spacesSuggestionsList,children:(0,m.jsx)(tB.l,{children:t})}),n[5]=t,n[6]=a):a=n[6],a}try{dH.displayName||(dH.displayName="SpaceCollaborators")}catch{}try{dq.displayName||(dq.displayName="SpaceCollaboratorRow")}catch{}try{dQ.displayName||(dQ.displayName="ActorRoleSelect")}catch{}try{dY.displayName||(dY.displayName="SpacesSuggestionsList")}catch{}let dJ={spaceVisibilityDialog:"SpaceSharingDialog-module__spaceVisibilityDialog--Xhqt8",errorBanner:"SpaceSharingDialog-module__errorBanner--iRqou"};function dX(e){let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(23),{closeDialog:g,customCopilotId:y}=e;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={},f[0]=t):t=f[0];let[x,v]=(0,_.useState)(t),[b,j]=(0,_.useState)(!1),C=(0,_.useRef)(null),N=()=>(0,m.jsx)(d3,{copySharedLink:S,copied:b,isSpaceLoading:T,copilotSpace:k});f[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>()=>{C.current&&(clearTimeout(C.current),C.current=null)},n=[],f[1]=a,f[2]=n):(a=f[1],n=f[2]),(0,_.useEffect)(a,n),r=`${eg.fV.origin}${(0,av.Cb)(e.customCopilotId)}`;let S=()=>{(0,o7.D)(r),j(!0),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{j(!1),C.current=null},2e3)},{isPending:w,data:I}=(0,ab.Ao)(y),T=w,k=I;return f[3]===Symbol.for("react.memo_cache_sentinel")?(i={narrow:"fullscreen"},f[3]=i):i=f[3],f[4]!==x.base||f[5]!==x.visibility?(s=x.base||x.visibility?(0,m.jsx)(K.l,{hideTitle:!0,title:"Unable to update space",description:x.visibility||x.base,"aria-label":"Critical",variant:"critical",className:dJ.errorBanner}):null,f[4]=x.base,f[5]=x.visibility,f[6]=s):s=f[6],f[7]!==k?(o=k&&(0,m.jsx)(dH,{copilotSpace:k,onError:v}),f[7]=k,f[8]=o):o=f[8],f[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)(tB.l.Divider,{}),f[9]=l):l=f[9],f[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,m.jsx)("span",{className:"text-small text-bold color-fg-muted",children:"Settings"}),f[10]=c):c=f[10],f[11]!==k||f[12]!==T||f[13]!==e?(d=(0,m.jsxs)(J.B,{direction:"vertical",gap:"condensed",align:"start",children:[c,(0,m.jsx)(dZ,{onError:v,copilotSpace:k,isSpaceLoading:T,...e})]}),f[11]=k,f[12]=T,f[13]=e,f[14]=d):d=f[14],f[15]!==d||f[16]!==o?(u=(0,m.jsxs)(J.B,{"data-testid":"custom-copilot-visibility",gap:"condensed",children:[o,l,d]}),f[15]=d,f[16]=o,f[17]=u):u=f[17],f[18]!==g||f[19]!==N||f[20]!==u||f[21]!==s?(h=(0,m.jsxs)(aK.l,{position:i,title:"Share this space",renderFooter:N,onClose:g,className:dJ.spaceVisibilityDialog,width:"large","aria-label":"Share this space",children:[s,u]}),f[18]=g,f[19]=N,f[20]=u,f[21]=s,f[22]=h):h=f[22],h}function dZ(e){let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(36),{copilotSpace:g,isSpaceLoading:y,onError:x}=e,{data:v,isLoading:b,error:j}=(0,ab.Tx)(g?.owner||"",g?.id??-1);if(f[0]!==g||f[1]!==y||f[2]!==b||f[3]!==x||f[4]!==v?(t=()=>{y||b||g&&v||x({visibility:"Could not load your space's visibility settings"})},a=[y,b,g,v,x],f[0]=g,f[1]=y,f[2]=b,f[3]=x,f[4]=v,f[5]=t,f[6]=a):(t=f[5],a=f[6]),(0,_.useEffect)(t,a),y){let e;return f[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:"color-fg-muted p-2",children:"Loading space information..."}),f[7]=e):e=f[7],e}if(!g){let e;return f[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:"color-fg-muted p-2",children:"Could not load data for your space."}),f[8]=e):e=f[8],e}let C=g.owner,N=v?.memberCount;return f[9]!==g.ownerAvatar?(n=(0,m.jsx)(rj.r,{src:g.ownerAvatar,className:"mr-2",square:!0,size:32}),f[9]=g.ownerAvatar,f[10]=n):n=f[10],f[11]!==g.ownerDisplayName?(r=(0,m.jsx)("b",{children:g.ownerDisplayName}),f[11]=g.ownerDisplayName,f[12]=r):r=f[12],f[13]!==g.ownerDisplayName||f[14]!==r?(i=(0,m.jsx)(dU.A,{maxWidth:"230px",title:g.ownerDisplayName,inline:!0,children:r}),f[13]=g.ownerDisplayName,f[14]=r,f[15]=i):i=f[15],f[16]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)("span",{className:"color-fg-muted ml-1",children:"(owner)"}),f[16]=s):s=f[16],f[17]!==i?(o=(0,m.jsxs)("span",{className:"ml-1",children:[i,s]}),f[17]=i,f[18]=o):o=f[18],f[19]!==j||f[20]!==b||f[21]!==N||f[22]!==C?(l=C&&(0,m.jsxs)(m.Fragment,{children:[!b&&null!==N&&(0,m.jsxs)("span",{className:"text-small color-fg-muted ml-1",children:[N," ",1===N?"person":"people"]}),(b||j||null===N)&&(0,m.jsx)("span",{className:"text-small color-fg-muted ml-1",children:"Organization"})]}),f[19]=j,f[20]=b,f[21]=N,f[22]=C,f[23]=l):l=f[23],f[24]!==o||f[25]!==l?(c=(0,m.jsxs)("div",{className:"d-flex flex-column",children:[o,l]}),f[24]=o,f[25]=l,f[26]=c):c=f[26],f[27]!==n||f[28]!==c?(d=(0,m.jsxs)("div",{className:"d-flex flex-items-center mt-1",children:[n,c]}),f[27]=n,f[28]=c,f[29]=d):d=f[29],f[30]!==g||f[31]!==x?(u=(0,m.jsx)(d2,{onError:x,copilotSpace:g}),f[30]=g,f[31]=x,f[32]=u):u=f[32],f[33]!==d||f[34]!==u?(h=(0,m.jsxs)("div",{className:"width-full d-flex flex-items-center flex-justify-between",children:[d,u]}),f[33]=d,f[34]=u,f[35]=h):h=f[35],h}let d0=[{text:"Admin",value:"custom_copilot_admin"},{text:"Editor",value:"custom_copilot_writer"},{text:"Viewer",value:"custom_copilot_reader"},{text:"No access",value:"none"}],d1={custom_copilot_admin:"Can view, make changes and add new people",custom_copilot_writer:"Can view and make changes",custom_copilot_reader:"Can view",none:"Hidden from your organization"};function d2({copilotSpace:e,onError:t}){let[a,n]=(0,_.useState)(!1),r=(0,_.useRef)(null),i=d0.find(t=>t.value===e.baseRole),{upsertCopilotSpace:s,isPending:o}=(0,d$.$)(e);async function l(e){if(!o)try{await s({baseRole:e})}catch{t({base:"An error occurred while updating your space's base role."})}finally{n(!1)}}return e.adminable?(0,m.jsxs)(tD.W,{onOpenChange:n,anchorRef:r,open:a,children:[(0,m.jsx)(tD.W.Button,{loading:o,variant:"invisible",className:"text-small",ref:r,onClick:()=>n(!0),children:(0,m.jsx)(dU.A,{title:i?.text||"",inline:!0,children:i?.text})}),(0,m.jsx)(tD.W.Overlay,{side:"outside-bottom",align:"end",width:"medium",children:(0,m.jsx)(tB.l,{selectionVariant:"single",children:d0.map(e=>(0,m.jsxs)(tB.l.Item,{selected:e.value===i?.value,onSelect:()=>l(e.value),children:[(0,m.jsx)("span",{className:"text-medium",children:(0,m.jsx)("b",{children:e.text})}),(0,m.jsx)("span",{className:"text-small color-fg-muted",children:(0,m.jsx)("p",{className:"m-0",children:d1[e.value]})})]},e.value))})})]}):(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:i?.text||"",className:"text-small text-light",children:i?.text})})}function d3(e){let t,a,n,r=(0,p.c)(7),{copySharedLink:i,copied:s,isSpaceLoading:o,copilotSpace:l}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={borderBottomLeftRadius:"var(--borderRadius-large, 0.75rem)",borderBottomRightRadius:"var(--borderRadius-large, 0.75rem)",borderTop:"1px solid var(--borderColor-muted)",padding:"var(--base-size-12)"},r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(a={minWidth:"90px"},r[1]=a):a=r[1],r[2]!==s||r[3]!==l||r[4]!==i||r[5]!==o?(n=(0,m.jsx)(aK.l.Footer,{style:t,className:"color-fg-muted flex-items-center flex-justify-end text-small",children:(0,m.jsx)("div",{style:a,className:"d-flex flex-items-center gap-2",children:s?(0,m.jsx)(e$.Q,{className:"color-fg-success",disabled:o||!l,children:"Link copied"}):(0,m.jsx)(e$.Q,{onClick:i,leadingVisual:B.LinkIcon,disabled:o||!l,children:"Copy link"})})}),r[2]=s,r[3]=l,r[4]=i,r[5]=o,r[6]=n):n=r[6],n}try{dX.displayName||(dX.displayName="SpaceSharingDialog")}catch{}try{dZ.displayName||(dZ.displayName="VisibilitySettings")}catch{}try{d2.displayName||(d2.displayName="BaseRoleSelect")}catch{}try{d3.displayName||(d3.displayName="CopilotSpaceSharingDialogFooter")}catch{}let d4={spaceVisibilityDialog:"SpaceVisibilityDialog-module__spaceVisibilityDialog--tz_qs",copyLinkSection:"SpaceVisibilityDialog-module__copyLinkSection--f0xw8",copyLinkButtonContainer:"SpaceVisibilityDialog-module__copyLinkButtonContainer--jlB56",copyLinkButton:"SpaceVisibilityDialog-module__copyLinkButton--StwOK",copiedLinkButton:"SpaceVisibilityDialog-module__copiedLinkButton--nn5vt",dialogFooterText:"SpaceVisibilityDialog-module__dialogFooterText--Nnpv_",errorBanner:"SpaceVisibilityDialog-module__errorBanner--QhyJE"};function d5(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C=(0,p.c)(43),{closeDialog:N,customCopilotId:S}=e;C[0]===Symbol.for("react.memo_cache_sentinel")?(t={},C[0]=t):t=C[0];let[w,I]=(0,_.useState)(t),[T,k]=(0,_.useState)(!1),E=(0,_.useRef)(null);C[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>()=>{E.current&&(clearTimeout(E.current),E.current=null)},n=[],C[1]=a,C[2]=n):(a=C[1],n=C[2]),(0,_.useEffect)(a,n),r=`${eg.fV.origin}${(0,av.Cb)(e.customCopilotId)}`,C[3]!==r?(i=()=>{(0,o7.D)(r),k(!0),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{k(!1),E.current=null},2e3)},C[3]=r,C[4]=i):i=C[4];let A=i,{data:L,isLoading:R}=(0,ab.jS)(!0);C[5]!==S||C[6]!==L?(s=L?.find(e=>(0,av.UG)(e,S)),C[5]=S,C[6]=L,C[7]=s):s=C[7];let D=s;C[8]!==w.base||C[9]!==w.visibility?(o=w.base||w.visibility?(0,m.jsx)(K.l,{hideTitle:!0,title:"Unable to update space visibility",description:w.visibility||w.base,"aria-label":"Critical",variant:"critical",className:d4.errorBanner}):null,C[8]=w.base,C[9]=w.visibility,C[10]=o):o=C[10],C[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)("span",{className:"text-small text-bold color-fg-muted mb-1",children:"Link"}),C[11]=l):l=C[11],C[12]!==r?(c=(0,m.jsx)(sK.A,{block:!0,value:r,readOnly:!0,className:"color-fg-muted"}),C[12]=r,C[13]=c):c=C[13],C[14]===Symbol.for("react.memo_cache_sentinel")?(d={position:"relative"},C[14]=d):d=C[14];let P=T?"hidden":"visible";C[15]!==P?(u={visibility:P},C[15]=P,C[16]=u):u=C[16];let M=T?-1:1,O=T?"true":"false",F=R||!D||D?.visibility==="private";return C[17]!==A||C[18]!==u||C[19]!==M||C[20]!==O||C[21]!==F?(h=(0,m.jsx)(e$.Q,{className:d4.copyLinkButton,leadingVisual:B.LinkIcon,variant:"default",onClick:A,style:u,tabIndex:M,"aria-hidden":O,disabled:F,children:"Copy link"}),C[17]=A,C[18]=u,C[19]=M,C[20]=O,C[21]=F,C[22]=h):h=C[22],C[23]!==T?(f=T&&(0,m.jsx)(e$.Q,{variant:"default",className:d4.copiedLinkButton,tabIndex:-1,"aria-hidden":"false",children:"Link copied"}),C[23]=T,C[24]=f):f=C[24],C[25]!==h||C[26]!==f?(g=(0,m.jsxs)("div",{style:d,className:d4.copyLinkButtonContainer,children:[h,f]}),C[25]=h,C[26]=f,C[27]=g):g=C[27],C[28]!==g||C[29]!==c?(y=(0,m.jsxs)(J.B,{direction:"vertical",gap:"condensed",align:"start",children:[l,(0,m.jsxs)("div",{className:d4.copyLinkSection,children:[c,g]})]}),C[28]=g,C[29]=c,C[30]=y):y=C[30],C[31]===Symbol.for("react.memo_cache_sentinel")?(x=(0,m.jsx)("span",{className:"text-small text-bold color-fg-muted mt-2",children:"Base role"}),C[31]=x):x=C[31],C[32]!==D||C[33]!==R||C[34]!==e?(v=(0,m.jsxs)(J.B,{direction:"vertical",gap:"condensed",align:"start",children:[x,(0,m.jsx)(d7,{onError:I,copilotSpace:D,isSpaceLoading:R,...e})]}),C[32]=D,C[33]=R,C[34]=e,C[35]=v):v=C[35],C[36]!==y||C[37]!==v?(b=(0,m.jsxs)(J.B,{"data-testid":"custom-copilot-visibility",gap:"condensed",children:[y,v]}),C[36]=y,C[37]=v,C[38]=b):b=C[38],C[39]!==N||C[40]!==b||C[41]!==o?(j=(0,m.jsxs)(aK.l,{title:"Share this space",renderFooter:d6,onClose:N,className:d4.spaceVisibilityDialog,width:"large",children:[o,b]}),C[39]=N,C[40]=b,C[41]=o,C[42]=j):j=C[42],j}function d6(){return(0,m.jsx)(ue,{})}function d7(e){let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(36),{copilotSpace:g,isSpaceLoading:y,onError:x}=e,{data:v,isLoading:b,error:j}=(0,ab.Tx)(g?.owner||"",g?.id??-1);if(f[0]!==g||f[1]!==y||f[2]!==b||f[3]!==x||f[4]!==v?(t=()=>{y||b||g&&v||x({visibility:"Could not load your space's visibility settings"})},a=[y,b,g,v,x],f[0]=g,f[1]=y,f[2]=b,f[3]=x,f[4]=v,f[5]=t,f[6]=a):(t=f[5],a=f[6]),(0,_.useEffect)(t,a),y){let e;return f[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:"color-fg-muted p-2",children:"Loading space information..."}),f[7]=e):e=f[7],e}if(!g){let e;return f[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("div",{className:"color-fg-muted p-2",children:"Could not load data for your space."}),f[8]=e):e=f[8],e}let C=g.owner,N=v?.memberCount;return f[9]!==g.ownerAvatar?(n=(0,m.jsx)(rj.r,{src:g.ownerAvatar,className:"mr-2",square:!0,size:32}),f[9]=g.ownerAvatar,f[10]=n):n=f[10],f[11]!==g.ownerDisplayName?(r=(0,m.jsx)("b",{children:g.ownerDisplayName}),f[11]=g.ownerDisplayName,f[12]=r):r=f[12],f[13]!==g.ownerDisplayName||f[14]!==r?(i=(0,m.jsx)(dU.A,{maxWidth:"230px",title:g.ownerDisplayName,inline:!0,children:r}),f[13]=g.ownerDisplayName,f[14]=r,f[15]=i):i=f[15],f[16]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)("span",{className:"color-fg-muted ml-1",children:"(owner)"}),f[16]=s):s=f[16],f[17]!==i?(o=(0,m.jsxs)("span",{className:"ml-1",children:[i,s]}),f[17]=i,f[18]=o):o=f[18],f[19]!==j||f[20]!==b||f[21]!==N||f[22]!==C?(l=C&&(0,m.jsxs)(m.Fragment,{children:[!b&&null!==N&&(0,m.jsxs)("span",{className:"text-small color-fg-muted ml-1",children:[N," ",1===N?"person":"people"]}),(b||j||null===N)&&(0,m.jsx)("span",{className:"text-small color-fg-muted ml-1",children:"Organization"})]}),f[19]=j,f[20]=b,f[21]=N,f[22]=C,f[23]=l):l=f[23],f[24]!==o||f[25]!==l?(c=(0,m.jsxs)("div",{className:"d-flex flex-column",children:[o,l]}),f[24]=o,f[25]=l,f[26]=c):c=f[26],f[27]!==n||f[28]!==c?(d=(0,m.jsxs)("div",{className:"d-flex flex-items-center mt-1",children:[n,c]}),f[27]=n,f[28]=c,f[29]=d):d=f[29],f[30]!==g||f[31]!==x?(u=(0,m.jsx)(d9,{onError:x,copilotSpace:g}),f[30]=g,f[31]=x,f[32]=u):u=f[32],f[33]!==d||f[34]!==u?(h=(0,m.jsxs)("div",{className:"width-full d-flex flex-items-center flex-justify-between",children:[d,u]}),f[33]=d,f[34]=u,f[35]=h):h=f[35],h}let d8=[{text:"No access",value:"private"},{text:"Read",value:"org_public"}];function d9({copilotSpace:e,onError:t}){let[a,n]=(0,_.useState)(!1),r=(0,_.useRef)(null),i=d8.find(t=>t.value===e.visibility),{upsertCopilotSpace:s,isPending:o}=(0,d$.$)(e);async function l(e){if(!o)try{await s({visibility:e})}catch{t({base:"An error occurred while updating your space's visibility."})}finally{n(!1)}}return e.adminable?(0,m.jsxs)(tD.W,{onOpenChange:n,anchorRef:r,open:a,children:[(0,m.jsx)(tD.W.Button,{loading:o,variant:"invisible",className:"text-small",ref:r,onClick:()=>n(!0),children:(0,m.jsx)(dU.A,{title:i?.text||"",inline:!0,className:"mr-1",children:i?.text})}),(0,m.jsx)(tD.W.Overlay,{side:"outside-bottom",align:"end",children:(0,m.jsx)(tB.l,{selectionVariant:"single",children:d8.map(e=>(0,m.jsx)(tB.l.Item,{selected:e.value===i?.value,onSelect:()=>l(e.value),children:(0,m.jsx)("span",{className:"text-small",children:e.text})},e.value))})})]}):(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:i?.text||"",className:"text-small text-light",children:i?.text})})}function ue(){let e,t,a=(0,p.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e={backgroundColor:"var(--bgColor-muted)",borderBottomLeftRadius:"var(--borderRadius-large, 0.75rem)",borderBottomRightRadius:"var(--borderRadius-large, 0.75rem)"},a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(aK.l.Footer,{style:e,className:"color-fg-muted flex-justify-center text-small p-2",children:(0,m.jsx)("span",{className:d4.dialogFooterText,children:"This space may include private content. Viewers need content access."})}),a[1]=t):t=a[1],t}try{d5.displayName||(d5.displayName="SpaceVisibilityDialog")}catch{}try{d7.displayName||(d7.displayName="VisibilitySettings")}catch{}try{d9.displayName||(d9.displayName="VisibilitySelect")}catch{}try{ue.displayName||(ue.displayName="CopilotSpaceVisibilityDialogFooter")}catch{}function ut(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y=(0,p.c)(32),{onDelete:x,copilot:v}=e,[b,j]=(0,_.useState)(null),[C,N]=(0,_.useState)(!1),S=(0,_.useRef)(null),w=(0,ef.Zp)(),I=eT.W.spacesPermissionsTabEnabled,T=I?v?.ownerIsOrg&&v?.adminable:v?.ownerIsOrg;y[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{(0,n_.flushSync)(()=>j(null)),S.current?.focus()},y[0]=t):t=y[0];let k=t;y[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_SHARE_DIALOG_CLOSE",mode:"immersive"}),k()},y[1]=a):a=y[1];let E=a;y[2]===Symbol.for("react.memo_cache_sentinel")?(n=async e=>{k(),N(!0),await e(),N(!1)},y[2]=n):n=y[2];let A=n;y[3]!==x?(r=async()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_LIST_ACTION_DELETE",mode:"immersive"}),await A(x)},y[3]=x,y[4]=r):r=y[4];let L=r;y[5]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU_SHARE",mode:"immersive"}),j("share")},y[5]=i):i=y[5];let R=i;return y[6]!==C?(s=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{loading:C,icon:B.KebabHorizontalIcon,"aria-label":"Manage space",variant:"invisible",onClick:ua})}),y[6]=C,y[7]=s):s=y[7],y[8]!==v||y[9]!==w?(o=v.editable&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU_EDIT",mode:"immersive"}),w((0,av.GL)(v))},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.PencilIcon,{})}),"Edit"]}),y[8]=v,y[9]=w,y[10]=o):o=y[10],y[11]!==T?(l=T&&(0,m.jsxs)(tB.l.Item,{onSelect:R,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.ShareIcon,{})}),"Share"]}),y[11]=T,y[12]=l):l=y[12],y[13]!==v.adminable?(c=v.adminable&&(0,m.jsxs)(tB.l.Item,{variant:"danger",onSelect:()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU_DELETE",mode:"immersive"}),j("delete")},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.TrashIcon,{})}),"Delete"]}),y[13]=v.adminable,y[14]=c):c=y[14],y[15]!==o||y[16]!==l||y[17]!==c?(d=(0,m.jsx)(tD.W.Overlay,{side:"outside-bottom",align:"end",children:(0,m.jsxs)(tB.l,{children:[o,l,c]})}),y[15]=o,y[16]=l,y[17]=c,y[18]=d):d=y[18],y[19]!==d||y[20]!==s?(u=(0,m.jsxs)(tD.W,{anchorRef:S,children:[s,d]}),y[19]=d,y[20]=s,y[21]=u):u=y[21],y[22]!==L||y[23]!==b?(h="delete"===b?(0,m.jsx)(un,{onCancel:k,onConfirm:L}):null,y[22]=L,y[23]=b,y[24]=h):h=y[24],y[25]!==v||y[26]!==b?(f="share"===b?I?(0,m.jsx)(dX,{closeDialog:E,customCopilotId:v}):(0,m.jsx)(d5,{closeDialog:E,customCopilotId:v}):null,y[25]=v,y[26]=b,y[27]=f):f=y[27],y[28]!==u||y[29]!==h||y[30]!==f?(g=(0,m.jsxs)(m.Fragment,{children:[u,h,f]}),y[28]=u,y[29]=h,y[30]=f,y[31]=g):g=y[31],g}function ua(){return(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU",mode:"immersive"})}let un=({onConfirm:e,onCancel:t})=>{let[a,n]=(0,_.useState)(!1),r=async()=>{n(!0),(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_DIALOG_DELETE_CONFIRM",mode:"immersive"});try{await e()}finally{n(!1)}};return(0,m.jsx)(dF.K,{title:"Delete space",onClose:async e=>{a||("confirm"===e?await r():((0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_DIALOG_DELETE_CANCEL",mode:"immersive"}),t()))},confirmButtonContent:a?(0,m.jsx)(aQ.A,{size:"small"}):"Delete",confirmButtonType:"danger",children:"Are you sure you want to delete this space? This action cannot be undone."})};try{ut.displayName||(ut.displayName="CopilotSpacesMenu")}catch{}try{un.displayName||(un.displayName="DeleteDialog")}catch{}let ur={starButton:"SpacesHeader-module__starButton--MYloD"};var ui=a(85300),us=a(19647);function uo({copilotSpace:e,onClose:t,onSaved:a,returnFocusRef:n,maxDescriptionLength:r}){let{upsertCopilotSpace:i,isPending:s}=(0,d$.$)(e),[o,l]=(0,_.useState)(e.description??""),[c,d]=(0,_.useState)(null);async function u(){try{let e=await i({description:o});a?.(e),t()}catch(e){e instanceof Error?d(e.message):d("Failed to save description")}}function p(){l(e.description??""),t()}return(0,m.jsx)(aK.l,{title:"Description",onClose:p,returnFocusRef:n,position:{narrow:"fullscreen"},renderBody:()=>(0,m.jsxs)("div",{className:"p-3",children:[c&&(0,m.jsx)(K.l,{variant:"critical",title:c,className:"mb-2"}),(0,m.jsxs)(iH.A,{children:[(0,m.jsx)(iH.A.Label,{visuallyHidden:!0,children:"Description"}),(0,m.jsx)(us.Ay,{block:!0,value:o,onChange:e=>l(e.target.value),placeholder:"Describe what this space is for",resize:"vertical",rows:5}),(0,m.jsx)(ul,{text:o,promptCharLimit:r})]})]}),renderFooter:()=>(0,m.jsx)(ui.m,{onCancel:p,onSave:u,isLoading:s,loadingAnnouncement:"Saving description"})})}function ul(e){let t,a,n,r,i=(0,p.c)(10),{text:s,promptCharLimit:o}=e,l=s.length>o;i[0]!==s.length?(t=s.length.toLocaleString(),i[0]=s.length,i[1]=t):t=i[1],i[2]!==o?(a=o.toLocaleString(),i[2]=o,i[3]=a):a=i[3],i[4]!==t||i[5]!==a?(n=(0,m.jsxs)(m.Fragment,{children:[t," / ",a," characters"]}),i[4]=t,i[5]=a,i[6]=n):n=i[6];let c=n;return i[7]!==c||i[8]!==l?(r=l?(0,m.jsx)(iH.A.Validation,{variant:"error",children:c}):(0,m.jsx)(iH.A.Caption,{children:c}),i[7]=c,i[8]=l,i[9]=r):r=i[9],r}try{uo.displayName||(uo.displayName="DescriptionDialog")}catch{}try{ul.displayName||(ul.displayName="CharacterCount")}catch{}function uc(){let e,t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C,N,S,w,I,T=(0,p.c)(70),k=(0,W.Pk)(),E=(0,q.b)(),A=(0,ef.zy)(),L=(0,oc.G)(),{updateGlobalNavigationBreadcrumbs:R}=lo(),D=(0,c2.Z)(),[P,M]=(0,_.useState)(!1),[O,F]=(0,_.useState)(!1),[$,V]=(0,_.useState)(!1),[z,H]=(0,_.useState)(null),G=(0,_.useRef)(null),K=eT.W.improvedNavigation?A.pathname:eg.fV.pathname,Q=L&&K!==eI.VR,Y=eT.W.spacesV3UI,J=eT.W.spacesPermissionsTabEnabled,{mutateAsync:X}=(0,ab.$7)(),{copilotSpacesConfig:Z}=(0,U.X)(),{maxDescriptionLength:ee}=Z;e:{let t;if(!L){e=null;break e}T[0]!==L||T[1]!==k.customCopilots?(t=(0,av.JB)(k.customCopilots,L),T[0]=L,T[1]=k.customCopilots,T[2]=t):t=T[2],e=t}let et=e,ea=J?et?.ownerIsOrg&&et?.adminable:et?.ownerIsOrg,{starCopilotSpace:en,isLoading:er}=du(L);T[3]!==R?(t=()=>{R()},a=[R],T[3]=R,T[4]=t,T[5]=a):(t=T[4],a=T[5]),(0,_.useEffect)(t,a),T[6]!==D?(n=()=>{D(eI.QT)},T[6]=D,T[7]=n):n=T[7];let ei=n;T[8]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_SHARE_DIALOG_CLOSE",mode:"immersive"}),F(!1)},T[8]=r):r=T[8];let es=r;T[9]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_DELETE_DIALOG_CLOSE",mode:"immersive"}),M(!1)},T[9]=i):i=T[9];let eo=i;T[10]!==et||T[11]!==D?(s=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU_EDIT",mode:"immersive"}),D((0,av.GL)(et))},T[10]=et,T[11]=D,T[12]=s):s=T[12];let el=s;T[13]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU_SHARE",mode:"immersive"}),F(!0)},T[13]=o):o=T[13];let ec=o;T[14]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CONTEXT_MENU_DELETE",mode:"immersive"}),M(!0)},T[14]=l):l=T[14];let ed=l;T[15]!==X||T[16]!==D||T[17]!==L?(c=async()=>{if(L)try{await X(L),M(!1),D(eI.VR)}catch(e){H(e instanceof Error?e:Error(String(e))),eo()}},T[15]=X,T[16]=D,T[17]=L,T[18]=c):c=T[18];let eu=c;T[19]!==et||T[20]!==en?(d=()=>{et&&en&&((0,ta.BI)("dotcom_chat.activate",{target:et.starred?"SPACE_UNSTAR":"SPACE_STAR",mode:"immersive"}),en({starred:!et.starred}))},T[19]=et,T[20]=en,T[21]=d):d=T[21];let em=d,ep=et?.editable,eh=et?.adminable;T[22]!==eh?(u=eh&&(0,m.jsxs)(tB.l.Item,{variant:"danger",onSelect:ed,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.TrashIcon,{})}),"Delete"]}),T[22]=eh,T[23]=u):u=T[23];let ey=u;T[24]!==ey||T[25]!==Q||T[26]!==k?(h=Q&&!k.selectedThreadID&&ey?eT.W.immersiveAppShell?(0,m.jsx)(m.Fragment,{children:ey}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(tB.l.Group,{children:[(0,m.jsx)(tB.l.GroupHeading,{children:"Space"}),ey]}),(0,m.jsx)(tB.l.Divider,{})]}):null,T[24]=ey,T[25]=Q,T[26]=k,T[27]=h):h=T[27];let ex=h;T[28]!==ei?(f=Y?null:(0,m.jsx)(e$.Q,{variant:"primary",onClick:ei,children:"New space"}),T[28]=ei,T[29]=f):f=T[29];let e_=f;T[30]!==ep||T[31]!==el?(g=ep&&!Y&&(0,m.jsx)(e$.Q,{leadingVisual:B.PencilIcon,onClick:el,children:"Edit"}),T[30]=ep,T[31]=el,T[32]=g):g=T[32];let ev=g;T[33]!==ea?(y=ea&&(0,m.jsx)(e$.Q,{onClick:ec,leadingVisual:B.ShareIcon,children:"Share"}),T[33]=ea,T[34]=y):y=T[34];let eb=y;T[35]!==et||T[36]!==em||T[37]!==er||T[38]!==L?(x=et&&L&&Y&&(0,m.jsx)(tP.K,{ref:G,onClick:em,disabled:er,icon:et.starred?B.StarFillIcon:B.StarIcon,className:et.starred?ur.starButton:void 0,"aria-label":et.starred?"Unstar space":"Star space"}),T[35]=et,T[36]=em,T[37]=er,T[38]=L,T[39]=x):x=T[39];let ej=x,eC=!L&&e_;T[40]!==ev||T[41]!==ej||T[42]!==eb||T[43]!==eC?(v=(0,m.jsxs)(m.Fragment,{children:[eC,ev,eb,ej]}),T[40]=ev,T[41]=ej,T[42]=eb,T[43]=eC,T[44]=v):v=T[44];let eN=v;T[45]!==E?(b=e=>{E.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:e})},T[45]=E,T[46]=b):b=T[46];let eS=b;return T[47]!==eN||T[48]!==ex?(j=eT.W.immersiveAppShell?(0,m.jsx)(dB,{showPreviewPaneButton:!1,conversationSpecificItems:ex,customButtons:eN}):(0,m.jsx)(ld,{showPreviewPaneButton:!1,conversationSpecificItems:ex,customButtons:eN}),T[47]=eN,T[48]=ex,T[49]=j):j=T[49],T[50]!==z?(C=z&&(0,m.jsxs)(dL.A,{variant:"danger",children:[(0,m.jsx)(B.AlertIcon,{}),"There was a problem deleting your space."]}),T[50]=z,T[51]=C):C=T[51],T[52]!==eu||T[53]!==L||T[54]!==P?(N=P&&L?(0,m.jsx)(un,{onCancel:eo,onConfirm:eu}):null,T[52]=eu,T[53]=L,T[54]=P,T[55]=N):N=T[55],T[56]!==L||T[57]!==O?(S=O&&L?J?(0,m.jsx)(dX,{closeDialog:es,customCopilotId:L}):(0,m.jsx)(d5,{closeDialog:es,customCopilotId:L}):null,T[56]=L,T[57]=O,T[58]=S):S=T[58],T[59]!==et||T[60]!==eS||T[61]!==ee||T[62]!==$?(w=$&&et?(0,m.jsx)(uo,{copilotSpace:et,onClose:()=>V(!1),returnFocusRef:G,maxDescriptionLength:ee,onSaved:eS}):null,T[59]=et,T[60]=eS,T[61]=ee,T[62]=$,T[63]=w):w=T[63],T[64]!==j||T[65]!==C||T[66]!==N||T[67]!==S||T[68]!==w?(I=(0,m.jsxs)(m.Fragment,{children:[j,C,N,S,w]}),T[64]=j,T[65]=C,T[66]=N,T[67]=S,T[68]=w,T[69]=I):I=T[69],I}try{uc.displayName||(uc.displayName="SpacesHeader")}catch{}function ud(e){let t,a,n,r=(0,p.c)(7),{customCopilotId:i,selectedThreadID:s,textAreaRef:o}=e,l=(0,W.Pk)(),{messages:c}=l,d=of((0,_.useRef)(l.currentTopic),c.length);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(uc,{}),r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(aD,{regionName:"This space"}),r[1]=a):a=r[1],r[2]!==i||r[3]!==d||r[4]!==s||r[5]!==o?(n=(0,m.jsxs)(m.Fragment,{children:[t,(0,m.jsx)(aw.t,{fallback:a,children:(0,m.jsx)(dv,{customCopilotId:i,onChatSubmit:d,selectedThreadID:s,textAreaRef:o})})]}),r[2]=i,r[3]=d,r[4]=s,r[5]=o,r[6]=n):n=r[6],n}try{ud.displayName||(ud.displayName="SpacesConversation")}catch{}var uu=a(58615),um=a(90643),up=a(8601),uh=a(57596),uf=a(22469),ug=a(7324),uy=a(81075),ux=a(75735),u_=a(86571);let UploadableFileExtensions=class UploadableFileExtensions{static get text(){if(null!=(0,uy._)(this,UploadableFileExtensions,uv))return(0,uy._)(this,UploadableFileExtensions,uv);let e=[...u_.E.getTextFileExtensions().split(","),".babelrc",".conf",".eslintrc",".lock",".log",".npmrc",".prettierrc",".sum",".yarnrc"];return(0,ux._)(this,UploadableFileExtensions,uv,new Set(e.map(e=>e.toLowerCase()))),(0,uy._)(this,UploadableFileExtensions,uv)}static images(e){return new Set(uf.s.getFileExtensions(e).map(e=>e.toLowerCase()))}};var uv={writable:!0,value:void 0},ub=a(78191);let uj=()=>{let e,t,a,n,r=(0,p.c)(7);r[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:uN},r[0]=e):e=r[0];let i=(0,nn.n)(e);return r[1]!==i?({mutateAsync:t,...a}=i,r[1]=i,r[2]=t,r[3]=a):(t=r[2],a=r[3]),r[4]!==t||r[5]!==a?(n={getCopilotSpaceResourceSizes:t,...a},r[4]=t,r[5]=a,r[6]=n):n=r[6],n};function uC(e){return{id:e.id,copilot_chat_attachment_id:e.copilotChatAttachmentId,resource_type:e.type,metadata:(0,ub.M)(e)}}async function uN(e){let t={resources:e.resources?.map(uC)},a=await (0,tl.lS)("/copilot/spaces/resource_sizes",{method:"POST",body:t}),n=await a.json();if(!a.ok)throw n.errorMessages;return n}function uS({onResourcesAdded:e,onError:t,onUploadingChange:a}){let{availableModels:n}=(0,W.Pk)(),{hydrateResourcesWithSizePercentages:r}=function(){let e,t,a=(0,p.c)(4),{getCopilotSpaceResourceSizes:n}=uj();a[0]!==n?(e=async e=>{if(0===e.length)return;let t=await n({resources:e});for(let a of e)a.sizePercentage=t[a.id]??0},a[0]=n,a[1]=e):e=a[1];let r=e;return a[2]!==r?(t={hydrateResourcesWithSizePercentages:r},a[2]=r,a[3]=t):t=a[3],t}();return{processFiles:(0,_.useCallback)(async(i,{source:s})=>{if(i&&0!==i.length){(function(e,{source:t}){for(let a of((0,ta.BI)("copilot-spaces.selected_local_files",{fileCount:e.length,source:t}),Array.from(e))){let e=uw(a.name);(0,ta.BI)("copilot-spaces.selected_local_file",{fileExtension:e,contentType:a.type,fileSize:a.size,source:t})}})(i,{source:s}),a?.(!0),t?.([]);try{let{imageFiles:a,nonImageFiles:o}=function(e,t){let a=UploadableFileExtensions.images(t);return Array.from(e).reduce((e,t)=>(!function(e,t){if(e.type.startsWith("image/"))return!0;let a=uw(e.name);return t.has(a)}(t,a)?e.nonImageFiles.push(t):e.imageFiles.push(t),e),{imageFiles:[],nonImageFiles:[]})}(i,n),[l,c]=await Promise.all([uE(o),uT(a,n)]),d=[...l.resources,...c.resources];await r(d),d.length>0&&(e(d),(0,av.Pg)(d,s));let u=[...l.errorMessages,...c.errorMessages];u.length>0&&t?.(u)}catch{t?.(["Something went wrong while trying to add the files. Please try again."])}finally{a?.(!1)}}},[n,e,t,r,a])}}function uw(e){let t=e.split(".");return t.length>1?`.${t.pop()?.toLowerCase()??""}`:""}function uI(e){let t=[],a=[];for(let n of e)"fulfilled"===n.status?"resource"in n.value?t.push(n.value.resource):a.push(n.value.error):a.push("An unexpected error occurred while processing a file.");return{errorMessages:a,resources:t}}async function uT(e,t){if(0===e.length)return{errorMessages:[],resources:[]};if(!eT.W.spacesImagesEnabled)return{errorMessages:["Images are not yet supported"],resources:[]};let a=e.map(e=>uk(e,uf.s.getMimeTypes(t)));return uI(await Promise.allSettled(a))}async function uk(e,t){try{if(e.size>uf.s.getAttachmentSizeLimit())return{error:uD(e.name)};if(!t.includes(e.type))return{error:uR(e.name)};let{id:a,attachment:n}=uf.s.makeImageReference(e,""),r=await n.prefetch();return{resource:{id:a,type:"media_content",mediaType:e.type,name:e.name||"Image",url:r.href||"",copilotChatAttachmentId:r.id||0,height:n.height||0,width:n.width||0,markedForDestroy:!1}}}catch(t){var a,n;return a=t,n=e,a instanceof Error&&"FileSizeError"===a.name?{error:uD(n.name)}:{error:uL(n.name)}}}async function uE(e){if(0===e.length)return{errorMessages:[],resources:[]};if(!eT.W.customCopilotsFileUploads)return{errorMessages:["Text file uploads are not yet supported."],resources:[]};let t=e.map(e=>uA(e));return uI(await Promise.allSettled(t))}async function uA(e){try{var t;if(!e.type.startsWith("text/")){let t=uw(e.name);if(!UploadableFileExtensions.text.has(t))return{error:uR(e.name)}}e=(t=e).type.startsWith("text/")?t:new File([t],t.name,{type:"text/plain"});let a=crypto.randomUUID(),n=await new ug.N(a,e).prefetch();return{resource:{id:a,type:"uploaded_text_file",name:e.name,copilotChatAttachmentId:n.id,url:n.href,markedForDestroy:!1}}}catch(r){var a=r,n=e;if(!(a instanceof uh.ZK))return{error:uL(n.name)};let t=a.errors?.[0];return"string"==typeof t?{error:t}:{error:t?.message||uL(n.name)}}}function uL(e){return`An error occurred uploading "${e}".`}function uR(e){return`File "${e}" is not a supported file type.`}function uD(e){let t=function(e){if(e<0)throw Error("File size cannot be negative");if(!Number.isInteger(e))throw Error("File size must be a whole number of bytes");let t=["B","KB","MB","GB","TB","PB"],a=e,n=0;for(;a>=1024&&n<t.length-1;)a/=1024,n++;let r=Math.round(100*a)/100;return`${r}${t[n]}`}(uf.s.getAttachmentSizeLimit());return`File "${e}" is too large. The maximum size for this file type is ${t}.`}let uP=(0,_.forwardRef)((e,t)=>{let a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(18),{onResourcesAdded:f,onError:g,onUploadingChange:y}=e;h[0]!==g||h[1]!==f||h[2]!==y?(a={onResourcesAdded:f,onError:g,onUploadingChange:y},h[0]=g,h[1]=f,h[2]=y,h[3]=a):a=h[3];let{processFiles:x}=uS(a),{availableModels:v}=(0,W.Pk)();h[4]===Symbol.for("react.memo_cache_sentinel")?(r=Array.from(UploadableFileExtensions.text),h[4]=r):r=h[4];let b=r;h[5]!==v?(i=Array.from(UploadableFileExtensions.images(v)),h[5]=v,h[6]=i):i=h[6];let j=i;h[7]!==j?(s=[...b,...j],h[7]=j,h[8]=s):s=h[8];let C=s;h[9]!==C?(o=["text/*",...C],h[9]=C,h[10]=o):o=h[10],n=o.join(","),h[11]!==x?(l=e=>{e.target.files&&(x(e.target.files,{source:"file-upload"}),e.target.value="")},h[11]=x,h[12]=l):l=h[12];let N=l,S=(0,_.useRef)(null);return h[13]===Symbol.for("react.memo_cache_sentinel")?(c=()=>({addResources:()=>S.current?.click()}),h[13]=c):c=h[13],(0,_.useImperativeHandle)(t,c),h[14]===Symbol.for("react.memo_cache_sentinel")?(d={display:"none"},h[14]=d):d=h[14],h[15]!==n||h[16]!==N?(u=(0,m.jsx)("input",{"data-testid":"file-upload-input",ref:S,type:"file",accept:n,multiple:!0,style:d,onChange:N}),h[15]=n,h[16]=N,h[17]=u):u=h[17],u});uP.displayName="FileUploadInput";var uB=a(44263);let UrlDetails=class UrlDetails{constructor(e,t="",a="",n="",r=0,i="",s="",o="unknown"){(0,f._)(this,"url",void 0),(0,f._)(this,"owner",void 0),(0,f._)(this,"repo",void 0),(0,f._)(this,"number",void 0),(0,f._)(this,"type",void 0),(0,f._)(this,"id",void 0),(0,f._)(this,"file_path",void 0),(0,f._)(this,"errorMessage",void 0),(0,f._)(this,"sha",void 0),this.id=e,this.url=t,this.owner=a,this.repo=n,this.number=r,this.type=o,this.file_path=s,this.sha=i}};function uM(e){return{id:e.id,resource_type:e.type,metadata:function(e){switch(e.type){case"github_issue":case"github_pull_request":return{owner:e.owner,repo:e.repo,number:e.number};case"github_file":return{owner:e.owner,repo:e.repo,file_path:e.file_path,sha:e.sha};default:throw Error("Unsupported resource")}}(e)}}async function uO(e){let{input:t,spaceOwner:a}=e,n={resources_attributes:t.map(uM),space_owner:a},r=await (0,tl.lS)("/copilot/spaces/validate_url_resources",{method:"POST",body:n}),i=await r.json();if(!r.ok)throw i;return i}function uF(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b=(0,p.c)(62),{onClose:j,onSave:C,resourcesToSave:N,owner:S,resourceCounts:w}=e,[I,T]=(0,_.useState)(!1),[k,E]=(0,_.useState)(u$),[A,L]=(0,_.useState)(!1),[R,D]=(0,_.useState)(!1),P=eT.W.copilotSpacesFileUrls,{validateUrlResources:M}=(()=>{let e,t,a,n,r=(0,p.c)(7);r[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:uO},r[0]=e):e=r[0];let i=(0,nn.n)(e);return r[1]!==i?({mutateAsync:a,...t}=i,r[1]=i,r[2]=t,r[3]=a):(t=r[2],a=r[3]),r[4]!==t||r[5]!==a?(n={validateUrlResources:a,...t},r[4]=t,r[5]=a,r[6]=n):n=r[6],n})();if(b[0]!==I||b[1]!==j||b[2]!==C||b[3]!==S||b[4]!==N||b[5]!==k||b[6]!==M){let e;t=e=>{e?.preventDefault(),e?.stopPropagation(),I||(T(!0),n().finally(()=>{T(!1)}))},b[8]===Symbol.for("react.memo_cache_sentinel")?(e=function(e){if("github_file"===e.type){let t="nwo"in e?e.nwo:`${e.owner}/${e.repo}`,a=e.sha,n="filePath"in e?e.filePath:e.file_path;return`${t}/github_file/${a}/${n}`}if("github_issue"===e.type||"github_pull_request"===e.type){let t="nwo"in e?e.nwo:`${e.owner}/${e.repo}`,a=e.number,n=e.type;return`${t}/${a}/${n}`}return""},b[8]=e):e=b[8];let a=e,n=async()=>{L(!1),D(!1);let e=(()=>{let e=new Set(N?.map(e=>a(e))??[]),t=new Set;return k.filter(n=>{let r=a(n);return!(t.has(r)||e.has(r))&&""!==n.url.trim()&&(t.add(r),!0)})})(),t=e.filter(e=>"unknown"===e.type||S&&e.owner!==S);if(t.length>0){E(k.map(e=>S&&e.owner&&e.owner!==S?{...e,errorMessage:`This doesn't belong to the ${S} organization.`}:t.some(t=>t.id===e.id)?{...e,errorMessage:"Invalid URL"}:e)),L(!0);return}if(0===e.length)return void j();try{let t=await M({input:e,spaceOwner:S});C(t),(0,av.Pg)(t,"url-dialog"),j()}catch(e){if(Array.isArray(e)){for(let t of e){let e=k.find(e=>e.id===t.id);e&&(e.errorMessage="Resource not found")}L(!0)}}};b[0]=I,b[1]=j,b[2]=C,b[3]=S,b[4]=N,b[5]=k,b[6]=M,b[7]=t}else t=b[7];let O=!!w&&w.currentResourceCount+k.length+1>w.maxResourceCount;b[9]!==k||b[10]!==O?(a=()=>{if(O)return void D(!0);E([...k,new UrlDetails(crypto.randomUUID())])},b[9]=k,b[10]=O,b[11]=a):a=b[11];let F=a,$=R&&w?`You can select a maximum of ${w.maxResourceCount} sources.`:null;b[12]!==R||b[13]!==w?(n=e=>{R&&w&&(w.currentResourceCount+e.length>w.maxResourceCount||D(!1))},b[12]=R,b[13]=w,b[14]=n):n=b[14];let U=n;b[15]!==U||b[16]!==k?(r=e=>{let t=[...k];t.splice(e,1),E(t),U(t)},b[15]=U,b[16]=k,b[17]=r):r=b[17];let V=r;if(b[18]!==U||b[19]!==k){i=(t,a)=>{let n=[...k],r=e(a,n[t]||new UrlDetails(crypto.randomUUID()));n[t]=r,E(n),U(n)};let e=(e,t)=>{let a=e.match(/\/([^/]+)\/([^/]+)\/issues\/(\d+)/),n=e.match(/\/([^/]+)\/([^/]+)\/pull\/(\d+)/),r=e.match(/\/([^/]+)\/([^/]+)\/blob\/([^/]+)\/(.+)$/);return t.url=e,a?(t.owner=a[1]??"",t.repo=a[2]??"",t.number=parseInt(a[3]??"0",10),t.type="github_issue"):n?(t.owner=n[1]??"",t.repo=n[2]??"",t.number=parseInt(n[3]??"0",10),t.type="github_pull_request"):r&&P&&(t.owner=r[1]??"",t.repo=r[2]??"",t.sha=r[3]??"",t.file_path=r[4]??"",t.type="github_file"),t};b[18]=U,b[19]=k,b[20]=i}else i=b[20];if(b[21]===Symbol.for("react.memo_cache_sentinel")?(s={narrow:"fullscreen"},b[21]=s):s=b[21],b[22]!==t||b[23]!==I||b[24]!==j||b[25]!==$?(o=()=>(0,m.jsxs)(aK.l.Footer,{children:[(0,m.jsx)("div",{className:"d-flex flex-items-center",children:$&&(0,m.jsx)(iH.A.Validation,{variant:"error",children:$})}),(0,m.jsxs)("div",{className:"d-flex flex-row flex-justify-end gap-2",children:[(0,m.jsx)(e$.Q,{onClick:j,children:"Cancel"}),(0,m.jsx)(e$.Q,{variant:"primary",onClick:t,loadingAnnouncement:"Saving resource",loading:I,children:"Add"})]})]}),b[22]=t,b[23]=I,b[24]=j,b[25]=$,b[26]=o):o=b[26],b[27]!==A?(l=A&&(0,m.jsx)(K.l,{title:"Failed to save URL(s)",variant:"critical",className:"mb-2"}),b[27]=A,b[28]=l):l=b[28],b[29]!==S?(c=S&&(0,m.jsx)(sg.JR,{html:`from the <b>${S}</b> organization`}),b[29]=S,b[30]=c):c=b[30],b[31]!==c?(d=(0,m.jsxs)("p",{children:["Paste the URLs of the GitHub content"," ",c," you want to add. You can include issues and pull requests."]}),b[31]=c,b[32]=d):d=b[32],b[33]!==t?(u={"github:submit-form":()=>t()},b[33]=t,b[34]=u):u=b[34],b[35]!==A||b[36]!==i||b[37]!==V||b[38]!==k){let e;b[40]!==A||b[41]!==i||b[42]!==V||b[43]!==k.length?(e=(e,t)=>(0,m.jsxs)("div",{style:{width:"100%"},children:[(0,m.jsx)(uU,{index:t,removeUrlTextInputRow:V,inputCount:k.length,updateUrls:i,setIsUpdating:T,urlValue:e.url}),A&&void 0!==e.errorMessage&&(0,m.jsx)(iH.A.Validation,{className:"mt-1",variant:"error",children:e.errorMessage})]},e.id),b[40]=A,b[41]=i,b[42]=V,b[43]=k.length,b[44]=e):e=b[44],h=k.map(e),b[35]=A,b[36]=i,b[37]=V,b[38]=k,b[39]=h}else h=b[39];return b[45]!==h?(f=(0,m.jsx)(J.B,{direction:"vertical",align:"center",children:h}),b[45]=h,b[46]=f):f=b[46],b[47]!==t||b[48]!==f?(g=(0,m.jsx)("form",{onSubmit:t,children:f}),b[47]=t,b[48]=f,b[49]=g):g=b[49],b[50]!==g||b[51]!==u?(y=(0,m.jsx)(aG.tL,{commands:u,children:g}),b[50]=g,b[51]=u,b[52]=y):y=b[52],b[53]!==F?(x=(0,m.jsx)(e$.Q,{leadingVisual:B.PlusIcon,className:"mt-3",onClick:F,children:"Add another"}),b[53]=F,b[54]=x):x=b[54],b[55]!==j||b[56]!==y||b[57]!==x||b[58]!==o||b[59]!==l||b[60]!==d?(v=(0,m.jsxs)(aK.l,{position:s,width:"large",title:"Add via GitHub URL",onClose:j,renderFooter:o,children:[l,d,y,x]}),b[55]=j,b[56]=y,b[57]=x,b[58]=o,b[59]=l,b[60]=d,b[61]=v):v=b[61],v}function u$(){return[new UrlDetails(crypto.randomUUID())]}function uU(e){let t,a,n,r,i,s,o,l=(0,p.c)(18),{index:c,removeUrlTextInputRow:d,inputCount:u,updateUrls:h,setIsUpdating:f,urlValue:g}=e,[y,x]=(0,_.useState)(g),[v,b]=(0,_.useState)(!1);l[0]!==g?(t=()=>{x(g)},a=[g],l[0]=g,l[1]=t,l[2]=a):(t=l[1],a=l[2]),(0,_.useEffect)(t,a);let j=e=>{let t=e.target.value;x(t),v||(b(!0),f(!0)),C(t)};l[3]!==c||l[4]!==f||l[5]!==h?(n=e=>{h(c,e),b(!1),f(!1)},l[3]=c,l[4]=f,l[5]=h,l[6]=n):n=l[6];let C=(0,uB.d)(n,400);return l[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)(iH.A.Label,{visuallyHidden:!0,children:"URL"}),l[7]=r):r=l[7],l[8]!==j||l[9]!==y?(i=(0,m.jsx)(sK.A,{placeholder:"https://github.com/mona/playground/issues/123",value:y,onChange:j,className:"width-full"}),l[8]=j,l[9]=y,l[10]=i):i=l[10],l[11]!==c||l[12]!==u||l[13]!==d?(s=u>1&&(0,m.jsx)(tP.K,{icon:B.TrashIcon,variant:"invisible","aria-label":"Remove url",className:"ml-2",onClick:()=>d(c)}),l[11]=c,l[12]=u,l[13]=d,l[14]=s):s=l[14],l[15]!==i||l[16]!==s?(o=(0,m.jsxs)(iH.A,{className:"d-flex flex-row flex-justify-between flex-items-center width-full",children:[r,i,s]}),l[15]=i,l[16]=s,l[17]=o):o=l[17],o}try{uF.displayName||(uF.displayName="GitHubUrlDialog")}catch{}try{(o=AddUrlTextInputRow).displayName||(o.displayName="AddUrlTextInputRow")}catch{}try{uU.displayName||(uU.displayName="UrlTextInputRow")}catch{}async function uV(e){let t=await (0,tl.lS)(`/github-copilot/chat/repositories/${e}`,{method:"GET"});if(!t.ok)throw Error(`Failed to fetch repository details: ${t.status}`);return await t.json()}var uW=a(62834),uz=a(98637),uH=a(21113),uq=a(4619),uG=a(11251),uK=a(55864),uQ=a(75177),uY=a(53110);function uJ(e,t,a){let n=[];for(let r of t)if(r.startsWith(e)){let t=r.slice(e.length+1),i=t.indexOf("/"),s=i>0?t.slice(0,i):t,o=`${e}/${s}`;if(a&&a.some(e=>e.path===o))continue;let l={items:[],data:{contentType:o===r?"file":"directory",name:s,path:o,isClientOnly:!0}};n.push(l)}return n}let uX={checkbox:"FileTreePicker-module__checkbox--sS_UT",itemContainer:"FileTreePicker-module__itemContainer--EmnHR",Box:"FileTreePicker-module__Box--y6v5U",Box_1:"FileTreePicker-module__Box_1--jOkmh",Octicon:"FileTreePicker-module__Octicon--uVmod",Box_2:"FileTreePicker-module__Box_2--CBUAV"};function uZ(e,t){let a=new Set(e);switch(t.type){case"SELECT_FILE":a.add(t.path),(0,ta.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"SELECT_FILE",newFileCount:a.size});break;case"DESELECT_FILE":a.delete(t.path),(0,ta.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"DESELECT_FILE",newFileCount:a.size});break;case"SELECT_DIRECTORY":for(let e of t.paths)a.add(e);(0,ta.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"SELECT_DIRECTORY",newFileCount:a.size,directoryCount:t.paths.length});break;case"DESELECT_DIRECTORY":for(let e of t.paths)a.delete(e);(0,ta.BI)("copilot-spaces.click",{target:"FILE_PICKER",action:"DESELECT_DIRECTORY",newFileCount:a.size,directoryCount:t.paths.length})}return a}function u0({isActive:e,file:t,onItemSelected:a,getItemUrl:n,selectedItemRef:r,navigate:i,onRenderRow:s,getFileTrailingVisual:o,getFileIcon:l,navigateOnClick:c,isSelected:d}){let{sendRepoClickEvent:u}=(0,uz.T)(),p=_.useRef(null),h=(0,uG.Z)({focusRowRef:p,mouseRowRef:p}),f="submodule"===t.data.contentType,g=o?.(t.data);(0,_.useEffect)(()=>{e&&p.current&&requestAnimationFrame(()=>{p.current?.scrollIntoView({block:"center"})})},[e]);let y=_.useCallback(e=>{f?(e.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):e.metaKey||e.ctrlKey||1===e.button?(window.open(n(t.data),"_blank"),e.preventDefault()):(a?.(t.data,t),u("FILES_TREE.ITEM",{item_path:t.data.path}),c&&i(n(t.data)),e.stopPropagation())},[t,n,f,i,c,a,u]);return s?.(),(0,m.jsxs)(uK.G.Item,{ref:p,onSelect:y,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,m.jsx)(uK.G.LeadingVisual,{children:l?l(t.data):f?(0,m.jsx)(B.FileSubmoduleIcon,{}):(0,m.jsx)(B.FileIcon,{})}),(0,m.jsxs)("div",{className:uX.itemContainer,children:[(0,m.jsx)(iq.A,{className:uX.checkbox,checked:d||!1,readOnly:!0,"aria-label":`Select ${t.data.name}`}),(0,m.jsx)("span",{ref:r,style:{color:f?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:(0,m.jsx)("span",{"data-testid":`${t.data.path}-file-item`,children:t.data.name})})]}),h&&(0,m.jsx)(uq.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:p,"aria-label":t.data.name,open:!0,direction:"ne"}),!!g?.screenReaderText&&(0,m.jsx)("span",{className:"sr-only",children:g.screenReaderText}),!!g?.trailingVisual&&(0,m.jsx)(uK.G.TrailingVisual,{children:g.trailingVisual})]})}let u1=_.memo(u0),u2=_.memo(iq.A);function u3({clientOnlyFilePaths:e,directory:t,isActive:a,isAncestorOfActive:n,leadingPath:r,onItemSelected:i,getItemUrl:s,getFetchUrl:o,selectedItemRef:l,navigate:c,onRenderRow:d,getFileTrailingVisual:u,getFileIcon:p,navigateOnClick:h,selectedChildren:f,expandedPath:g}){let[y,x]=(0,_.useState)(n),{sendRepoClickEvent:v}=(0,uz.T)(),b=_.useRef(null),j=_.useRef(null),C=(0,uG.Z)({focusRowRef:j,mouseRowRef:b}),N=_.useMemo(()=>f?.filter(e=>e.startsWith(`${t.data.path}/`)),[f,t.data.path]),S=_.useMemo(()=>(function(e,t){if(!t||0===t.length)return"none";if(t.includes(e.data.path))return"all";let a=e.data.totalCount||0,n=t.filter(t=>t.startsWith(`${e.data.path}/`)).length;return 0===n?"none":n===a?"all":"partial"})(t,f),[t,f]),[w,I,T,k,E,A,L]=function(e,t,a){let[n,r]=_.useState(e.items),[i,s]=_.useState(e.data.totalCount||0),[o,l]=_.useState(!1),[c,d]=_.useState(!1),{safeSetTimeout:u}=(0,cd.A)();_.useEffect(()=>{r(e.items)},[e.items]),_.useEffect(()=>{void 0!==e.data.totalCount&&s(e.data.totalCount)},[e.data.totalCount]);let m=_.useCallback(()=>{d(!1)},[]),p=_.useCallback((e,t)=>{let a=e||[...n];r(a.slice(0,100)),u(()=>{r(a),void 0!==t&&s(t)},1)},[n,u]);return[_.useCallback(async n=>{let i=new Map;if(e.data.isClientOnly){if(n){let a=uJ(e.data.path,n);for(let e of a)i.set(e.data.path,e);t({type:"add",folders:i,processingTime:0}),a.length>100?p(a,a.length):(r(a),s(a.length))}}else{let o=a(e.data);d(!1),l(!0);let c=Date.now(),u=await (0,tl.lS)(`${o}?noancestors=1`);try{if(u.ok){let a=await u.json(),o=a.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===a.payload.tree.items.length};return(i.set(e.path,t),e.hasSimplifiedPath)?function e(t,a,n){t.data.name=t.data.name.slice(t.data.name.lastIndexOf("/")+1,t.data.name.length);let r=a.name.slice(0,a.name.lastIndexOf("/")),i=r.indexOf("/")>-1,s={path:a.path.slice(0,a.path.lastIndexOf("/")),contentType:a.contentType,name:r,hasSimplifiedPath:i},o={items:[t],data:s};return(n.set(s.path,o),i)?e(o,{...s},n):o}(t,e,i):t});if(n){let t=e.data.path,r=uJ(t,n,a.payload.tree.items);for(let e of(o.push(...r),r))i.set(e.data.path,e)}t({type:"add",folders:i,processingTime:Date.now()-c}),e.items=o,e.data.totalCount=a.payload.tree.totalCount,o.length>100?p(o,a.payload.tree.totalCount):(r(o),s(a.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}l(!1)},[a,e,t,p]),p,n,o,c,m,i]}(t,()=>{},o),R=r?`${r}/`:"",D=L-T.length;(0,_.useEffect)(()=>{a&&b.current&&requestAnimationFrame(()=>{b.current?.scrollIntoView({block:"center"})})},[a]);let P=_.useCallback(e=>{!e||y||k||E||!(t.items.length>100)||I(),e!==y&&x(e)},[y,k,E,t.items.length,I]),B=_.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&h?(window.open(s(t.data),"_blank"),e.preventDefault()):(i?.(t.data,t),v("FILES_TREE.ITEM",{item_path:t.data.path}),h&&c(s(t.data)),e.stopPropagation())},[t,s,c,h,i,v]);_.useEffect(()=>{n&&!y&&P?.(!0)},[n]),_.useEffect(()=>{0===t.items.length&&y?P?.(!1):!y&&t.autoExpand&&P?.(!0)},[t.items.length]);let M=_.useCallback(e=>{l&&a&&l(e),b.current=e},[l,a]);if(1===t.items.length){let n=t.items[0];if(n&&"directory"===n.data.contentType)return(0,m.jsx)(u6,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:R+t.data.name,inheritsActive:a,onItemSelected:i,selectedItemRef:l,getItemUrl:s,directoryNavigateOnClick:h,navigateOnClick:h,getFileTrailingVisual:u,getFileIcon:p,selectedChildren:N,expandedPath:g})}return d?.(),(0,m.jsxs)(uK.G.Item,{ref:j,expanded:y,onExpandedChange:P,current:a,onSelect:B,id:`${t.data.path}-item`,containIntrinsicSize:a?void 0:"auto 2rem",children:[(0,m.jsx)(uK.G.LeadingVisual,{children:(0,m.jsx)(uK.G.DirectoryIcon,{})}),(0,m.jsxs)("div",{className:uX.itemContainer,children:[(0,m.jsx)(u2,{className:uX.checkbox,checked:"all"===S,indeterminate:"partial"===S,readOnly:!0,"aria-label":`Select ${t.data.name}`,"data-indeterminate":"partial"===S?"true":void 0}),(0,m.jsxs)("span",{ref:M,children:[R&&(0,m.jsx)("span",{children:R}),(0,m.jsx)("span",{"data-testid":`${t.data.path}-directory-item`,children:t.data.name})]})]}),C&&(0,m.jsx)(uq.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:j,"aria-label":`${R}${t.data.name}`,open:!0,direction:"ne"}),(0,m.jsx)(uK.G.SubTree,{state:k?"loading":E?"error":"done",children:E?(0,m.jsx)(uK.G.ErrorDialog,{onRetry:w,onDismiss:A,children:"There was an error loading the folder contents."}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u6,{clientOnlyFilePaths:e,directoryItems:T,onItemSelected:i,selectedItemRef:l,getItemUrl:s,directoryNavigateOnClick:h,navigateOnClick:h,getFileTrailingVisual:u,getFileIcon:p,selectedChildren:N,expandedPath:g}),D>0&&(0,m.jsx)(u8,{message:`${D} entries not shown`})]})})]})}let u4=_.memo(u3,(e,t)=>e.isActive===t.isActive&&e.isAncestorOfActive===t.isAncestorOfActive&&e.directory===t.directory&&(e.selectedChildren===t.selectedChildren||0===e.selectedChildren.length&&0===t.selectedChildren.length)&&e.expandedPath===t.expandedPath);function u5({clientOnlyFilePaths:e,directoryItems:t,leadingPath:a,inheritsActive:n,onItemSelected:r,selectedItemRef:i,onRenderRow:s,getItemUrl:o,getFileTrailingVisual:l,getFileIcon:c,directoryNavigateOnClick:d,navigateOnClick:u,selectedChildren:p,expandedPath:h}){let f=(0,uH.Z)(),g=(0,c2.Z)(),y=_.useRef(g),x=_.useRef(r);_.useEffect(()=>{x.current=r,y.current=g},[r,g]);let v=_.useCallback((e,t)=>{x.current?.(e,t)},[]),b=_.useMemo(()=>t.map(t=>{let r=h===t.data.path,y=p?.includes(t.data.path),x=r||h.startsWith(`${t.data.path}/`),_=p?.filter(e=>e===t.data.path||e.startsWith(`${t.data.path}/`));return"directory"===t.data.contentType?(0,m.jsx)(u4,{clientOnlyFilePaths:e,isActive:n||r,isAncestorOfActive:x,onItemSelected:v,leadingPath:a,directory:t,getItemUrl:o,getFetchUrl:f.getItemUrl,selectedItemRef:x?i:void 0,navigate:g,onRenderRow:s,navigateOnClick:d,getFileTrailingVisual:l,getFileIcon:c,itemCount:t.items.length,isSelected:y,selectedChildren:_,expandedPath:h},t.data.name):(0,m.jsx)(u1,{onItemSelected:v,file:t,isActive:r,getItemUrl:o,selectedItemRef:r?i:void 0,navigate:g,navigateOnClick:u,onRenderRow:s,getFileTrailingVisual:l,getFileIcon:c,isSelected:y},t.data.name)}),[t,h,p,e,n,v,a,o,f.getItemUrl,i,g,s,d,l,c,u]);return(0,m.jsx)(m.Fragment,{children:b})}let u6=_.memo(u5);function u7(e){let{clientOnlyFilePaths:t,rootItems:a,fetchError:n,loading:r,onRenderRow:i,getItemUrl:s,getFileTrailingVisual:o,getFileIcon:l,expandedPath:c,onSelectionChange:d}=e,[u,p]=(0,_.useReducer)(uZ,new Set),h=e.selectedItems||u,f=(0,_.useCallback)(e=>{let t=new Set;if(t.add(e.data.path),"directory"===e.data.contentType)for(let a of e.items)for(let e of f(a))t.add(e);return Array.from(t)},[]),g=(0,_.useCallback)((e,t)=>{let a=t?{type:"DESELECT_FILE",path:e}:{type:"SELECT_FILE",path:e};d?d(uZ(h,a)):p(a)},[d,h]),y=(0,_.useCallback)((e,t)=>{let a=f(e),n=t?{type:"DESELECT_DIRECTORY",paths:a}:{type:"SELECT_DIRECTORY",paths:a};d?d(uZ(h,n)):p(n)},[f,d,h]),x=(0,_.useCallback)((e,t)=>{if("directory"===e.contentType){let e=f(t).every(e=>h.has(e));y(t,e)}else g(e.path,h.has(e.path))},[f,y,g,h]),v=(0,_.useCallback)(e=>{1===e.button&&e.preventDefault()},[]);return(0,m.jsx)(uQ.A,{onMouseDown:v,sx:{...e.sx},"data-testid":"repos-file-tree-container",className:uX.Box,children:r?(0,m.jsxs)("div",{className:uX.Box_1,children:[(0,m.jsx)(aQ.A,{"aria-label":"Loading file tree"}),(0,m.jsx)("span",{className:"fgColor-muted",children:"Fetching files..."})]}):(0,m.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,m.jsxs)(uK.G,{"aria-label":"Files",children:[n&&(0,m.jsx)(u8,{message:"Some files could not be loaded."}),(0,m.jsx)(u6,{clientOnlyFilePaths:t,directoryItems:a,onItemSelected:x,selectedChildren:h?Array.from(h):[],selectedItemRef:e.selectedItemRef,onRenderRow:i,directoryNavigateOnClick:e.directoryNavigateOnClick,navigateOnClick:e.navigateOnClick,getItemUrl:s,getFileTrailingVisual:o,getFileIcon:l,expandedPath:c})]})})})}function u8({message:e}){return(0,m.jsxs)(uK.G.Item,{id:"error-tree-row",children:[(0,m.jsx)(uK.G.LeadingVisual,{children:(0,m.jsx)(uY.A,{icon:B.AlertFillIcon,className:uX.Octicon})}),(0,m.jsx)("div",{className:uX.Box_2,children:e||"Couldn't load."})]})}try{u0.displayName||(u0.displayName="WrappedFileTreeRow")}catch{}try{u1.displayName||(u1.displayName="FileTreeRow")}catch{}try{u2.displayName||(u2.displayName="MemoizedCheckbox")}catch{}try{u3.displayName||(u3.displayName="WrappedDirectoryTreeRow")}catch{}try{u4.displayName||(u4.displayName="DirectoryTreeRow")}catch{}try{u5.displayName||(u5.displayName="WrappedDirectoryContents")}catch{}try{u6.displayName||(u6.displayName="DirectoryContents")}catch{}try{u7.displayName||(u7.displayName="FileTreePicker")}catch{}try{u8.displayName||(u8.displayName="ErrorTreeRow")}catch{}var u9=a(69359),me=a(88795),mt=a(85579),ma=a(141),mn=a(69098),mr=a(89276),mi=a(27406),ms=a(81367),mo=a(96235),ml=a(3971),mc=a(91385),md=a(70170),mu=a(54763);let mm={TextInput:"FilesSearchBox-module__TextInput--G0iN6",Box:"FilesSearchBox-module__Box--NOLNq"},mp=_.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:a,ariaHasPopup:n,className:r,onBlur:i,onFocus:s,onKeyDown:o,onPreload:l,onSearch:c,query:d,searchPlaceholder:u,loading:p,sx:h},f)=>{let{sendRepoClickEvent:g}=(0,uz.T)(),[y,v]=_.useState(d),b=_.useRef((0,md.s)(e=>c(e),250));_.useEffect(()=>{v(d)},[d]);let j=d?(0,m.jsx)(sK.A.Action,{onClick:()=>{g("FILE_TREE.CANCEL_SEARCH"),c("")},icon:B.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,m.jsx)(sK.A,{autoFocus:mh(),className:(0,x.$)(r,mm.TextInput),ref:f,value:y,onKeyDown:o,onChange:e=>{v(e.target.value),l(),b.current(e.target.value)},sx:h,"aria-label":u||"Go to file","aria-activedescendant":e,role:n?"combobox":void 0,"aria-controls":t,"aria-expanded":a,"aria-haspopup":n?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:u||"Go to file",loading:""!==d&&p,leadingVisual:B.SearchIcon,trailingAction:j,trailingVisual:j?void 0:()=>(0,m.jsx)(mu.E,{children:(0,m.jsx)("div",{className:mm.Box,children:(0,m.jsx)("kbd",{children:"t"})})}),onFocus:e=>{l(),e.target.select(),s?.(e)},onBlur:i,onClick:()=>g("FILE_TREE.SEARCH_BOX")})});function mh(){return"1"===new URLSearchParams(eg.fV.search).get("search")}mp.displayName="FilesSearchBox";let mf={Box:"FileResultsList-module__Box--W1Jqy",ActionList:"FileResultsList-module__ActionList--jyBtr",FilesSearchBox:"FileResultsList-module__FilesSearchBox--mUJl5",HighlightMatch:"FileResultsList-module__HighlightMatch--RNVsR",Octicon:"FileResultsList-module__Octicon--jn8tc"},mg={excludeDirectories:!1,excludeSeeAllResults:!1};function my({actionListSx:e,additionalResults:t,className:a,commitOid:n,config:r=mg,findFileWorkerPath:i,getItemUrl:s,onRenderRow:o,onItemSelected:l,searchBoxRef:c,sx:d}){let{excludeDirectories:u,excludeSeeAllResults:p}=r,{query:h,setQuery:f}=(0,mt.JS)(),g=(0,me.t)(),y=_.useRef(null),x=c??y,[v,b]=_.useState(h.length>0),[j,C]=_.useState(!!h),{list:N,directories:S,loading:w,error:I}=(0,uW.o)(n,v,!!u),{path:T}=(0,ma.eu)(),{getUrl:k}=(0,uH.Z)(),{queryText:E,queryLine:A}=function(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(h),{matches:L,clearMatches:R}=function(e,t,a,n){let[r,i]=_.useState(),s=_.useRef(""),o=_.useRef(),{sendStats:l}=(0,uz.T)(),c=_.useRef(!1),d=_.useCallback(()=>{let e=new mr.z(a,mi.j);e.onmessage=({data:e})=>{c.current=!1,i(e.list),s.current=e.query,e.startTime&&l("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},o.current=e},[l,a]);return _.useEffect(()=>{if(n)return d(),function(){o.current?.terminate()}},[d,n]),_.useEffect(()=>{if(e.length&&t){c.current&&(o.current?.terminate(),d());let a=s.current&&t.startsWith(s.current);c.current=!0,o.current?.postMessage({baseList:a&&r||e,query:t,startTime:performance.now()})}},[e,t,d]),{matches:r,clearMatches:()=>i(void 0)}}((0,_.useMemo)(()=>[...N,...t??[]].sort(),[t,N]),E,i,v),{sendRepoClickEvent:D}=(0,uz.T)(),P=(0,c2.Z)(),[B,M]=_.useState(0),[O,F]=_.useState(()=>mh()),$=_.useRef(null),U=_.useRef(null),V="file-results-list",{sendRepoKeyDownEvent:W}=(0,uz.T)(),{screenSize:z}=(0,ai.lm)(),H=r.enableOverlay??z>=ai.Gy.large,q=_.useCallback(e=>{D("FILE_TREE.SEARCH_RESULT_CLICK"),l?.(e),C(!1)},[D,l]),G=(e,t,a)=>s?s(e,t,a):k({path:e,action:t?"tree":"blob",hash:a}),{containerRef:K}=(0,ak.G)({bindKeys:aT.z0.ArrowVertical|aT.z0.HomeAndEnd,focusInStrategy:"previous"},[w,I]);_.useEffect(()=>{h||C(!1)},[h]),_.useEffect(()=>{document.activeElement!==x.current&&H&&C(!1)},[T,x,H]);let Q=L?.slice(0,20)||[],Y=L&&L.length>Q.length,J=!r.disableNavigation,X=U.current?.getBoundingClientRect().width,Z=(0,m.jsx)(uQ.A,{sx:{maxHeight:H?"180px":"100% !important",width:H?X:"100%"},className:mf.Box,children:I?(0,m.jsx)(dL.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,m.jsxs)(tB.l,{ref:K,sx:{p:H?2:3,pr:3*!!H,pt:H?3:"2px !important",...e},role:"listbox",className:mf.ActionList,children:[!w&&Q.map((e,t)=>{let a=S.includes(e),n=G(e,a,A?`L${A}`:"");return(0,m.jsx)(mb,{active:!1,index:t,focused:O&&B===t,match:e,onRender:o,query:E,onClick:q,isDirectory:a,to:n,useOverlay:H,listRef:K,noAnchor:r.disableNavigation},e)}),0===Q.length&&(0,m.jsx)("div",{role:"status",className:"text-center fgColor-muted",children:"No matches found"})]})});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(uQ.A,{className:a,ref:U,sx:d,children:(0,m.jsx)(mp,{ariaActiveDescendant:(!H&&h||H&&j)&&O&&B>-1?Y&&B===Q.length?"see-all-results-link":`file-result-${B}`:void 0,ariaExpanded:H?j:void 0,ariaHasPopup:H,ariaControls:H?V:void 0,ref:x,loading:w,query:h,onKeyDown:e=>{let{key:t,shiftKey:a,metaKey:n,altKey:r,ctrlKey:i}=e;if(!a&&!n&&!r){if("Escape"===t)h?(W("FILE_TREE.CANCEL_SEARCH"),f(""),R()):document.activeElement&&document.activeElement.blur();else if(!h)return;else if("Enter"===t){if(!p&&Y&&B===Q.length)J&&P((0,mo.Y8Y)({owner:g.ownerLogin,repo:g.name,searchTerm:`path:${E}`})),l?.();else if(Q[B]){let e=Q[B];J&&P(G(Q[B],!1,A?`L${A}`:"")),C(!1),l?.(e)}}else if("ArrowDown"===t||i&&"n"===t){if(!p&&Y&&B>=Q.length-1){if(M(Q.length),$.current&&K.current){let e=(0,ms.U)(K.current);(0,aT.Rt)($.current,e,{behavior:"instant"})}}else M(Math.min(B+1,Q.length-1));e.preventDefault();return}else if("ArrowUp"===t||i&&"p"===t){M(Math.max(B-1,0)),e.preventDefault();return}}},onPreload:()=>b(!0),onSearch:e=>{f(e),e?C(!0):(R(),C(!1)),M(0)},onBlur:e=>{K.current?.contains(e.relatedTarget)||(C(!1),F(!1))},onFocus:()=>{h&&C(!0),F(!0)},searchPlaceholder:r.searchPlaceholder,className:mf.FilesSearchBox})}),H&&Q.length>0&&(0,m.jsx)(ml.T,{anchorRef:U,open:H&&j,renderAnchor:null,onClose:()=>{C(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},align:"end",overlayProps:{id:V,role:"dialog"},children:Z}),!H&&h&&Z]})}let mx=({active:e,focused:t,index:a,match:n,query:r,to:i,isDirectory:s,onClick:o,onRender:l,useOverlay:c,listRef:d,noAnchor:u})=>{let p=(0,mc.Xq)(r,n);l?.();let h=_.useRef(null);_.useEffect(()=>{if(t&&h.current&&d?.current){let e=(0,ms.U)(d.current);(0,aT.Rt)(h.current,e,{behavior:"instant"})}},[t,d]);let f={};t&&(f={outline:"none",border:"2 solid",boxShadow:"0 0 0 2px #0969da"});let g={id:`file-result-${a}`,active:e,onSelect:(0,_.useCallback)(()=>{o?.(n)},[n,o]),sx:{fontWeight:"normal",":hover":{textDecoration:"none"},mx:"2px",width:"calc(100% - 4px)",...f},role:"option","data-focus-visible-added":t||void 0,tabIndex:c?-1:0},y=(0,m.jsx)("div",{className:"d-flex",children:(0,m.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,m.jsx)(mj,{text:n,positionsList:p,LeadingIcon:s?m_:mv,className:mf.HighlightMatch})})});return u?(0,m.jsx)(tB.l.Item,{...g,children:y},n):(0,m.jsx)(tB.l.LinkItem,{...g,ref:h,as:em.N,to:i,children:y},n)},m_=()=>(0,m.jsx)(uY.A,{"aria-label":"Directory",icon:B.FileDirectoryFillIcon,size:"small",className:mf.Octicon}),mv=()=>(0,m.jsx)(uY.A,{"aria-label":"File",icon:B.FileIcon,className:"fgColor-muted mr-2",size:"small"}),mb=_.memo(mx);function mj({className:e,text:t,positionsList:a,sx:n,LeadingIcon:r}){let i=[],s=0;for(let e of a){if(Number(e)!==e||e<s||e>t.length)continue;let a=t.slice(s,e);a&&i.push(mC(a)),s=e+1,i.push((0,m.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:t[e]},e))}return i.push(mC(t.slice(s))),(0,m.jsx)(uQ.A,{className:e,sx:n,children:(0,m.jsxs)(m.Fragment,{children:[r&&(0,m.jsx)(r,{}),i]})})}function mC(e){return e.replaceAll("/","/\u200B")}try{my.displayName||(my.displayName="FileResultsList")}catch{}try{mx.displayName||(mx.displayName="FileResultRow")}catch{}try{m_.displayName||(m_.displayName="DirectoryIcon")}catch{}try{mv.displayName||(mv.displayName="FileResultIcon")}catch{}try{mb.displayName||(mb.displayName="MemoizedFileResultRow")}catch{}try{mj.displayName||(mj.displayName="HighlightMatch")}catch{}let mN={dialogHeader:"MultiFilePicker-module__dialogHeader--z4rKg",Box:"MultiFilePicker-module__Box--bwEHF",Dialog:"MultiFilePicker-module__Dialog--tzxbE"};function mS({currentRepo:e,setLocalFormData:t,fetchError:a,onFileCountChange:n,processingTime:r,expandedPath:i}){let[s,o]=(0,_.useState)(()=>new Set),[l,c]=(0,_.useState)(()=>new Set),{list:d,directories:u,loading:p}=(0,uW.o)(e.commitOID,!0),[h,f]=(0,_.useState)([]);(0,_.useEffect)(()=>{f(function e(t,a){let n=t[a];return n?n.items.map(a=>({data:a,items:"directory"===a.contentType?e(t,a.path):[]})).sort((e,t)=>"directory"===e.data.contentType&&"directory"!==t.data.contentType?-1:"directory"!==e.data.contentType&&"directory"===t.data.contentType?1:e.data.name.localeCompare(t.data.name)):[]}(function(e){let{paths:t,directories:a}=e,n={},r=new Set(a);for(let e of(n[""]={items:[],totalCount:0},[...a].sort())){let t=e.substring(0,e.lastIndexOf("/"))||"",a={name:e.substring(e.lastIndexOf("/")+1),path:e,contentType:"directory"};n[t]||(n[t]={items:[],totalCount:0}),n[t].items.push(a),n[e]||(n[e]={items:[],totalCount:0})}for(let e of t.filter(e=>!r.has(e)).sort()){let t=e.substring(0,e.lastIndexOf("/"))||"",a={name:e.substring(e.lastIndexOf("/")+1),path:e,contentType:"file"};n[t]||(n[t]={items:[],totalCount:0}),n[t].items.push(a)}for(let e in n){let t=n[e];t&&t.items.sort((e,t)=>"directory"===e.contentType&&"directory"!==t.contentType?-1:"directory"!==e.contentType&&"directory"===t.contentType?1:e.name.localeCompare(t.name))}let i=e=>{let t=n[e];return t?t.items.reduce((e,t)=>"directory"===t.contentType?e+1+i(t.path):e+1,0):0};for(let e in n){let t=n[e];t&&(t.totalCount=i(e))}return n}({paths:d,directories:u}),"")),c(new Set(u))},[d,u,f,e.commitOID]),(0,_.useEffect)(()=>{let a=Array.from(s).filter(e=>!l.has(e));n?.(a.length),t(a.map(t=>({id:`${e.id}-${t}`,repositoryId:e.id,nwo:`${e.ownerLogin}/${e.name}`,filePath:t,type:"github_file"})))},[s,l,e,t,n]);let g=(0,_.useCallback)(t=>`/${e.name}/${e.ownerLogin}/tree/${e.refInfo.name}/${t.path}`,[e]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:mN.Box,children:(0,m.jsx)(u7,{rootItems:h,expandedPath:i,selectedItemRef:()=>{},setRootItems:f,navigateOnClick:!1,directoryNavigateOnClick:!1,selectedItems:s,onSelectionChange:o,processingTime:r,loading:p||!1,fetchError:!!a,getItemUrl:g,sortDirectoryItems:e=>e.sort((e,t)=>e.data.name.localeCompare(t.data.name))})})})}function mw({onClose:e}){return(0,m.jsx)(tP.K,{icon:B.XIcon,"aria-label":"Close",onClick:e,variant:"invisible"})}function mI({formData:e,onCancel:t,onSaveFiles:a,onSaveRepository:n,findFileWorkerPath:r,attachmentButtonRef:i,owner:s,resourceCounts:o,initialRepo:l,onRepoSelect:c,hideBackButton:d=!1}){let[u,p]=(0,_.useState)({}),[h,f]=(0,_.useState)(null),[g,y]=(0,_.useState)(l||null),[x,v]=(0,_.useState)(!0),[b,j]=(0,_.useState)(e),[C]=(0,_.useState)(0),[N,S]=(0,_.useState)(!1),[w,I]=(0,_.useState)(null),[T,k]=(0,_.useState)(""),[E,A]=(0,_.useState)(0),L=(0,_.useRef)(!1),R=eT.W.spacesRepoContext,D=async e=>{let t;if(L.current=!0,u[e]){y(t=u[e]),c?.(t);return}try{t=await uV(e),p(a=>({...a,[e]:t})),y(t),c?.(t),v(!1)}catch(e){f(e instanceof Error?e.message:"An unknown error occurred")}L.current=!1},P=()=>{c?.(null),y(null),j([]),v(!0)},M=!1,O=void 0!==o;M=O?o.currentResourceCount+E>o.maxResourceCount:E>50;let F=async()=>{if(S(!0),R&&0===E&&g)try{(0,ta.BI)("copilot-spaces.click",{target:"SAVED_REPOSITORY_FROM_FILE_PICKER"}),n({type:"repository",id:`${g.id}`,repositoryId:g.id,nwo:`${g.ownerLogin}/${g.name}`,ownerAvatarUrl:g.ownerAvatarUrl,ownerType:g.ownerType,markedForDestroy:!1});return}catch{I("Could not save repository. Please try again.")}finally{S(!1)}if(M)return void S(!1);try{(0,ta.BI)("copilot-spaces.click",{target:"SAVED_FILES_FROM_FILE_PICKER"}),await a(b)}catch(t){let e="An unknown error occurred";if(t&&"object"==typeof t&&"base"in t&&"string"==typeof t.base)if(t.base.startsWith("unsupported_file_type")&&"files"in t){let a=t.files;if(1===a.length)e=`This file can't be submitted: ${a[0]}. Only supported file types are allowed.`;else{let[t,n]=[a.slice(0,3),a.slice(3)];e="One or more files can't be submitted: "+t.map(e=>(function(e,t=30){let a=e.length<=t?e:`...${e.slice(e.length-t,e.length)}`;return`<b>${a}</b>`})(e)).join(", "),n.length>0?e+=`, and ${n.length} more.`:e+=".",e+=" Only supported file types are allowed."}}else e=t.base;e.startsWith("The size of the space exceeds the current limit")&&(e="The size of the space exceeds the current limit"),I(e)}finally{S(!1)}};(0,_.useEffect)(()=>{I(null)},[b]);let $=M&&(O?`${o.currentResourceCount+E} / ${o.maxResourceCount} possible sources selected, add fewer files.`:"Up to 50 files can be added at a time.");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u9.X1,{selectionVariant:"instant",open:!g&&x,onOpenChange:e=>{L.current||(v(e),t())},selectedRepoIds:new Set,onSelectRepo:async e=>{e&&(j([]),(0,ta.BI)("copilot-spaces.click",{target:"SELECTED_REPO_FROM_REPO_PICKER"}),await D(e))},cancelReturnFocusRef:i,submitReturnFocusRef:i,error:h??void 0,ownerDisplayLogin:s,includeForks:!0}),g&&(0,m.jsx)(aK.l,{onClose:t,title:`Add files from ${g.ownerLogin}/${g.name}`,width:"large",position:{narrow:"fullscreen"},renderHeader:({onClose:e})=>(0,m.jsxs)(aK.l.Header,{children:[(0,m.jsx)("div",{className:mN.dialogHeader,children:(0,m.jsx)(aK.l.Title,{children:(0,m.jsxs)(J.B,{align:"center",direction:"horizontal",gap:"none",children:[!d&&(0,m.jsx)(J.B.Item,{children:(0,m.jsx)(tP.K,{icon:B.ArrowLeftIcon,"aria-label":"Back",onClick:P,variant:"invisible"})}),(0,m.jsxs)(J.B.Item,{grow:!0,className:"mx-1",children:["Select folders and files in ",g.ownerLogin,"/",g.name]}),(0,m.jsx)(J.B.Item,{children:(0,m.jsx)(mw,{onClose:()=>e("close-button")})})]})})}),(0,m.jsx)(aK.l.Subtitle,{className:"mt-0",children:(0,m.jsx)(me.d,{repository:g,children:(0,m.jsx)(mt.Ck,{children:(0,m.jsx)(ma.qV,{refInfo:{name:g.refInfo.name,canEdit:!0,listCacheKey:"anything",currentOid:g.commitOID},path:"test",action:"tree",copilotAccessAllowed:!0,children:(0,m.jsx)(mn.$,{allShortcutsEnabled:!1,children:(0,m.jsx)(my,{commitOid:g.commitOID,findFileWorkerPath:r,onItemSelected:e=>{e&&k(e)},config:{enableOverlay:!0,disableNavigation:!0,searchPlaceholder:"Search for files or folders",actionText:"Search for files or folders"}})})})})})})]}),renderFooter:()=>(0,m.jsxs)(aK.l.Footer,{children:[(0,m.jsx)("div",{className:"d-flex flex-items-center",children:$&&(0,m.jsx)(iH.A.Validation,{variant:"error",children:$})}),(0,m.jsxs)("div",{className:"d-flex flex-row flex-justify-end gap-2",children:[(0,m.jsx)(e$.Q,{onClick:t,children:"Cancel"}),(0,m.jsxs)(e$.Q,{...(0,aF.G)("save-resource-button"),variant:"primary",onClick:F,count:N?void 0:E||void 0,loading:N,children:["Add ",(0,m.jsx)("span",{children:R&&0===E?"repository":""})]})]})]}),renderBody:()=>(0,m.jsxs)("div",{className:"d-flex flex-column",children:[h&&(0,m.jsx)("span",{children:h}),w&&(0,m.jsx)("div",{className:"position-sticky top-0 bgColor-default flash-banner",children:(0,m.jsx)(dL.A,{full:!0,variant:"danger",children:(0,m.jsx)(sg.JR,{as:"span",html:w})})}),(0,m.jsx)(me.d,{repository:g,children:(0,m.jsx)(mt.Ck,{children:(0,m.jsx)(ma.qV,{refInfo:{name:g.refInfo.name,canEdit:!0,listCacheKey:"anything",currentOid:g.commitOID},path:"test",action:"tree",copilotAccessAllowed:!0,children:(0,m.jsx)("div",{className:"p-2",children:(0,m.jsx)(mS,{expandedPath:T,currentRepo:g,localFormData:b,setLocalFormData:j,onFileCountChange:A,fetchError:h,processingTime:C})})})})})]}),className:mN.Dialog})]})}try{mS.displayName||(mS.displayName="FilePickerForm")}catch{}try{mw.displayName||(mw.displayName="CloseButton")}catch{}try{mI.displayName||(mI.displayName="MultiFilePicker")}catch{}function mT(e){let t,a,n,r,i=(0,p.c)(17),{isOpen:s,onClose:o,onResourcesAdded:l,owner:c,resourceCounts:d,initialRepo:u,onRepoSelect:h,hideBackButton:f}=e,g=(0,_.useRef)(null),{getCopilotSpaceResourceSizes:y}=uj();i[0]!==o||i[1]!==l?(t=e=>{let t=[e];l(t),(0,av.Pg)(t,"file-picker"),o()},i[0]=o,i[1]=l,i[2]=t):t=i[2];let x=t;i[3]!==o||i[4]!==l||i[5]!==y?(a=async e=>{if(0===e.length)return void o();let t=await y({resources:e}),a=e.map(e=>{let a=t[e.id];return{...e,fileExists:!0,markedForDestroy:!1,sizePercentage:a}});l(a),(0,av.Pg)(a,"file-picker"),o()},i[3]=o,i[4]=l,i[5]=y,i[6]=a):a=i[6];let v=a;return s?(i[7]===Symbol.for("react.memo_cache_sentinel")?(n=[],i[7]=n):n=i[7],i[8]!==f||i[9]!==u||i[10]!==o||i[11]!==h||i[12]!==c||i[13]!==d||i[14]!==v||i[15]!==x?(r=(0,m.jsx)(mI,{formData:n,onCancel:o,onSaveFiles:v,onSaveRepository:x,findFileWorkerPath:"",attachmentButtonRef:g,owner:c,resourceCounts:d,initialRepo:u,onRepoSelect:h,hideBackButton:f}),i[8]=f,i[9]=u,i[10]=o,i[11]=h,i[12]=c,i[13]=d,i[14]=v,i[15]=x,i[16]=r):r=i[16],r):null}try{mT.displayName||(mT.displayName="SpacesFilePicker")}catch{}let mk={dialogBody:"TextFileDialog-module__dialogBody--vEXW_",grow:"TextFileDialog-module__grow--WN1h9",form:"TextFileDialog-module__form--i5zZL",footerContainer:"TextFileDialog-module__footerContainer--Mz0uf"};function mE({sizePercentage:e,onClose:t,onSave:a,resource:n}){let{copilotSpacesConfig:{maxContentSize:r}}=(0,U.X)(),[i,s]=(0,_.useState)(n?.name||""),[o,l]=(0,_.useState)(n?.text||""),[c,d]=(0,_.useState)(!1),[u,p]=(0,_.useState)(""),[h,f]=(0,_.useState)(!1),g=n?.text??"",[y,x]=(0,_.useState)({}),{getCopilotSpaceResourceSizes:v}=uj(),b=async e=>{e?.preventDefault(),e?.stopPropagation();let r=!i.trim(),s=!o.trim();if(r||s)return void x(e=>({...e,"resources.name":r?"Name is required":"","resources.text":s?"Content is required":""}));d(!0),p("");try{let e={id:n?.id||Date.now().toString(),databaseId:n?.databaseId,type:"free_text",name:i,text:o,markedForDestroy:!1},r=await v({resources:[e]}),s={...e,sizePercentage:r[e.id]};a(s),(0,av.Pg)([s],"text-file-dialog"),t()}catch{p("An unexpected error occurred while validating the text file")}finally{d(!1)}};return(0,m.jsx)(aK.l,{position:{narrow:"fullscreen"},title:"Add text content",onClose:t,width:"xlarge",height:"large",renderBody:()=>(0,m.jsxs)("div",{className:mk.dialogBody,children:[u&&(0,m.jsx)(K.l,{variant:"critical",className:"mb-2",title:u}),(0,m.jsx)(aG.tL,{className:mk.grow,commands:{"github:submit-form":()=>void b()},children:(0,m.jsxs)("form",{onSubmit:b,className:mk.form,children:[(0,m.jsxs)(iH.A,{required:!0,children:[(0,m.jsx)(iH.A.Label,{children:"Name"}),(0,m.jsx)(sK.A,{block:!0,placeholder:"Give the file a title",value:i,onChange:e=>{s(e.target.value),x(e=>({...e,"resources.name":""}))},maxLength:1e3,validationStatus:y["resources.name"]?"error":void 0,...(0,aF.G)("text-file-name-input")}),y["resources.name"]&&(0,m.jsx)(iH.A.Validation,{variant:"error",children:y["resources.name"]})]}),(0,m.jsxs)(iH.A,{required:!0,className:mk.grow,children:[(0,m.jsx)(iH.A.Label,{children:"Content"}),(0,m.jsx)(us.Ay,{block:!0,name:"content",value:o,placeholder:"Enter content here",resize:"none",className:mk.grow,onChange:e=>{l(e.target.value),x(e=>({...e,"resources.text":""}))},...(0,aF.G)("text-file-content-input")}),y["resources.text"]?(0,m.jsx)(iH.A.Validation,{variant:"error",children:y["resources.text"]}):void 0!==e&&(0,m.jsx)(mA,{text:o,percentage:e,resourceContent:g,setOverSpaceLimit:f,maxContentSize:r})]})]})})]}),renderFooter:()=>(0,m.jsxs)("div",{className:mk.footerContainer,children:[(0,m.jsx)(e$.Q,{onClick:t,children:"Cancel"}),(0,m.jsx)(e$.Q,{variant:"primary",onClickCapture:h?void 0:b,loadingAnnouncement:"Validating resource",inactive:h,loading:c,...(0,aF.G)("save-text-file-button"),children:"Add"})]})})}function mA(e){let t,a,n,r=(0,p.c)(8),{text:i,percentage:s,resourceContent:o,setOverSpaceLimit:l,maxContentSize:c}=e,d=s/100*c+(i.length>o.length?Math.abs(i.length-o.length):-Math.abs(i.length-o.length)),u=Math.floor(d/c*100),h=d>c;if(r[0]!==l||r[1]!==h?(t=()=>{l(h)},a=[h,l],r[0]=l,r[1]=h,r[2]=t,r[3]=a):(t=r[2],a=r[3]),(0,_.useEffect)(t,a),h){let e,t=`Total percent used: ${u}%`;return r[4]!==t?(e=(0,m.jsx)(iH.A.Validation,{variant:"error",children:t}),r[4]=t,r[5]=e):e=r[5],e}let f=`Total percent used: ${u}%`;return r[6]!==f?(n=(0,m.jsx)(iH.A.Caption,{children:f}),r[6]=f,r[7]=n):n=r[7],n}try{mE.displayName||(mE.displayName="TextFileDialog")}catch{}try{mA.displayName||(mA.displayName="CharacterCount")}catch{}let mL=e=>{let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,x,v,b,j,C=(0,p.c)(43),{children:N,onResourcesAdded:S,onError:w,owner:I,sizePercentage:T,resourcesToSave:k,resourceCounts:E,onUploadingChange:A,initialRepo:L,onRepoSelect:R}=e,[D,P]=(0,_.useState)(!1),[M,O]=(0,_.useState)(!1),[F,$]=(0,_.useState)(!1),U=(0,_.useRef)(null),V=(0,_.useRef)(null),W=eT.W.customCopilotsFileUploads,z=eT.W.spacesImagesEnabled,H=eT.W.copilotSpacesFileUrls;C[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{(0,ta.BI)("copilot-spaces.click",{target:"ADD_GITHUB_FILES_BUTTON"}),O(!0)},C[0]=t):t=C[0];let q=t;C[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{(0,ta.BI)("copilot-spaces.click",{target:"ADD_GITHUB_URL_BUTTON"}),$(!0)},C[1]=a):a=C[1];let G=a;C[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{(0,ta.BI)("copilot-spaces.click",{target:"ADD_TEXT_FILE_BUTTON"}),P(!0)},C[2]=n):n=C[2];let K=n;return C[3]!==w||C[4]!==S||C[5]!==A?(r=(W||z)&&(0,m.jsx)(uP,{ref:U,onResourcesAdded:S,onError:w,onUploadingChange:A}),C[3]=w,C[4]=S,C[5]=A,C[6]=r):r=C[6],C[7]!==N?(i=(0,m.jsx)(tD.W.Anchor,{children:N}),C[7]=N,C[8]=i):i=C[8],C[9]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)(tB.l.GroupHeading,{children:"Repository"}),C[9]=s):s=C[9],C[10]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.FileCodeIcon,{...(0,aF.G)("add-github-files-menu-item-icon")})}),C[10]=o):o=C[10],C[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsxs)(tB.l.Item,{onSelect:q,children:[o,eT.W.spacesRepoContext?"Add files and repositories":"Attach files and folders"]}),C[11]=l):l=C[11],C[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.LinkIcon,{})}),C[12]=c):c=C[12],C[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,m.jsxs)(tB.l.Group,{children:[s,l,(0,m.jsxs)(tB.l.Item,{onSelect:G,children:[c,H?"Link files, pull requests, and issues":"Link pull requests and issues"]})]}),u=(0,m.jsx)(tB.l.Divider,{}),C[13]=d,C[14]=u):(d=C[13],u=C[14]),C[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,m.jsx)(tB.l.GroupHeading,{children:"Local"}),f=(W||z)&&(0,m.jsxs)(tB.l.Item,{onSelect:()=>{(0,ta.BI)("copilot-spaces.click",{target:"LOCAL_FILE_UPLOAD"}),U.current?.addResources()},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.UploadIcon,{})}),"Upload a file"]}),C[15]=h,C[16]=f):(h=C[15],f=C[16]),C[17]===Symbol.for("react.memo_cache_sentinel")?(g=(0,m.jsx)(tD.W.Overlay,{align:"end",width:"small",children:(0,m.jsxs)(tB.l,{children:[d,u,(0,m.jsxs)(tB.l.Group,{children:[h,f,(0,m.jsxs)(tB.l.Item,{onSelect:K,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.PasteIcon,{...(0,aF.G)("add-text-file-menu-item-icon")})}),"Add text content"]})]})]})}),C[17]=g):g=C[17],C[18]!==i?(y=(0,m.jsxs)(tD.W,{anchorRef:V,children:[i,g]}),C[18]=i,C[19]=y):y=C[19],C[20]!==S||C[21]!==D||C[22]!==T?(x=D&&(0,m.jsx)(mE,{sizePercentage:T,onClose:()=>P(!1),onSave:e=>S([e])}),C[20]=S,C[21]=D,C[22]=T,C[23]=x):x=C[23],C[24]!==L||C[25]!==R||C[26]!==S||C[27]!==I||C[28]!==E||C[29]!==M?(v=M&&(0,m.jsx)(mT,{isOpen:M,onClose:()=>O(!1),onResourcesAdded:S,owner:I,resourceCounts:E,initialRepo:L,onRepoSelect:R}),C[24]=L,C[25]=R,C[26]=S,C[27]=I,C[28]=E,C[29]=M,C[30]=v):v=C[30],C[31]!==S||C[32]!==I||C[33]!==E||C[34]!==k||C[35]!==F?(b=F&&(0,m.jsx)(uF,{onClose:()=>$(!1),onSave:e=>S(e),resourcesToSave:k,resourceCounts:E,owner:I}),C[31]=S,C[32]=I,C[33]=E,C[34]=k,C[35]=F,C[36]=b):b=C[36],C[37]!==y||C[38]!==x||C[39]!==v||C[40]!==b||C[41]!==r?(j=(0,m.jsxs)(m.Fragment,{children:[r,y,x,v,b]}),C[37]=y,C[38]=x,C[39]=v,C[40]=b,C[41]=r,C[42]=j):j=C[42],j};try{mL.displayName||(mL.displayName="AddAttachmentMenu")}catch{}var mR=a(86935);let mD={capitalize:"ColorPicker-module__capitalize--Frq3z"},mP=dh.map(e=>({leadingVisual:()=>(0,m.jsx)("span",{className:dg[e],style:{display:"inline-block",width:12,height:12,backgroundColor:"var(--avatar-foregroundColor)",borderRadius:"50%"}}),key:e,text:e,color:e}));function mB(e){let t,a,n,r,i,s,o,l,c,d,u=(0,p.c)(21),{value:h,onChange:f}=e,[g,y]=(0,_.useState)(!1),[x,v]=(0,_.useState)("");u[0]!==x||u[1]!==h?(a=mP.filter(e=>e.text===h||e.text?.toLowerCase().startsWith(x.toLowerCase())),u[0]=x,u[1]=h,u[2]=a):a=u[2],t=a,u[3]!==h?(r=mP.find(e=>e.text===h),u[3]=h,u[4]=r):r=u[4],n=r;let b=(0,_.useId)();return u[5]!==b?(i=(0,m.jsx)(iH.A.Label,{visuallyHidden:!0,htmlFor:b,children:"Color"}),u[5]=b,u[6]=i):i=u[6],u[7]!==b?(s=e=>{let{children:t,...a}=e;return(0,m.jsxs)(e$.Q,{...a,id:b,size:"small",trailingAction:B.TriangleDownIcon,"aria-haspopup":"dialog",className:mD.capitalize,children:[(0,m.jsx)("span",{className:"fgColor-muted mr-1",children:"Color:"}),t]})},u[7]=b,u[8]=s):s=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(o={width:"small",maxHeight:"medium"},u[9]=o):o=u[9],u[10]!==f?(l=e=>{e&&f(e.text)},u[10]=f,u[11]=l):l=u[11],u[12]!==t||u[13]!==g||u[14]!==n||u[15]!==s||u[16]!==l?(c=(0,m.jsx)(mR.X,{renderAnchor:s,className:mD.capitalize,overlayProps:o,title:"Select a color",placeholder:"Select a color",open:g,onOpenChange:y,items:t,selected:n,placeholderText:"Filter colors",onSelectedChange:l,onFilterChange:v}),u[12]=t,u[13]=g,u[14]=n,u[15]=s,u[16]=l,u[17]=c):c=u[17],u[18]!==i||u[19]!==c?(d=(0,m.jsxs)(iH.A,{children:[i,c]}),u[18]=i,u[19]=c,u[20]=d):d=u[20],d}try{mB.displayName||(mB.displayName="ColorPicker")}catch{}var mM=a(6020);let mO={warningIcon:"ReferencesTable-module__warningIcon--aAwMb",referenceTitle:"ReferencesTable-module__referenceTitle--RAQOR",referenceSubtitle:"ReferencesTable-module__referenceSubtitle--tHoXM",referenceTitleLink:"ReferencesTable-module__referenceTitleLink--p7dJl",headerText:"ReferencesTable-module__headerText--l4Rka"};function mF({resources:e,onDeleteResources:t,onUpdateResource:a,sizePercentage:n,onResourcesAdded:r,owner:i}){let s=(0,_.useMemo)(()=>Object.values(e.reduce((e,t)=>{let a=mV(t);return{...e,[a]:t}},{})),[e]),[o,l]=(0,_.useState)(!1),[c,d]=(0,_.useState)(null),u=(0,_.useRef)(null),[p,h]=(0,_.useState)([]),f=(0,_.useCallback)(()=>{p.length>0&&(t(p),h([]))},[t,p]),g=(0,_.useCallback)(()=>{p.length>0?h([]):h(s)},[p,s]),y=(0,_.useMemo)(()=>[{id:"select",header:()=>(0,m.jsx)(iq.A,{checked:p.length===s.length,indeterminate:p.length>0&&p.length<s.length,"aria-label":"Select all sources",value:"default",onChange:g}),width:"auto",renderCell:e=>(0,m.jsx)(iq.A,{checked:p.some(t=>t.id===e.id),"aria-label":"Select source",value:e.id,onChange:t=>{h(a=>t.target.checked?[...a,e]:a.filter(t=>t.id!==e.id))}})},{id:"id",header:()=>(0,m.jsx)("span",{className:mO.headerText,children:p.length>0?`${p.length} selected`:`${s.length} ${1===s.length?"source":"sources"}`}),rowHeader:!0,renderCell:e=>{switch(e.type){case"github_file":{let{filePath:t,fileName:a,fileUrl:n,sha:r}=(0,av.q5)(e);return(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"normal",children:[(0,m.jsx)(de,{attachment:e,className:"fgColor-muted"}),(0,m.jsxs)(J.B,{gap:"none",children:[(0,m.jsx)("div",{children:e.fileExists?(0,m.jsxs)(J.B,{direction:"horizontal",wrap:"wrap",children:[(0,m.jsx)(dU.A,{title:a,className:mO.referenceTitle,children:(0,m.jsx)(aA.A,{rel:"noopener",target:"_blank",href:n,className:mO.referenceTitleLink,children:a})}),r&&(0,m.jsx)(ej.A,{className:"ml-1",children:r.substring(0,7)})]}):(0,m.jsx)(dU.A,{title:a,className:mO.referenceTitle,children:a})}),(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:t,className:(0,x.$)(mO.referenceSubtitle,"fgColor-muted"),children:t})})]})]})}case"free_text":return(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"normal",children:[(0,m.jsx)(de,{attachment:e,className:"fgColor-muted"}),(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:e.name,maxWidth:300,className:mO.referenceTitle,children:e.name})})]});case"repository":return(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"normal",children:[(0,m.jsx)(rj.r,{square:"Organization"===e.ownerType,src:e.ownerAvatarUrl}),(0,m.jsxs)(J.B,{gap:"none",children:[(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:e.nwo,maxWidth:300,className:mO.referenceTitle,children:(0,m.jsx)(aA.A,{className:mO.referenceTitleLink,href:`/${e.nwo}`,rel:"noopener noreferrer",target:"_blank",children:e.nwo})})}),(0,m.jsx)("div",{className:(0,x.$)(mO.referenceSubtitle,"fgColor-attention"),children:"Attaching a large number of files may reduce response quality."})]})]});case"uploaded_text_file":return(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"normal",children:[(0,m.jsx)(de,{attachment:e,className:"fgColor-muted"}),(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:e.name,maxWidth:300,className:mO.referenceTitle,children:(0,m.jsx)(aA.A,{className:mO.referenceTitleLink,href:e.url,...eT.W.spacesV3UI?{download:e.name}:{rel:"noopener noreferrer",target:"_blank"},children:e.name})})})]});case"github_pull_request":case"github_issue":return(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"normal",children:[(0,m.jsx)("span",{children:(0,m.jsx)(de,{attachment:e,className:"fgColor-success"})}),(0,m.jsxs)(J.B,{gap:"none",children:[(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:e.title||"",className:mO.referenceTitle,children:(0,m.jsxs)(aA.A,{rel:"noopener",target:"_blank",href:e.url,className:mO.referenceTitleLink,children:[e.title," ",(0,m.jsx)("span",{className:"fgColor-muted text-light",children:`#${e.number}`})]})})}),(0,m.jsx)("div",{children:(0,m.jsx)(dU.A,{title:e.nwo||"",className:(0,x.$)(mO.referenceSubtitle,"fgColor-muted"),children:e.nwo})})]})]});case"media_content":return(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"normal",children:[(0,m.jsx)("span",{className:"fgColor-muted",children:(0,m.jsx)(de,{attachment:e,className:"fgColor-muted"})}),(0,m.jsx)(aA.A,{as:"button",className:mO.referenceTitleLink,ref:u,onClick:t=>{t.preventDefault(),d(e),l(!0)},"aria-haspopup":"dialog","aria-expanded":o,children:(0,m.jsx)(dU.A,{title:e.name,maxWidth:300,className:(0,x.$)(mO.referenceTitle),children:e.name})})]});default:return null}}},{id:"size",header:()=>(0,m.jsx)(mM.s,{children:"Size"}),align:"end",maxWidth:"auto",width:"growCollapse",renderCell:e=>(0,m.jsx)(m$,{row:e,onResourcesAdded:r,owner:i})},{id:"actions",header:()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(mM.s,{children:"Actions"}),(0,m.jsx)(e$.Q,{style:{visibility:p.length>0?"visible":"hidden"},size:"small","aria-label":"Remove selected resources",onClick:f,children:"Remove"})]}),maxWidth:"auto",align:"end",renderCell:e=>{let r="github_file"===e.type&&!e.fileExists;return(0,m.jsxs)(m.Fragment,{children:[r&&(0,m.jsx)(tP.K,{className:mO.warningIcon,icon:B.AlertIcon,variant:"invisible",size:"small","aria-label":"This file no longer exists"}),(0,m.jsx)(mU,{row:e,onEdit:a,onDelete:e=>t([e]),sizePercentage:n})]})}}],[p,s.length,g,o,f,a,n,r,i,t]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(sQ.X.Container,{children:(0,m.jsx)(sY.b,{"aria-labelledby":"references-title",cellPadding:"normal",data:s,columns:y})}),o&&c&&"media_content"===c.type&&(0,m.jsx)(aK.l,{onClose:()=>{d(null),l(!1)},position:{narrow:"fullscreen"},returnFocusRef:u,title:c.name,children:(0,m.jsx)(c9,{attachment:c})})]})}let m$=({row:e,onResourcesAdded:t,owner:a})=>{let[n,r]=(0,_.useState)(!1),[i,s]=(0,_.useState)(null),[o,l]=(0,_.useState)(!1),c=(0,_.useRef)(null),d=async e=>{l(!0);try{let t=await uV(e);s(t),r(!0)}finally{l(!1)}};return"repository"!==e.type?(0,m.jsx)("span",{className:"fgColor-muted",children:e.sizePercentage&&e.sizePercentage<1?"<1%":`${Math.round(e.sizePercentage||0)}%`}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(tP.K,{variant:"invisible",className:(0,x.$)(mO.warningIcon,"float-left"),ref:c,loading:o,"aria-label":"Copilot works best when working with fewer files. Click to choose specific files",onClick:async()=>{await d(e.repositoryId)},icon:B.AlertIcon}),n&&i&&(0,m.jsx)(mT,{isOpen:n,onClose:()=>r(!1),onResourcesAdded:t,owner:a,initialRepo:i,hideBackButton:!0})]})},mU=e=>{let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(33),{row:g,onDelete:y,onEdit:x,sizePercentage:v}=e,[b,j]=(0,_.useState)(null),C="";switch(g.type){case"github_pull_request":case"github_issue":C=g.title;break;case"github_file":C=g.filePath;break;case"repository":C=g.nwo;break;case"free_text":case"uploaded_text_file":case"media_content":C=g.name}let N=`Attachment actions: ${C}`;f[0]!==N?(t=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{"aria-label":N,title:"Attachment actions",icon:B.KebabHorizontalIcon,variant:"invisible"})}),f[0]=N,f[1]=t):t=f[1],f[2]!==g?(a="free_text"===g.type&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(tB.l.Item,{"aria-label":`Edit attachment: ${g.id}`,onSelect:()=>j(g),children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.PencilIcon,{})}),"Edit"]})}),f[2]=g,f[3]=a):a=f[3];let S=`Delete attachment: ${g.id}`;return f[4]!==y||f[5]!==g?(n=()=>y(g),f[4]=y,f[5]=g,f[6]=n):n=f[6],f[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.TrashIcon,{})}),f[7]=r):r=f[7],f[8]!==S||f[9]!==n?(i=(0,m.jsxs)(tB.l.Item,{"aria-label":S,variant:"danger",onSelect:n,children:[r,"Delete"]}),f[8]=S,f[9]=n,f[10]=i):i=f[10],f[11]!==a||f[12]!==i?(s=(0,m.jsx)(tD.W.Overlay,{align:"end",children:(0,m.jsxs)(tB.l,{children:[a,i]})}),f[11]=a,f[12]=i,f[13]=s):s=f[13],f[14]!==t||f[15]!==s?(o=(0,m.jsx)("div",{className:"d-md-none",children:(0,m.jsxs)(tD.W,{children:[t,s]})}),f[14]=t,f[15]=s,f[16]=o):o=f[16],f[17]!==g?(l="free_text"===g.type&&(0,m.jsx)(tP.K,{onClick:()=>j(g),variant:"invisible","aria-label":"Edit",icon:B.PencilIcon}),f[17]=g,f[18]=l):l=f[18],f[19]!==y||f[20]!==g?(c=(0,m.jsx)(tP.K,{onClick:()=>y(g),variant:"invisible","aria-label":"Delete",icon:B.TrashIcon}),f[19]=y,f[20]=g,f[21]=c):c=f[21],f[22]!==l||f[23]!==c?(d=(0,m.jsxs)("div",{className:"d-none d-md-flex flex-md-row",children:[l,c]}),f[22]=l,f[23]=c,f[24]=d):d=f[24],f[25]!==x||f[26]!==b||f[27]!==v?(u=b&&(0,m.jsx)(mE,{sizePercentage:v,resource:b,onSave:x,onClose:()=>j(null)}),f[25]=x,f[26]=b,f[27]=v,f[28]=u):u=f[28],f[29]!==d||f[30]!==u||f[31]!==o?(h=(0,m.jsxs)(m.Fragment,{children:[o,d,u]}),f[29]=d,f[30]=u,f[31]=o,f[32]=h):h=f[32],h},mV=e=>{switch(e.type){case"github_file":return`${e.repositoryId}@${e.filePath}@${e.sha}`;case"github_issue":case"github_pull_request":return e.url;default:return e.id}};try{mF.displayName||(mF.displayName="ReferencesTable")}catch{}try{m$.displayName||(m$.displayName="RowSize")}catch{}try{mU.displayName||(mU.displayName="RowActions")}catch{}let mW={page:"SpacesForm-module__page--xJLgE",header:"SpacesForm-module__header--sFJmP",headerTitleContainer:"SpacesForm-module__headerTitleContainer--QmU9Z",headerTitleDivider:"SpacesForm-module__headerTitleDivider--I6mxX",headerTitle:"SpacesForm-module__headerTitle--DT30e",referencesSizeProgressBar:"SpacesForm-module__referencesSizeProgressBar--nkA5V",referencesSizeText:"SpacesForm-module__referencesSizeText--lCv_W",contextHeader:"SpacesForm-module__contextHeader--fy6kM",attachmentsHeading:"SpacesForm-module__attachmentsHeading--jKNBX",form:"SpacesForm-module__form--WHZ7T",optionalLabel:"SpacesForm-module__optionalLabel--N9XDo",iconPreviewContainer:"SpacesForm-module__iconPreviewContainer--_iifR",iconPreviewTitle:"SpacesForm-module__iconPreviewTitle--X8BEQ",iconPreviewDescription:"SpacesForm-module__iconPreviewDescription--Oo7eF",iconAvatarContainer:"SpacesForm-module__iconAvatarContainer--lyzCt",textAreaWrapper:"SpacesForm-module__textAreaWrapper--zDXUW"};function mz(e,t){let a=new Map(e.map(e=>[e.id,e]));for(let n of t){if("repository"===n.type){let t=e.find(e=>"repository"===e.type&&e.repositoryId===n.repositoryId);if(t){a.set(t.id,{...t,markedForDestroy:!1});continue}}a.set(n.id,n)}return Array.from(a.values())}let mH="auburn";function mq({copilotSpace:e,onCancel:t}){let a,n,[r,i]=(0,_.useState)(!1),[s,o]=(0,_.useState)(null),l=(0,dF.S)(),{processFiles:c}=uS({onResourcesAdded:e=>{T(t=>[...t,...e])},onError:G,onUploadingChange:i}),d=async()=>{W?await l({title:"Unsaved changes",content:"You have unsaved changes. Are you sure you want to leave?",cancelButtonContent:"Keep editing",confirmButtonContent:"Discard changes",confirmButtonType:"danger"})&&t():t()};(0,lb.N)(()=>{let e=document.querySelector("header.AppHeader");e&&(e.style.display="none");let t=document.querySelector(".with-global-sidebar .application-main");return t&&(t.style.marginLeft="0"),()=>{e&&(e.style.display=""),t&&(t.style.marginLeft="")}},[]);let u=(0,c2.Z)(),{upsertCopilotSpace:h,isPending:f}=(0,d$.$)(e),[g,y]=(0,_.useState)(e?.iconColor??mH),{copilotSpacesConfig:{maxGeneralInstructionsLength:x,maxDescriptionLength:v}}=(0,U.X)(),[b,j]=(0,_.useState)(e?.name??""),[C,N]=(0,_.useState)(e?.description??""),[S,w]=(0,_.useState)(e?.generalInstructions??""),[I,T]=(0,_.useState)(e?.resources??[]),[k,E]=(0,_.useState)(null),A=k?.type==="Organization"||e?.ownerIsOrg?k?.name||e?.owner:void 0,[L,R]=(0,_.useState)({}),D=I.filter(e=>!e.markedForDestroy),P=(0,_.useRef)(null),M=!!e,O=(0,_.useMemo)(()=>D.reduce((e,t)=>e+(t.sizePercentage||0),0),[D]),F=(0,_.useId)(),$=O>100,V=(0,_.useMemo)(()=>({name:e?.name.trim()||"",description:(e?.description||"").trim(),generalInstructions:(e?.generalInstructions||"").trim(),owner:e?.owner||"",iconColor:e?.iconColor||mH,resources:e?.resources||[]}),[e]),W=(0,_.useMemo)(()=>b.trim()!==V.name||C.trim()!==V.description||S.trim()!==V.generalInstructions||g!==V.iconColor||I.some(e=>{if(e.markedForDestroy||!e.databaseId)return!0;if("free_text"===e.type){let t=V.resources.find(t=>t.databaseId===e.databaseId);return!t||e.text.trim()!==t.text.trim()||e.name.trim()!==t.name.trim()}}),[V,b,C,S,g,I]),z=(0,p.c)(3);z[0]!==W?(a=()=>{let e=e=>{W&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},n=[W],z[0]=W,z[1]=a,z[2]=n):(a=z[1],n=z[2]),(0,_.useEffect)(a,n);let H=e=>{T(t=>mz(t,e))},q=async()=>{if(!f)try{let e=await h({name:b,description:C,generalInstructions:S,ownerId:k?.id,ownerType:k?.type,resources:I,iconColor:g,iconType:"SpacesIcon"});R({});let t=(0,av.Cb)(e);return u(t)}catch(e){R(e??{})}};function G(e){R(t=>{let a={...t};for(let e of Object.keys(a))e.startsWith("resources.upload.")&&delete a[e];for(let[t,n]of e.entries())a[`resources.upload.${t+1}`]=n;return a})}let Q=Object.entries(L).filter(([e])=>e.startsWith("resources.upload.")).map(([,e])=>e),Y=(0,_.useCallback)(e=>{let t={...L};for(let a of e)t[a]&&delete t[a];R(t)},[L]),X=(0,_.useCallback)(e=>E(e),[]),Z=(0,_.useCallback)(e=>{c(e,{source:"drag-and-drop"})},[c]),ee=eT.W.spacesImagesEnabled,et=eT.W.customCopilotsFileUploads;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:mW.header,children:[(0,m.jsxs)("div",{className:mW.headerTitleContainer,children:[(0,m.jsx)(tP.K,{icon:B.XIcon,"aria-label":"Close",variant:"invisible",onClick:d,disabled:r}),(0,m.jsx)("div",{className:mW.headerTitleDivider,"aria-hidden":"true"}),(0,m.jsx)("h1",{className:mW.headerTitle,id:"page-title",children:M?"Edit space":"New space"})]}),(0,m.jsxs)(J.B,{align:"center",direction:"horizontal",gap:"condensed",children:[W&&e&&(0,m.jsxs)("div",{className:"fgColor-attention text-small mr-2",children:[(0,m.jsx)(B.DotFillIcon,{size:14}),(0,m.jsx)("span",{children:" Unsaved changes"})]}),(0,m.jsx)(e$.Q,{onClick:d,disabled:r,children:"Cancel"}),(0,m.jsx)(e$.Q,{type:"submit",variant:"primary",form:F,loading:f,disabled:r,children:"Save"})]})]}),(0,m.jsx)("div",{className:mW.page,children:(0,m.jsxs)("form",{id:F,className:mW.form,onSubmit:e=>{e?.preventDefault(),q()},children:[L.base&&(0,m.jsx)(K.l,{title:"Failed to save this space",description:L.base,variant:"critical",className:"mb-2"}),(0,m.jsxs)(iH.A,{children:[(0,m.jsx)(iH.A.Label,{children:"Name"}),(0,m.jsx)(sK.A,{autoFocus:!0,block:!0,name:"name",value:b,onChange:e=>{j(e.target.value),Y(["name","slug"])}}),L.name?(0,m.jsx)(iH.A.Validation,{variant:"error",children:(0,m.jsxs)("span",{children:["Name ",L.name]})}):L.slug?(0,m.jsx)(iH.A.Validation,{variant:"error",children:(0,m.jsx)("span",{children:av.j0})}):null,(0,m.jsx)(iH.A.Caption,{children:"Memorable name that helps you find your space."})]}),(0,m.jsxs)("div",{className:mW.iconPreviewContainer,children:[(0,m.jsx)("div",{className:mW.iconAvatarContainer,children:(0,m.jsx)(dy,{size:24,color:g})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:mW.iconPreviewTitle,children:"Icon"}),(0,m.jsx)("div",{className:mW.iconPreviewDescription,children:"Pick a color to make your space more recognizable."}),(0,m.jsx)(mB,{value:g,onChange:y})]})]}),!M&&(0,m.jsx)(um.E,{onSelect:X}),(0,m.jsxs)(iH.A,{children:[(0,m.jsxs)(iH.A.Label,{required:!1,requiredIndicator:!0,children:["Description ",(0,m.jsx)("span",{className:mW.optionalLabel,children:"(optional)"})]}),(0,m.jsx)(us.Ay,{block:!0,name:"description",value:C,rows:3,resize:"vertical",className:mW.textAreaWrapper,onChange:e=>{N(e.target.value),Y(["description"])}}),L.description?(0,m.jsx)(iH.A.Validation,{variant:"error",children:(0,m.jsxs)("span",{children:["Description ",L.description]})}):(0,m.jsx)(mG,{text:C,promptCharLimit:v}),(0,m.jsx)(iH.A.Caption,{children:"Displays beneath the title on your spaces overview page without impacting responses."})]}),(0,m.jsxs)(iH.A,{id:"instructions",children:[(0,m.jsxs)(iH.A.Label,{required:!1,requiredIndicator:!0,children:["Instructions ",(0,m.jsx)("span",{className:mW.optionalLabel,children:"(optional)"})]}),(0,m.jsx)(us.Ay,{block:!0,name:"instructions",value:S,resize:"vertical",className:mW.textAreaWrapper,onChange:e=>{w(e.target.value),Y(["general_instructions"])}}),L.general_instructions?(0,m.jsx)(iH.A.Validation,{variant:"error",children:(0,m.jsxs)("span",{children:["Instructions ",L.general_instructions]})}):(0,m.jsx)(mG,{text:S,promptCharLimit:x}),(0,m.jsx)(iH.A.Caption,{children:"Changes how Copilot responds on specific questions or tasks."})]}),(0,m.jsxs)("div",{id:"attachments",children:[(0,m.jsxs)("div",{className:mW.contextHeader,children:[(0,m.jsxs)("div",{className:mW.attachmentsHeading,children:["Attachments ",(0,m.jsx)("span",{className:mW.optionalLabel,children:"(optional)"})]}),(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"none",children:[O>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(up.z,{inline:!0,barSize:"small",progress:O,className:mW.referencesSizeProgressBar,"aria-hidden":"true"}),(0,m.jsx)("span",{className:"sr-only",children:`${Math.max(0,Math.round(100-O))}% remaining attachment capacity`}),(0,m.jsxs)("span",{className:mW.referencesSizeText,children:[O<1?"<1":Math.round(O),"%"]})]}),(0,m.jsx)(mL,{sizePercentage:O,owner:A,onResourcesAdded:H,resourcesToSave:I,onError:G,initialRepo:s,onRepoSelect:o,onUploadingChange:e=>{e&&G([]),i(e)},children:(0,m.jsx)(e$.Q,{size:"small",leadingVisual:B.PlusIcon,ref:P,"aria-label":"Add attachment",title:"Add attachment",disabled:r,children:"Add"})})]})]}),$&&(0,m.jsx)(oW,{}),L["resources.repository"]&&(0,m.jsx)(oz,{}),Q.length>0&&(0,m.jsx)(oH,{errorMessages:Q,onDismiss:()=>G([]),className:"mb-3"}),0===D.length?(0,m.jsx)("div",{children:(0,m.jsxs)(aL.E,{border:!0,spacious:!0,children:[(0,m.jsx)(aL.E.Visual,{children:(0,m.jsx)(B.PaperclipIcon,{size:24})}),(0,m.jsx)(aL.E.Description,{children:"Add text, code files, or GitHub data to set a permanent context"})]})}):(0,m.jsx)(mF,{sizePercentage:O,resources:D,onDeleteResources:function(e){let t=[];T(a=>{for(let n of(t=[...a],e))t=n.databaseId?t.map(e=>n.databaseId===e.databaseId?{...e,markedForDestroy:!0}:e):t.filter(e=>e.id!==n.id);return t})},onUpdateResource:function(e){T(I.map(t=>t.id===e.id?e:t))},onResourcesAdded:H})]})]})}),(et||ee)&&(0,m.jsx)(uu.A,{onFilesDrop:Z,isUploading:r})]})}function mG(e){let t,a,n,r,i=(0,p.c)(10),{text:s,promptCharLimit:o}=e,l=s.length>o;i[0]!==s.length?(t=s.length.toLocaleString(),i[0]=s.length,i[1]=t):t=i[1],i[2]!==o?(a=o.toLocaleString(),i[2]=o,i[3]=a):a=i[3],i[4]!==t||i[5]!==a?(n=(0,m.jsxs)(m.Fragment,{children:[t," / ",a," characters"]}),i[4]=t,i[5]=a,i[6]=n):n=i[6];let c=n;return i[7]!==c||i[8]!==l?(r=(0,m.jsx)(m.Fragment,{children:l?(0,m.jsx)(iH.A.Validation,{variant:"error",children:c}):(0,m.jsx)(iH.A.Caption,{children:c})}),i[7]=c,i[8]=l,i[9]=r):r=i[9],r}try{mq.displayName||(mq.displayName="SpacesForm")}catch{}try{mG.displayName||(mG.displayName="CharacterCount")}catch{}function mK(){let e,t,a,n,r=(0,p.c)(14),i=(0,c2.Z)(),s=(0,av.iI)(),{isPending:o,data:l,error:c}=(0,ab.Ao)(s);r[0]!==l||r[1]!==i?(e=function(){i((0,av.Cb)(l))},r[0]=l,r[1]=i,r[2]=e):e=r[2];let d=e;if(r[3]!==l||r[4]!==i?(t=()=>{l&&!l.editable&&i((0,av.Cb)(l))},a=[l,i],r[3]=l,r[4]=i,r[5]=t,r[6]=a):(t=r[5],a=r[6]),(0,_.useEffect)(t,a),c instanceof ab.i9){let e;return r[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(c5,{}),r[7]=e):e=r[7],e}if(c instanceof ab.OW){let e;return r[8]!==c.protectedOrganizations?(e=(0,m.jsx)(c5,{protectedOrganizations:c.protectedOrganizations}),r[8]=c.protectedOrganizations,r[9]=e):e=r[9],e}if(o){let e;return r[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(dp,{}),r[10]=e):e=r[10],e}return r[11]!==l||r[12]!==d?(n=l?.editable?(0,m.jsx)(mq,{copilotSpace:l,onCancel:d}):(0,m.jsx)(m.Fragment,{}),r[11]=l,r[12]=d,r[13]=n):n=r[13],n}try{mK.displayName||(mK.displayName="SpacesEditPage")}catch{}function mQ(e,t){var a=["name","description","owner"],n=!1;if(!t.trim())return!0;let r=n?t.trim():t.toLowerCase().trim();return a.some(t=>{let a;return null!=(a="function"==typeof t?t(e):e[t])&&(n?String(a):String(a).toLowerCase()).includes(r)})}let mY={searchContainer:"SearchInput-module__searchContainer--s98GH",searchInputWrapper:"SearchInput-module__searchInputWrapper--g7WTe",searchInput:"SearchInput-module__searchInput--txR9a"};function mJ(e){let t,a,n,r,i,s,o=(0,p.c)(20),{onSearch:l,placeholder:c,"aria-label":d,disabled:u,debounceDelay:h}=e,f=void 0===c?"Search...":c,g=void 0===d?"Search":d,y=void 0!==u&&u,[x,v]=(0,_.useState)(""),b=(0,uB.d)(l,void 0===h?200:h);o[0]!==b||o[1]!==l?(t=e=>{let t=e.currentTarget.value;v(t),""===t.trim()?l(""):b(t)},o[0]=b,o[1]=l,o[2]=t):t=o[2];let j=t;o[3]!==l?(a=()=>{v(""),l("")},o[3]=l,o[4]=a):a=o[4];let C=a;return o[5]!==g?(n=(0,m.jsx)(iH.A.Label,{visuallyHidden:!0,children:g}),o[5]=g,o[6]=n):n=o[6],o[7]!==C||o[8]!==y||o[9]!==x?(r=""!==x?(0,m.jsx)(tP.K,{icon:B.XCircleFillIcon,onClick:C,"aria-label":"Clear search",variant:"invisible",size:"small",disabled:y}):void 0,o[7]=C,o[8]=y,o[9]=x,o[10]=r):r=o[10],o[11]!==j||o[12]!==f||o[13]!==x||o[14]!==r?(i=(0,m.jsx)(sK.A,{className:mY.searchInput,placeholder:f,value:x,onChange:j,leadingVisual:B.SearchIcon,trailingAction:r}),o[11]=j,o[12]=f,o[13]=x,o[14]=r,o[15]=i):i=o[15],o[16]!==y||o[17]!==n||o[18]!==i?(s=(0,m.jsx)("div",{className:mY.searchContainer,children:(0,m.jsxs)(iH.A,{className:mY.searchInputWrapper,disabled:y,children:[n,i]})}),o[16]=y,o[17]=n,o[18]=i,o[19]=s):s=o[19],s}try{mJ.displayName||(mJ.displayName="SearchInput")}catch{}var mX=a(5420);let mZ={metadata:"SpacesCard-module__metadata--sQAQe",metadataItem:"SpacesCard-module__metadataItem--wvRpg"};function m0(e){let t,a,n,r,i,s,o,l,c,d,u,h,f=(0,p.c)(37),{copilotSpace:g,onDelete:y,onClick:x}=e,_=g.ownerIsOrg?B.OrganizationIcon:B.PersonIcon,v="org_public"===g.visibility?B.PeopleIcon:B.LockIcon;f[0]!==g.baseRole||f[1]!==g.visibility?(t=c3(g.visibility,g.baseRole),f[0]=g.baseRole,f[1]=g.visibility,f[2]=t):t=f[2];let b=t,j=!eT.W.spacesPermissionsTabEnabled||g.adminable||g.editable,C=g.owner?`${g.owner}/${g.id}`:g.id;f[3]!==g?(a=(0,av.Cb)(g),f[3]=g,f[4]=a):a=f[4];let N=g.iconColor;return f[5]!==N?(n=(0,m.jsx)(tW.Icon,{icon:eA.Dy,color:N}),f[5]=N,f[6]=n):n=f[6],f[7]!==g.name?(r=(0,m.jsx)(tW.Heading,{children:g.name}),f[7]=g.name,f[8]=r):r=f[8],f[9]!==g.description?(i=(0,m.jsx)(tW.Description,{children:g.description}),f[9]=g.description,f[10]=i):i=f[10],f[11]!==g||f[12]!==y||f[13]!==j?(s=j&&(0,m.jsx)(tW.Menu,{children:(0,m.jsx)(ut,{copilot:g,onDelete:y})}),f[11]=g,f[12]=y,f[13]=j,f[14]=s):s=f[14],f[15]!==_?(o=(0,m.jsx)(_,{}),f[15]=_,f[16]=o):o=f[16],f[17]!==g.owner||f[18]!==o?(l=(0,m.jsxs)("div",{className:mZ.metadataItem,children:[o,g.owner]}),f[17]=g.owner,f[18]=o,f[19]=l):l=f[19],f[20]!==v?(c=(0,m.jsx)(v,{}),f[20]=v,f[21]=c):c=f[21],f[22]!==c||f[23]!==b?(d=(0,m.jsxs)("div",{className:mZ.metadataItem,children:[c,b]}),f[22]=c,f[23]=b,f[24]=d):d=f[24],f[25]!==l||f[26]!==d?(u=(0,m.jsx)(tW.Metadata,{children:(0,m.jsxs)("div",{className:mZ.metadata,children:[l,d]})}),f[25]=l,f[26]=d,f[27]=u):u=f[27],f[28]!==x||f[29]!==u||f[30]!==C||f[31]!==a||f[32]!==n||f[33]!==r||f[34]!==i||f[35]!==s?(h=(0,m.jsxs)(tW,{href:a,onClick:x,children:[n,r,i,s,u]},C),f[28]=x,f[29]=u,f[30]=C,f[31]=a,f[32]=n,f[33]=r,f[34]=i,f[35]=s,f[36]=h):h=f[36],h}try{(l=function(e){let t,a,n,r,i=(0,p.c)(5),{onClick:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(tW.Icon,{icon:B.PlusIcon}),a=(0,m.jsx)(tW.Heading,{children:"Create a new space"}),n=(0,m.jsx)(tW.Description,{children:"Add attachments, repositories, and more."}),i[0]=t,i[1]=a,i[2]=n):(t=i[0],a=i[1],n=i[2]),i[3]!==s?(r=(0,m.jsxs)(tW,{onClick:s,children:[t,a,n]}),i[3]=s,i[4]=r):r=i[4],r}).displayName||(l.displayName="NewSpacesCard")}catch{}try{m0.displayName||(m0.displayName="SpacesCard")}catch{}let m1={banner:"SpacesListPage-module__banner--OV17m",underlineNav:"SpacesListPage-module__underlineNav--vpeNw",listContainer:"SpacesListPage-module__listContainer--il2mD"},m2=["personal","org","starred"];function m3({copilotSpaces:e}){let t,a=(0,W.Pk)(),n=(0,ef.Zp)(),{ssoOrganizations:r}=a,{copilotSpacesConfig:{userHasOrgs:i}}=(0,U.X)(),[s]=(0,c2.o)(),[o,l]=(0,_.useState)(""),c=s.get("tab");"org"!==(t=m2.includes(c)?c:"personal")||i||(t="personal");let d=r.map(e=>e.login),[u,p]=(0,_.useState)(null),h=void 0===e,f=(0,_.useMemo)(()=>e?e.filter(e=>!!("starred"===t&&e.starred||"personal"===t&&!e.ownerIsOrg||"org"===t&&e.ownerIsOrg)&&mQ(e,o)):[],[e,t,o]),{personalCount:g,orgCount:y,starredCount:x}=(0,_.useMemo)(()=>{if(!e)return{personalCount:0,orgCount:0,starredCount:0};let t=o.trim()?e.filter(e=>mQ(e,o)):e;return{personalCount:t.filter(e=>!e.ownerIsOrg).length,orgCount:t.filter(e=>e.ownerIsOrg).length,starredCount:t.filter(e=>e.starred).length}},[e,o]),{mutateAsync:v}=(0,ab.$7)(),b=()=>{(0,ta.BI)("dotcom_chat.activate",{target:"SIDEBAR_CUSTOM_COPILOT_SELECTED",mode:"immersive"})},j=e?.length===0&&!h,C=e&&e.length>0&&f?.length===0&&!h,N=()=>"personal"===t?"personal":"org"===t?"organization":"starred"===t?"starred":"";return(0,m.jsxs)(aw.t,{fallback:(0,m.jsx)(aD,{regionName:"Spaces"}),children:[(0,m.jsx)(uc,{}),u&&(0,m.jsxs)(dL.A,{variant:"danger",children:[(0,m.jsx)(B.AlertIcon,{}),"There was a problem deleting your space."]}),(0,m.jsxs)(tI.Container,{children:[(0,m.jsx)(tI.Banner,{children:r.length>0&&!(0,Y.G7)("global_sso_banner")&&(0,m.jsx)("div",{className:m1.banner,children:(0,m.jsx)(z.x,{protectedOrgs:d,redirectURI:()=>`/search/refresh_blackbird_caches?return_to=${encodeURIComponent(window.location.href)}`,useFullWidthStyle:!0})})}),(0,m.jsxs)(tI.Header,{children:[(0,m.jsx)(tI.Icon,{icon:(0,m.jsx)(eA.Dy,{size:32})}),(0,m.jsx)(tI.Title,{children:"Set context once. Chat again and again"}),(0,m.jsx)(tI.Description,{children:"Create and share a custom Copilot experience using a collection of GitHub repositories, files, and other content."})]}),(0,m.jsxs)("div",{className:m1.listContainer,children:[(0,m.jsx)(mJ,{onSearch:e=>{l(e)},placeholder:"Search","aria-label":"Search spaces by name, description, or owner"}),(0,m.jsx)("div",{className:m1.underlineNav,children:(0,m.jsxs)(mX.O,{"aria-label":"Spaces",children:[(0,m.jsx)(mX.O.Item,{as:em.N,to:{search:"?tab=personal"},"aria-current":"personal"===t?"page":void 0,icon:B.SmileyIcon,counter:g,children:"Yours"}),i&&(0,m.jsx)(mX.O.Item,{as:em.N,to:{search:"?tab=org"},"aria-current":"org"===t?"page":void 0,icon:B.OrganizationIcon,counter:y,children:"Organizations"}),(0,m.jsx)(mX.O.Item,{as:em.N,to:{search:"?tab=starred"},"aria-current":"starred"===t?"page":void 0,icon:B.StarIcon,counter:x,children:"Starred"})]})}),(0,m.jsx)(tI.Section,{children:(0,m.jsx)(tI.Section.Grid,{loading:h,children:j?(0,m.jsxs)(tI.Section.Grid.Empty,{children:[(0,m.jsx)("p",{children:"Spaces you create will appear here."}),(0,m.jsx)(e$.Q,{onClick:()=>{n(eI.QT)},children:"New space"})]}):C?(0,m.jsxs)(tI.Section.Grid.Empty,{children:["starred"===N()?(0,m.jsx)(B.StarIcon,{size:24}):(0,m.jsx)(B.SearchIcon,{size:24}),(0,m.jsxs)("p",{children:["No ",N()," spaces found."]})]}):f?.map?.(e=>(0,m.jsx)(m0,{copilotSpace:e,onDelete:async()=>{try{await v(e),p(null)}catch(e){p(e instanceof Error?e:Error(String(e)))}},onClick:b},e.owner?`${e.owner}/${e.id}`:e.id))})})]})]})]})}try{m3.displayName||(m3.displayName="SpacesListPage")}catch{}function m4(){let e,t,a,n=(0,p.c)(6),r=(0,c2.Z)();if(n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0],(0,_.useEffect)(m5,e),eT.W.spacesV3UI){let e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(l7,{title:"Not found",description:"Please try a different URL."}),n[1]=e):e=n[1],e}n[2]!==r?(t=function(){r(eI.VR)},n[2]=r,n[3]=t):t=n[3];let i=t;return n[4]!==i?(a=(0,m.jsx)(mq,{onCancel:i}),n[4]=i,n[5]=a):a=n[5],a}function m5(){eT.W.spacesV3UI||(0,ta.BI)("copilot_spaces.create_new_space_form_visited",{})}try{m4.displayName||(m4.displayName="SpacesNewPage")}catch{}let m6={container:"InlineEditableText-module__container--WzhXl",textarea:"InlineEditableText-module__textarea--eQ4Ve",placeholder:"InlineEditableText-module__placeholder--O8BTA",readModeContainer:"InlineEditableText-module__readModeContainer--pUteb",editIcon:"InlineEditableText-module__editIcon--butqN",readModeText:"InlineEditableText-module__readModeText--KKjpb"},m7={circleProgressBar:"CircleProgressBar-module__circleProgressBar--G3rAf",exceeded:"CircleProgressBar-module__exceeded--L2aCx"};function m8({value:e}){let t=e>100;return(0,m.jsx)("div",{className:(0,x.$)(m7.circleProgressBar,t?m7.exceeded:""),style:{"--progress":`${e}%`},children:(0,m.jsxs)("progress",{value:e,max:"100",style:{visibility:"hidden",height:0,width:0},children:[e,"%"]})})}try{m8.displayName||(m8.displayName="CircleProgressBar")}catch{}let m9={actionButtons:"InlineEditActions-module__actionButtons--izozz",cancelButton:"InlineEditActions-module__cancelButton--E7NPd",saveButton:"InlineEditActions-module__saveButton--AS3Qq",line:"InlineEditActions-module__line--XZBh8",characterCountStatus:"InlineEditActions-module__characterCountStatus--W1w1U",characterCountText:"InlineEditActions-module__characterCountText--KXFOX"};function pe({value:e,maxLength:t,onSave:a,onCancel:n}){let r=!!(t&&t>0),i=r&&e.length>(t||0);return(0,m.jsxs)("div",{className:m9.actionButtons,children:[r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(pa,{text:e,promptCharLimit:t||0}),(0,m.jsx)(pt,{})]}),(0,m.jsx)(tP.K,{className:m9.cancelButton,variant:"invisible",icon:B.XIcon,"aria-label":"Cancel",size:"small",onClick:n}),(0,m.jsx)(tP.K,{className:m9.saveButton,variant:"invisible",icon:B.CheckIcon,"aria-label":"Save",disabled:i,size:"small",onClick:a})]})}let pt=()=>(0,m.jsx)("div",{className:m9.line});function pa({text:e,promptCharLimit:t}){return(0,m.jsxs)("div",{className:m9.characterCountStatus,children:[(0,m.jsx)(m8,{value:e.length/t*100}),(0,m.jsx)("span",{className:m9.characterCountText,children:(t-e.length).toLocaleString()})]})}try{pe.displayName||(pe.displayName="InlineEditActions")}catch{}try{pt.displayName||(pt.displayName="Line")}catch{}try{pa.displayName||(pa.displayName="CharacterCountStatus")}catch{}function pn({value:e,onChange:t,maxLength:a=null,placeholder:n="",className:r="",defaultEditing:i=!1}){let[s,o]=(0,_.useState)(i),[l,c]=(0,_.useState)(e),[d,u]=(0,_.useState)(null),p=(0,_.useRef)(null),h=(0,_.useRef)(null),f=(0,_.useRef)(null);(0,_.useEffect)(()=>{let e=e=>{s&&f.current&&!f.current.contains(e.target)&&(o(!1),t(l.trim()))};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s,l,f,t]),(0,_.useEffect)(()=>{p.current&&u(p.current.offsetHeight)},[e]),(0,_.useEffect)(()=>{s&&h.current&&(h.current.focus(),h.current.style.height=`${d}px`)},[s,d]);let g=()=>{o(!1),t(l.trim())};return(0,m.jsxs)("div",{ref:f,className:(0,x.$)(m6.container,r),children:[s?(0,m.jsx)(us.Ay,{ref:h,value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())},placeholder:n,className:m6.textarea,style:{height:d||"auto"},resize:"none"}):(0,m.jsxs)("button",{ref:p,onClick:()=>o(!0),className:m6.readModeContainer,children:[(0,m.jsx)("span",{className:(0,x.$)(m6.readModeText,r),children:e?.trim()||(0,m.jsx)("span",{className:m6.placeholder,children:n})}),(0,m.jsx)(B.PencilIcon,{className:m6.editIcon,size:16})]}),s&&(0,m.jsx)(pe,{value:l,maxLength:a,onSave:g,onCancel:()=>{o(!1),c(e)}})]})}try{pn.displayName||(pn.displayName="InlineEditableText")}catch{}function pr(e){return{id:e.databaseId,copilot_chat_attachment_id:e.copilotChatAttachmentId,resource_type:e.type,_destroy:!0,metadata:(0,ub.M)(e)}}let pi={instructionsContainer:"InstructionsDialog-module__instructionsContainer--Pif1O",grow:"InstructionsDialog-module__grow--NEqmK"};function ps({copilotSpace:e,onClose:t,onSaved:a,returnFocusRef:n}){let{upsertCopilotSpace:r,isPending:i}=(0,d$.$)(e),[s,o]=(0,_.useState)(e.generalInstructions??""),[l,c]=(0,_.useState)(null);async function d(){try{let e=await r({generalInstructions:s});a?.(e),t()}catch(e){e instanceof Error?c(e.message):c("Failed to save instructions")}}function u(){o(e.generalInstructions??""),t()}return(0,m.jsx)(aK.l,{width:"xlarge",height:"large",title:"Instructions",onClose:u,returnFocusRef:n,position:{narrow:"fullscreen"},renderBody:()=>(0,m.jsxs)("div",{className:pi.instructionsContainer,children:[l&&(0,m.jsx)(K.l,{variant:"critical",title:l,className:"mb-2"}),(0,m.jsxs)(iH.A,{className:pi.grow,disabled:!e.editable,children:[(0,m.jsx)(iH.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,m.jsx)(us.Ay,{block:!0,value:s,onChange:e=>o(e.target.value),placeholder:"Set up instructions for Copilot in this space",resize:"none",className:pi.grow}),(0,m.jsx)(po,{text:s,promptCharLimit:4e3})]})]}),renderFooter:()=>e.editable&&(0,m.jsx)(ui.m,{onCancel:u,onSave:d,isLoading:i,loadingAnnouncement:"Saving instructions"})})}function po(e){let t,a,n,r,i=(0,p.c)(10),{text:s,promptCharLimit:o}=e,l=s.length>o;i[0]!==s.length?(t=s.length.toLocaleString(),i[0]=s.length,i[1]=t):t=i[1],i[2]!==o?(a=o.toLocaleString(),i[2]=o,i[3]=a):a=i[3],i[4]!==t||i[5]!==a?(n=(0,m.jsxs)(m.Fragment,{children:[t," / ",a," characters"]}),i[4]=t,i[5]=a,i[6]=n):n=i[6];let c=n;return i[7]!==c||i[8]!==l?(r=l?(0,m.jsx)(iH.A.Validation,{variant:"error",children:c}):(0,m.jsx)(iH.A.Caption,{children:c}),i[7]=c,i[8]=l,i[9]=r):r=i[9],r}try{ps.displayName||(ps.displayName="InstructionsDialog")}catch{}try{po.displayName||(po.displayName="CharacterCount")}catch{}let pl={header:"SpacesConversation-module__header--yYw2C",spaceDescription:"SpacesConversation-module__spaceDescription--yTlFM",chatInput:"SpacesConversation-module__chatInput--juHnz",instructions:"SpacesConversation-module__instructions--YEbs0",instructionsHeader:"SpacesConversation-module__instructionsHeader--JURtJ",instructionsIcon:"SpacesConversation-module__instructionsIcon--M9GHq",instructionsTitle:"SpacesConversation-module__instructionsTitle--C3f26",instructionsContent:"SpacesConversation-module__instructionsContent--pQ5qq",instructionsEmptyState:"SpacesConversation-module__instructionsEmptyState--BMxEo",content:"SpacesConversation-module__content--PbVzu",tabContainer:"SpacesConversation-module__tabContainer--dIRV0",underlineNav:"SpacesConversation-module__underlineNav--mhAGr",attachButton:"SpacesConversation-module__attachButton--mbw_3",tabEmptyContainer:"SpacesConversation-module__tabEmptyContainer--CfL1a",tabEmptyTitle:"SpacesConversation-module__tabEmptyTitle--cG4jw",tabEmptyText:"SpacesConversation-module__tabEmptyText--ITZUD",tabContent:"SpacesConversation-module__tabContent--xIi_S",conversationsList:"SpacesConversation-module__conversationsList--Ht70O",conversationItem:"SpacesConversation-module__conversationItem--NUP87",conversationItemMenuOpen:"SpacesConversation-module__conversationItemMenuOpen--lR7DS",conversationItemLeftColumn:"SpacesConversation-module__conversationItemLeftColumn--hsYf2",conversationName:"SpacesConversation-module__conversationName--i4vaf",conversationTimestamp:"SpacesConversation-module__conversationTimestamp--bNAHX",text:"SpacesConversation-module__text--hcIuX",referencesSizeProgressBar:"SpacesConversation-module__referencesSizeProgressBar--AFM2H",referencesSizeText:"SpacesConversation-module__referencesSizeText--nQQDT",descriptionText:"SpacesConversation-module__descriptionText--THb3R",titleText:"SpacesConversation-module__titleText--YhR8O"};function pc({customCopilotId:e,selectedThreadID:t,textAreaRef:a}){let{currentTopic:n,messages:r,streamingMessage:i,ambientError:s,threads:o}=(0,W.Pk)(),l=(0,q.b)(),[c,d]=(0,ef.ok)(),u=(0,og.G)(),h=c.get("tab")||"attachments",[f,y]=(0,_.useState)(!1),[x,v]=(0,_.useState)(null),b=(0,_.useRef)(null),[j,C]=(0,_.useState)(null),[N,S]=(0,_.useState)([]),[w,I]=(0,_.useState)(null),[T,k]=(0,_.useState)(null),[E,A]=(0,_.useState)(!1),[L,R]=(0,_.useState)([]),[P,M]=(0,_.useState)(null),O=of((0,_.useRef)(n),r.length),{isPending:F,data:$,error:V}=(0,ab.Ao)(e),{upsertCopilotSpace:z,error:H}=(0,d$.$)(j||void 0),{deleteCopilotSpaceResources:G,error:Q}=(e=>{let t,a,n,r,i,s,o,l=(0,p.c)(15),c=(0,dd.jE)(),[d,u]=(0,_.useState)(!1);l[0]!==e?(t={mutationFn:async t=>{if(!e)return;u(!0);let a=(0,av.fn)(e),n={custom_copilot:{resources_attributes:t.map(pr)}},r=await (0,tl.lS)(a,{method:"PUT",body:n}),i=await r.json();if(!r.ok&&404!==r.status)throw Error("Unable to delete resources.");return i}},l[0]=e,l[1]=t):t=l[1];let m=(0,nn.n)(t);return l[2]!==m?({mutateAsync:a,isPending:n,...r}=m,l[2]=m,l[3]=a,l[4]=n,l[5]=r):(a=l[3],n=l[4],r=l[5]),l[6]!==e||l[7]!==n||l[8]!==c||l[9]!==d?(i=()=>{e&&d&&!n&&(u(!1),c.invalidateQueries({queryKey:(0,dc.dp)(e)}))},s=[d,n,e,c],l[6]=e,l[7]=n,l[8]=c,l[9]=d,l[10]=i,l[11]=s):(i=l[10],s=l[11]),(0,_.useEffect)(i,s),l[12]!==a||l[13]!==r?(o={deleteCopilotSpaceResources:a,...r},l[12]=a,l[13]=r,l[14]=o):o=l[14],o})(j||void 0);(0,_.useEffect)(()=>{(0,g.D)(j?.name?`${j.name} \xb7 Spaces \xb7 GitHub Copilot`:"Spaces \xb7 GitHub Copilot")},[j?.name]);let{processFiles:Y}=uS({onResourcesAdded:e=>void ed(e),onError:R,onUploadingChange:A}),{copilotSpacesConfig:{maxResourceCount:X,maxDescriptionLength:Z}}=(0,U.X)(),ee=H||V||T||Q,et=(0,_.useRef)(!1),ea=N.filter(e=>!e.markedForDestroy).length,en=(0,_.useMemo)(()=>j?l.sortAndFilterThreads(o,t=>t.customCopilotOwner===e.owner&&t.customCopilotID===e.id).slice(0,10):[],[o,e,l,j]),er=(0,_.useMemo)(()=>j?j.resources.reduce((e,t)=>e+(t.sizePercentage||0),0):0,[j]);(0,_.useEffect)(()=>{$&&(C($),S(e=>$.resources?.filter(t=>!e.find(e=>e.id===t.id&&e.markedForDestroy))||[]),l.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:$})),l.clearCurrentReferences(["image"])},[$,l]),(0,_.useEffect)(()=>()=>{et.current||(l.clearCurrentReferences(),et.current=!1)},[l,e]);let ei=(0,_.useCallback)(async e=>{et.current=!0,await O(e)},[O]),es=(0,_.useCallback)(e=>{d({tab:e},{replace:!0})},[d]),eo=(0,_.useCallback)(e=>{l.deleteThread(e)},[l]);async function el(e){let t=[];if(S(a=>{for(let n of(t=[...a],e))t=n.databaseId?t.map(e=>n.databaseId===e.databaseId?{...e,markedForDestroy:!0}:e):t.filter(e=>e.id!==n.id);return t}),j)try{await G(e),k(null)}catch{S(t=>[...t,...e])}}async function ec(e){let t=[];if(S(a=>t=a.map(t=>t.id===e.id?e:t)),j)try{await z({...j,resources:t}),k(null)}catch{S(j.resources)}}let ed=(0,_.useCallback)(async e=>{let t=[];S(a=>t=mz(a,e));try{await z({...j,resources:t}),k(null)}catch{j&&S(j.resources)}},[j,z]),eu=(0,_.useCallback)(()=>{k(`You can select a maximum of ${X} sources`)},[X]),em=(0,_.useCallback)(e=>{Y(e,{source:"drag-and-drop"})},[Y]),ep=(0,_.useCallback)(async e=>{if(j&&e){I(e);try{let t=await z({name:e});C(t),l.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:t}),I(null),k(null)}catch{C(j),l.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:j}),I(null)}}},[j,z,l]),eh=(0,_.useCallback)(async e=>{if(j){C({...j,description:e});try{let t=await z({description:e});C(t),l.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:t})}catch{C(j),l.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:j})}}},[j,z,l]);if(V instanceof ab.i9)return(0,m.jsx)(c5,{});if(F||!j)return(0,m.jsx)(l4,{});let eg=j.ownerIsOrg?j.owner:void 0,ey=w??j.name,ex=(0,av.Hh)($);return(0,m.jsxs)(m.Fragment,{children:[!eT.W.immersiveAppShell&&(0,m.jsx)(uc,{}),(0,m.jsx)(aw.t,{fallback:(0,m.jsx)(aD,{regionName:"This space"}),children:(0,m.jsxs)(D.Container,{width:"small",children:[(0,m.jsxs)("div",{className:pl.header,children:[(0,m.jsx)("h1",{children:j.editable?(0,m.jsx)(pn,{className:pl.titleText,value:ey,onChange:ep}):(0,m.jsx)("span",{className:pl.text,children:ey})}),j.editable?(0,m.jsx)(pn,{className:pl.descriptionText,placeholder:"Enter a description...",value:j.description||"",maxLength:Z,onChange:eh}):j.description&&(0,m.jsx)("p",{className:pl.spaceDescription,children:j.description})]}),(0,m.jsxs)("div",{className:pl.chatInput,children:[s&&(0,m.jsx)(ox.P,{ambientError:s}),ex&&(0,m.jsx)(oW,{}),!ex&&(0,m.jsx)(tk.V,{textAreaRef:a,onSubmit:ei,isStreaming:!!i,size:"large",showModelPicker:!0,onNewThreadSelected:u},t)]}),(0,m.jsxs)("button",{ref:b,className:pl.instructions,onClick:()=>y(!0),"aria-haspopup":"dialog","aria-expanded":f,children:[(0,m.jsxs)("div",{className:pl.instructionsHeader,children:[(0,m.jsx)(B.SlidersIcon,{size:16,className:pl.instructionsIcon}),(0,m.jsx)("h2",{className:pl.instructionsTitle,children:"Instructions"})]}),j.generalInstructions?(0,m.jsx)("p",{className:pl.instructionsContent,children:j.generalInstructions}):(0,m.jsx)("p",{className:pl.instructionsEmptyState,children:"Set up instructions for Copilot in this space"})]}),ee&&(0,m.jsx)(K.l,{title:T?"Maximum source count reached":"Failed to save space",variant:"critical",description:"string"==typeof ee?ee:"object"==typeof ee&&null!==ee&&"base"in ee?String(ee.base):ee instanceof Error?ee.message:"An error occurred"}),L.length>0&&(0,m.jsx)(oH,{errorMessages:L,onDismiss:()=>R([])}),(0,m.jsxs)("div",{className:pl.content,children:[(0,m.jsxs)("div",{className:pl.tabContainer,children:[(0,m.jsx)("div",{className:pl.underlineNav,children:(0,m.jsxs)(mX.O,{"aria-label":"Space content",children:[(0,m.jsx)(mX.O.Item,{"aria-current":"attachments"===h?"page":void 0,onClick:()=>es("attachments"),counter:ea,children:"Sources"}),(0,m.jsx)(mX.O.Item,{"aria-current":"conversations"===h?"page":void 0,onClick:()=>es("conversations"),counter:en.length,children:"Conversations"})]})}),(0,m.jsxs)(J.B,{direction:"horizontal",align:"center",gap:"none",children:[er>80&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(up.z,{inline:!0,barSize:"small",progress:er,className:pl.referencesSizeProgressBar,"aria-hidden":"true"}),(0,m.jsx)("span",{className:"sr-only",children:`${Math.max(0,Math.round(100-er))}% remaining attachment capacity`}),(0,m.jsxs)("span",{className:pl.referencesSizeText,children:[er<1?"<1":Math.round(er),"%"]})]}),j.editable&&(0,m.jsx)("div",{className:pl.attachButton,children:ea>=X?(0,m.jsx)(e$.Q,{leadingVisual:B.PlusIcon,onClick:eu,children:"Add sources"}):(0,m.jsx)(mL,{sizePercentage:er,owner:eg,onResourcesAdded:ed,resourcesToSave:N,resourceCounts:{currentResourceCount:ea,maxResourceCount:X},onError:R,initialRepo:P,onRepoSelect:M,onUploadingChange:e=>{e&&R([]),A(e)},children:(0,m.jsx)(e$.Q,{leadingVisual:B.PlusIcon,children:"Add sources"})})})]})]}),(0,m.jsx)("div",{className:pl.tabContent,children:(()=>{if("attachments"===h){let e=N.filter(e=>!e.markedForDestroy);return e.length>0?(0,m.jsx)(mF,{resources:e,sizePercentage:er,onDeleteResources:el,onUpdateResource:ec,onResourcesAdded:ed}):(0,m.jsxs)("div",{className:pl.tabEmptyContainer,children:[(0,m.jsx)("h2",{className:pl.tabEmptyTitle,children:"Welcome"}),(0,m.jsx)("p",{className:pl.tabEmptyText,children:j?.editable?"Add sources to your space once and access them in every chat. Start adding your first source.":"This space doesn't have any sources yet. Someone with edit access can add them."})]})}if("conversations"===h)return en.length>0?(0,m.jsx)("ul",{role:"menu",className:pl.conversationsList,children:en.map(e=>(0,m.jsx)(pd,{conversation:e,activeMenuConversationId:x,setActiveMenuConversationId:v,onDelete:eo},e.id))}):(0,m.jsxs)("div",{className:pl.tabEmptyContainer,children:[(0,m.jsx)("h2",{className:pl.tabEmptyTitle,children:"No conversations yet"}),(0,m.jsx)("p",{className:pl.tabEmptyText,children:"Start a new conversation in this space by typing in the input box at the top."})]})})()}),f&&(0,m.jsx)(ps,{copilotSpace:j,onClose:()=>y(!1),returnFocusRef:b,onSaved:e=>{C(e),l.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:e})}})]})]})}),(eT.W.customCopilotsFileUploads||eT.W.spacesImagesEnabled)&&(0,m.jsx)(uu.A,{onFilesDrop:em,isUploading:E})]})}function pd(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y,_,v=(0,p.c)(38),{conversation:b,activeMenuConversationId:j,setActiveMenuConversationId:C,onDelete:N}=e,S=(0,c2.Z)();v[0]!==b?(t=(0,eI.CB)(b),v[0]=b,v[1]=t):t=v[1];let w=t,I=`${eI.Jz}/c/${b.id}`;v[2]!==S||v[3]!==I?(a=()=>S(I),n=e=>{"Enter"===e.key&&S(I)},v[2]=S,v[3]=I,v[4]=a,v[5]=n):(a=v[4],n=v[5]);let T=null!==j&&pl.conversationItemMenuOpen;v[6]!==T?(r=(0,x.$)(pl.conversationItem,T),v[6]=T,v[7]=r):r=v[7],v[8]!==w?(i=(0,m.jsx)("div",{className:pl.conversationName,children:w}),v[8]=w,v[9]=i):i=v[9],v[10]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)(B.ClockIcon,{}),v[10]=s):s=v[10],v[11]!==b.updatedAt?(o=new Date(b.updatedAt),v[11]=b.updatedAt,v[12]=o):o=v[12],v[13]!==o?(l=(0,m.jsxs)("div",{className:pl.conversationTimestamp,children:[s," ",(0,m.jsx)(rC.A,{format:"relative",prefix:"",date:o})]}),v[13]=o,v[14]=l):l=v[14],v[15]!==i||v[16]!==l?(c=(0,m.jsxs)("div",{className:pl.conversationItemLeftColumn,children:[i,l]}),v[15]=i,v[16]=l,v[17]=c):c=v[17];let k=j===b.id;return v[18]!==b.id||v[19]!==C?(d=e=>{C(e?b.id:null)},v[18]=b.id,v[19]=C,v[20]=d):d=v[20],v[21]===Symbol.for("react.memo_cache_sentinel")?(u=(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{variant:"invisible","aria-label":"Conversation options",icon:B.KebabHorizontalIcon,onClick:pm})}),v[21]=u):u=v[21],v[22]!==b||v[23]!==N?(h=()=>N(b),v[22]=b,v[23]=N,v[24]=h):h=v[24],v[25]===Symbol.for("react.memo_cache_sentinel")?(f=(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.TrashIcon,{})}),v[25]=f):f=v[25],v[26]!==h?(g=(0,m.jsx)(tD.W.Overlay,{onClick:pu,align:"end",children:(0,m.jsx)(tB.l,{children:(0,m.jsxs)(tB.l.Item,{variant:"danger",onSelect:h,children:[f,"Delete"]})})}),v[26]=h,v[27]=g):g=v[27],v[28]!==k||v[29]!==d||v[30]!==g?(y=(0,m.jsxs)(tD.W,{open:k,onOpenChange:d,children:[u,g]}),v[28]=k,v[29]=d,v[30]=g,v[31]=y):y=v[31],v[32]!==c||v[33]!==y||v[34]!==a||v[35]!==n||v[36]!==r?(_=(0,m.jsxs)("li",{role:"menuitem",onClick:a,onKeyDown:n,className:r,children:[c,y]}),v[32]=c,v[33]=y,v[34]=a,v[35]=n,v[36]=r,v[37]=_):_=v[37],_}function pu(e){return e.stopPropagation()}function pm(e){e.stopPropagation()}try{pc.displayName||(pc.displayName="SpacesConversation")}catch{}try{pd.displayName||(pd.displayName="ConversationItem")}catch{}var pp=a(1);function ph({primary:e=!1}){let[t,a]=(0,_.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[t?(0,m.jsx)(pp.D,{closeDialog:()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CREATE_DIALOG_CLOSE",mode:"immersive"}),a(!1)}}):null,(0,m.jsx)(e$.Q,{variant:e?"primary":"default",onClick:()=>{(0,ta.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CREATE_DIALOG_OPEN",mode:"immersive"}),a(!0)},children:"Create space"})]})}try{ph.displayName||(ph.displayName="CreateSpaceButton")}catch{}let pf={banner:"SpacesView-module__banner--fwXon",button:"SpacesView-module__button--TkcJp",counter:"SpacesView-module__counter--vNRTG",disabledButton:"SpacesView-module__disabledButton--c3cFi",description:"SpacesView-module__description--jvOb1",filterButtons:"SpacesView-module__filterButtons--wdtfW",metadata:"SpacesView-module__metadata--juj8j",metadataItem:"SpacesView-module__metadataItem--zJqzM"};function pg(e){let t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(33),{copilotSpace:f,onDelete:g,onClick:y}=e,x=f.ownerIsOrg?B.OrganizationIcon:B.PersonIcon;h[0]!==f.baseRole||h[1]!==f.visibility?(t=c3(f.visibility,f.baseRole),h[0]=f.baseRole,h[1]=f.visibility,h[2]=t):t=h[2];let _=t,v="Shared"===_?B.PeopleIcon:B.LockIcon,b=!eT.W.spacesPermissionsTabEnabled||f.adminable||f.editable;return h[3]!==f?(a=(0,av.Cb)(f),h[3]=f,h[4]=a):a=h[4],h[5]!==f.name?(n=(0,m.jsx)(P.qJ.Item.Title,{children:f.name}),h[5]=f.name,h[6]=n):n=h[6],h[7]!==f.description?(r=(0,m.jsx)(P.qJ.Item.Description,{children:(0,m.jsx)("div",{className:pf.description,children:f.description})}),h[7]=f.description,h[8]=r):r=h[8],h[9]!==x?(i=(0,m.jsx)(x,{size:16}),h[9]=x,h[10]=i):i=h[10],h[11]!==f.owner||h[12]!==i?(s=(0,m.jsxs)("span",{className:pf.metadataItem,children:[i,f.owner]}),h[11]=f.owner,h[12]=i,h[13]=s):s=h[13],h[14]!==v?(o=(0,m.jsx)(v,{size:16}),h[14]=v,h[15]=o):o=h[15],h[16]!==o||h[17]!==_?(l=(0,m.jsxs)("span",{className:pf.metadataItem,children:[o,_]}),h[16]=o,h[17]=_,h[18]=l):l=h[18],h[19]!==s||h[20]!==l?(c=(0,m.jsx)(P.qJ.Item.Metadata,{children:(0,m.jsxs)("div",{className:pf.metadata,children:[s,l]})}),h[19]=s,h[20]=l,h[21]=c):c=h[21],h[22]!==f||h[23]!==g||h[24]!==b?(d=b&&(0,m.jsx)(P.qJ.Item.Actions,{children:(0,m.jsx)(ut,{copilot:f,onDelete:g})}),h[22]=f,h[23]=g,h[24]=b,h[25]=d):d=h[25],h[26]!==y||h[27]!==d||h[28]!==a||h[29]!==n||h[30]!==r||h[31]!==c?(u=(0,m.jsxs)(P.qJ.Item,{href:a,onClick:y,children:[n,r,c,d]}),h[26]=y,h[27]=d,h[28]=a,h[29]=n,h[30]=r,h[31]=c,h[32]=u):u=h[32],u}function py({spaces:e,starredSpaces:t,isLoading:a,onDelete:n,onSpaceClick:r,searchQuery:i}){let[s,o]=(0,_.useState)("personal"),l=t&&t.length>0,{copilotSpacesConfig:{userHasOrgs:c}}=(0,U.X)();(0,_.useEffect)(()=>{l&&o("starred")},[l]);let d=(0,_.useMemo)(()=>e?e.filter(e=>!!("starred"===s&&e.starred||"personal"===s&&!e.ownerIsOrg||"org"===s&&e.ownerIsOrg)&&mQ(e,i)):[],[e,s,i]),{personalSpacesCount:u,orgSpacesCount:p,starredSpacesCount:h}=(0,_.useMemo)(()=>{if(!e)return{personalSpacesCount:0,orgSpacesCount:0,starredSpacesCount:0};let t=i.trim()?e.filter(e=>mQ(e,i)):e;return{personalSpacesCount:t.filter(e=>!e.ownerIsOrg).length,orgSpacesCount:t.filter(e=>e.ownerIsOrg).length,starredSpacesCount:t.filter(e=>e.starred).length}},[e,i]),f=e?.length===0&&!a,g=e&&e.length>0&&d?.length===0&&!a;return(0,m.jsxs)(P.qJ,{children:[(0,m.jsx)(P.qJ.Header,{children:(0,m.jsxs)("div",{role:"tablist","aria-label":"Filter spaces",className:pf.filterButtons,children:[l&&(0,m.jsxs)("button",{onClick:()=>o("starred"),role:"tab","aria-selected":"starred"===s,"aria-controls":"spaces-list",id:"starred-tab",className:pf.button,children:["Starred ",(0,m.jsx)("span",{className:pf.counter,children:h})]}),c||l?(0,m.jsxs)("button",{onClick:()=>o("personal"),role:"tab","aria-selected":"personal"===s,"aria-controls":"spaces-list",id:"personal-tab",className:pf.button,children:["Yours ",(0,m.jsx)("span",{className:pf.counter,children:u})]}):(0,m.jsxs)("span",{id:"disabled-personal-tab",role:"tab",className:pf.disabledButton,children:["Yours ",(0,m.jsx)("span",{className:pf.counter,children:u})]}),c&&(0,m.jsxs)("button",{onClick:()=>o("org"),role:"tab","aria-selected":"org"===s,"aria-controls":"spaces-list",id:"org-tab",className:pf.button,children:["Organizations ",(0,m.jsx)("span",{className:pf.counter,children:p})]})]})}),(0,m.jsx)(P.qJ.List,{loading:a,id:"spaces-list","aria-labelledby":`${s}-tab`,children:f?(0,m.jsxs)(P.qJ.EmptyState,{children:[(0,m.jsx)("p",{children:"Set up once. Chat again and again."}),(0,m.jsx)(ph,{})]}):g?(0,m.jsxs)(P.qJ.EmptyState,{children:[(0,m.jsx)("p",{children:"Organize discussions with your team."}),(0,m.jsx)(ph,{})]}):d?.map(e=>(0,m.jsx)(pg,{copilotSpace:e,onDelete:()=>n(e),onClick:r},e.owner?`${e.owner}/${e.id}`:e.id))})]})}function px(e){let t,a,n,r,i,s,o,l,c,d,u,h,f,g,y=(0,p.c)(29),{copilotSpaces:x}=e,{ssoOrganizations:v}=(0,W.Pk)();y[0]!==v?(t=v.map(pj),y[0]=v,y[1]=t):t=y[1];let b=t,[j,C]=(0,_.useState)(null),[N,S]=(0,_.useState)(""),w=void 0===x;y[2]!==x?(a=x?.filter(pb),y[2]=x,y[3]=a):a=y[3];let I=a,{mutateAsync:T}=(0,ab.$7)();y[4]!==T?(n=async e=>{try{await T(e),C(null)}catch(e){C(e instanceof Error?e:Error(String(e)))}},y[4]=T,y[5]=n):n=y[5];let k=n;return y[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,m.jsx)(aD,{regionName:"Spaces"}),i=!eT.W.immersiveAppShell&&(0,m.jsx)(uc,{}),y[6]=r,y[7]=i):(r=y[6],i=y[7]),y[8]!==j?(s=j&&(0,m.jsxs)(dL.A,{variant:"danger",children:[(0,m.jsx)(B.AlertIcon,{}),"There was a problem deleting your space."]}),y[8]=j,y[9]=s):s=y[9],y[10]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsx)(D.Title,{children:"Spaces"}),l=(0,m.jsx)(D.Description,{children:"A persistent space that remembers your code, files, and preferences across conversations."}),y[10]=o,y[11]=l):(o=y[10],l=y[11]),y[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,m.jsxs)(D.Header,{children:[o,l,(0,m.jsx)(D.Actions,{children:(0,m.jsx)(ph,{primary:!0})})]}),y[12]=c):c=y[12],y[13]!==b||y[14]!==v.length?(d=v.length>0&&!(0,Y.G7)("global_sso_banner")&&(0,m.jsx)("div",{className:pf.banner,children:(0,m.jsx)(z.x,{protectedOrgs:b,redirectURI:p_})}),y[13]=b,y[14]=v.length,y[15]=d):d=y[15],y[16]===Symbol.for("react.memo_cache_sentinel")?(u=(0,m.jsx)(mJ,{onSearch:S}),y[16]=u):u=y[16],y[17]!==x||y[18]!==k||y[19]!==w||y[20]!==N||y[21]!==I?(h=(0,m.jsx)(D.Section,{children:(0,m.jsx)(py,{spaces:x,starredSpaces:I,isLoading:w,onDelete:k,onSpaceClick:pv,searchQuery:N})}),y[17]=x,y[18]=k,y[19]=w,y[20]=N,y[21]=I,y[22]=h):h=y[22],y[23]!==d||y[24]!==h?(f=(0,m.jsxs)(D.Container,{width:"small",children:[c,d,u,h]}),y[23]=d,y[24]=h,y[25]=f):f=y[25],y[26]!==f||y[27]!==s?(g=(0,m.jsxs)(aw.t,{fallback:r,children:[i,s,f]}),y[26]=f,y[27]=s,y[28]=g):g=y[28],g}function p_(){return`/search/refresh_blackbird_caches?return_to=${encodeURIComponent(window.location.href)}`}function pv(){(0,ta.BI)("dotcom_chat.activate",{target:"SPACES_VIEW_SPACE_SELECTED",mode:"immersive"})}function pb(e){return e.starred}function pj(e){return e.login}try{pg.displayName||(pg.displayName="SpacesListItem")}catch{}try{py.displayName||(py.displayName="SpacesList")}catch{}try{px.displayName||(px.displayName="SpacesView")}catch{}function pC(){let e,t,a,n,r,i,s,o,l,c,d,u,h,f,g,y=(0,p.c)(45),v=(0,W.Pk)(),{customCopilots:b}=v,{reloadQuota:j}=(0,ay.xR)(),C=an(),N=(0,au.tZ)(),S=(0,ax.v)(),w=(0,ef.zy)(),I=(0,ab.BV)(),T=(0,av.y_)(),k=I&&T;y[0]!==I||y[1]!==w?(e=I&&(0,av.zY)(w),y[0]=I,y[1]=w,y[2]=e):e=y[2];let E=e;y[3]!==I||y[4]!==w?(t=I&&(0,av.E1)(w),y[3]=I,y[4]=w,y[5]=t):t=y[5];let A=t,L=(0,av.iI)(),R=eT.W.spacesV3UI;(0,ab.e9)(I),y[6]!==j||y[7]!==C?(a=()=>{window.setTimeout(()=>{C.current?.focus()},1),j("new_thread_focus")},y[6]=j,y[7]=C,y[8]=a):a=y[8];let D=a,P=(0,_.useRef)(null);y[9]===Symbol.for("react.memo_cache_sentinel")?(n=()=>!!P.current&&P.current.clientWidth<=1024,y[9]=n):n=y[9];let[B,M]=(0,_.useState)(n);y[10]===Symbol.for("react.memo_cache_sentinel")?(r=()=>P.current?P.current.clientWidth>1024&&(a_.Jt.getImmersiveSidebarCollapsedState()??!0):a_.Jt.getImmersiveSidebarCollapsedState()??!0,y[10]=r):r=y[10];let[O,F]=(0,_.useState)(r),[$,U]=(0,_.useState)(!1);y[11]!==B||y[12]!==O||y[13]!==$?(i=()=>{if(B)U(!$);else{let e=!O;F(e),a_.Jt.setImmersiveSidebarCollapsedState(e)}},y[11]=B,y[12]=O,y[13]=$,y[14]=i):i=y[14];let V=i;y[15]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{if(!P.current)return;let e=()=>{let e=P.current?.clientWidth;void 0!==e&&(e<=1024?M(!0):(M(!1),U(!1)))},t=new ResizeObserver(()=>{e()});return t.observe(P.current),e(),()=>{t.disconnect()}},y[15]=s):s=y[15],y[16]!==$?(o=[$],y[16]=$,y[17]=o):o=y[17],(0,_.useEffect)(s,o);let z=!B&&O,H=!!B&&$,q=(0,_.useRef)(null);y[18]===Symbol.for("react.memo_cache_sentinel")?(l=()=>!!q.current&&q.current.clientWidth<=1280,y[18]=l):l=y[18];let[G,K]=(0,_.useState)(l);y[19]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{if(!q.current)return;let e=()=>{let e=q.current?.clientWidth;void 0!==e&&e>0&&K(e<=1280)},t=new ResizeObserver(e);return t.observe(q.current),e(),()=>t.disconnect()},c=[],y[19]=c,y[20]=d):(c=y[19],d=y[20]),(0,_.useEffect)(d,c),aN();let Q=!S&&G&&oB.fullscreenPreviewPane,Y=S?.fullscreenPreviewArea&&oB.fullscreenPluginPane;return y[21]!==Q||y[22]!==Y?(u=(0,x.$)(oB.container,Q,Y),y[21]=Q,y[22]=Y,y[23]=u):u=y[23],y[24]===Symbol.for("react.memo_cache_sentinel")?(h=(0,m.jsx)("span",{"data-favicon-override":"/favicons/favicon-copilot.svg"}),y[24]=h):h=y[24],y[25]!==S||y[26]!==L||y[27]!==b||y[28]!==z||y[29]!==H||y[30]!==D||y[31]!==V||y[32]!==E||y[33]!==A||y[34]!==G||y[35]!==B||y[36]!==k||y[37]!==w||y[38]!==N||y[39]!==v.selectedThreadID||y[40]!==C?(f=S?.PageComponent&&S?.matchPage?.(w.pathname)?(0,m.jsx)("div",{className:oB.main,children:(0,m.jsx)(cM,{plugin:S})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:oB.left,ref:P,hidden:G&&N,children:[E||A?null:(0,m.jsx)(c0,{isVisible:H,isPinned:z,isFloating:B,onNewThread:D,onToggle:V}),(0,m.jsx)("div",{className:oB.main,children:k?R?(0,m.jsx)(px,{copilotSpaces:b}):(0,m.jsx)(m3,{copilotSpaces:b}):R&&L&&(E||A)?(0,m.jsx)(pc,{customCopilotId:L,selectedThreadID:v.selectedThreadID,textAreaRef:C}):E?(0,m.jsx)(m4,{}):A?(0,m.jsx)(mK,{}):S?.ViewComponent&&S?.matchView?.(w.pathname)?(0,m.jsx)(cO,{plugin:S}):L?R?(0,m.jsx)(pc,{customCopilotId:L,selectedThreadID:v.selectedThreadID,textAreaRef:C}):(0,m.jsx)(ud,{customCopilotId:L,selectedThreadID:v.selectedThreadID,textAreaRef:C}):(0,m.jsx)(cB,{isMobile:G,textAreaRef:C},v.selectedThreadID)})]}),(0,m.jsx)("div",{className:(0,x.$)(oB.previewPane,N&&oB.active),children:(0,m.jsx)("div",{className:(0,x.$)(oB.viewer),children:(0,m.jsx)(sH,{returnFocusRef:C})})})]}),y[25]=S,y[26]=L,y[27]=b,y[28]=z,y[29]=H,y[30]=D,y[31]=V,y[32]=E,y[33]=A,y[34]=G,y[35]=B,y[36]=k,y[37]=w,y[38]=N,y[39]=v.selectedThreadID,y[40]=C,y[41]=f):f=y[41],y[42]!==u||y[43]!==f?(g=(0,m.jsxs)("div",{className:u,"data-testid":"chat-layout","data-hpc":!0,ref:q,children:[h,f]}),y[42]=u,y[43]=f,y[44]=g):g=y[44],g}try{pC.displayName||(pC.displayName="Layout")}catch{}var pN=a(69179),pS=a(82563);let pw={container:"ContentPreviewV2-module__container--Mrwwt",toolbar:"ContentPreviewV2-module__toolbar--wdQh6",actions:"ContentPreviewV2-module__actions--iq0sv",tabsContainer:"ContentPreviewV2-module__tabsContainer--tz6zL",tabs:"ContentPreviewV2-module__tabs--fT7QC",rightDivider:"ContentPreviewV2-module__rightDivider--g99iT",leftDivider:"ContentPreviewV2-module__leftDivider--T4MvC",content:"ContentPreviewV2-module__content--WFQox"};function pI({returnFocusRef:e}){let t=(0,au.tZ)(),{items:a,allOpenItems:n,selectedItem:r,openItem:i,closeItem:s,closeItems:o,closePreviewPane:l,showLoadingState:c}=(0,au.xx)(),d=(0,aI.S)(t),u=t&&!d,p=d&&!t,h=n.map(e=>a.get(e)).filter(e=>e?.type==="file"),f=(0,_.useId)(),g=(0,_.useId)(),y=(0,_.useId)(),v=n.map(e=>a.get(e)).filter(e=>!!e);(0,_.useEffect)(()=>{p&&e.current?.focus()},[p,e]);let b=async()=>{let e=h.map(e=>new File([e.value],e.name));st(new File([await (0,aE._6)(e).blob()],"files.zip"))},j=v.find(e=>e.id===r)??v[0],C=(0,_.useCallback)((e=!1)=>{if(j){let t=e&&1===v.length;s(j.id),t&&(l(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_CLOSE",mode:"immersive"}))}},[s,l,v.length,j]),N=(0,_.useRef)([]),S=(0,_.useRef)(null);(0,ak.G)({containerRef:S,focusableElementFilter:e=>"tab"===e.role,bindKeys:aT.z0.ArrowHorizontal|aT.z0.HomeAndEnd,focusInStrategy:"first",focusOutBehavior:"wrap"},[v]);let w=!(0,aS.g)(S);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:pw.toolbar,children:[(0,m.jsx)("div",{className:(0,x.$)(pw.actions,pw.rightDivider),children:(0,m.jsx)(pT,{})}),(0,m.jsx)("div",{className:pw.tabsContainer,children:(0,m.jsxs)("div",{className:pw.tabs,role:"tablist","aria-label":"Workbench items",ref:S,tabIndex:-1,onWheel:e=>{e.deltaY&&(e.preventDefault(),e.currentTarget.scrollLeft+=e.deltaY)},children:[v.map((e,t)=>(0,m.jsx)(sD,{id:e.id===r?f:void 0,tabPanelId:e.id===r?g:void 0,controlHintId:y,isActive:e.id===r,onClick:()=>{i(e.id),sU("filePreviewTab.click",e)},onClose:()=>(e=>{let t=v[e];if(!t)return;let a=N.current[e+1]??N.current[e-1]??S.current;a?.focus();let n=1===v.length;s(t.id),n&&l(),sU("filePreviewTab.close",t)})(t),item:e,ref:e=>{N.current[t]=e}},e.id)),(0,m.jsx)("span",{id:y,"aria-hidden":"true",className:"sr-only",children:"Press Delete to close."}),(0,m.jsx)("span",{})]})}),n.length>0&&(0,m.jsx)("div",{className:(0,x.$)(pw.actions,w&&pw.leftDivider),children:(0,m.jsxs)(tD.W,{children:[(0,m.jsx)(tD.W.Anchor,{children:(0,m.jsx)(tP.K,{icon:B.KebabHorizontalIcon,"aria-label":"More options",variant:"invisible"})}),(0,m.jsx)(tD.W.Overlay,{children:(0,m.jsxs)(tB.l,{children:[h.length>0&&(0,m.jsxs)(tB.l.Item,{onSelect:b,children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.FileZipIcon,{})}),"Download all files"]}),(0,m.jsxs)(tB.l.Item,{onSelect:()=>{o(),l(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_CLOSE_ALL_TABS",mode:"immersive"})},children:[(0,m.jsx)(tB.l.LeadingVisual,{children:(0,m.jsx)(B.XIcon,{})}),"Close all tabs"]})]})})]})})," "]}),(0,m.jsx)("div",{className:pw.content,role:"tabpanel",id:g,"aria-labelledby":f,children:c?(0,m.jsx)(s$,{}):j?(0,m.jsx)(sk,{isOpening:u,previewItem:j,onClose:C}):(0,m.jsx)(sM,{isOpening:u})})]})}function pT(){let e,t,a=(0,p.c)(3),{closePreviewPane:n}=(0,au.xx)();return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(B.SidebarCollapseIcon,{}),a[0]=e):e=a[0],a[1]!==n?(t=(0,m.jsx)(dD.$,{iconOnly:!0,icon:e,"aria-label":"Close workbench",onClick:()=>{n(),(0,ta.BI)("dotcom_chat.activate",{target:"BROWSER_CLOSE",mode:"immersive"})}}),a[1]=n,a[2]=t):t=a[2],t}function pk(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:pw.toolbar,children:(0,m.jsx)("div",{className:(0,x.$)(pw.actions,pw.rightDivider),children:(0,m.jsx)(pT,{})})}),(0,m.jsx)("div",{className:(0,x.$)(pw.content),children:(0,m.jsx)(aD,{regionName:"The workbench"})})]}),t[0]=e):e=t[0],e}function pE(e){let t,a,n,r,i=(0,p.c)(10),s=(0,_.useId)(),o=an(),l=(0,au.tZ)()?o:void 0;return i[0]!==s?(t=(0,m.jsx)("h2",{id:s,className:"sr-only",children:"Workbench"}),i[0]=s,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(pk,{}),i[2]=a):a=i[2],i[3]!==e?(n=(0,m.jsx)(aw.t,{fallback:a,children:(0,m.jsx)(pI,{...e})}),i[3]=e,i[4]=n):n=i[4],i[5]!==s||i[6]!==l||i[7]!==t||i[8]!==n?(r=(0,m.jsxs)("div",{"aria-labelledby":s,className:pw.container,tabIndex:-1,"data-testid":"content-preview",role:"dialog",ref:l,children:[t,n]}),i[5]=s,i[6]=l,i[7]=t,i[8]=n,i[9]=r):r=i[9],r}try{pI.displayName||(pI.displayName="ContentPreviewInner")}catch{}try{pT.displayName||(pT.displayName="CloseContentPreviewButton")}catch{}try{pk.displayName||(pk.displayName="ContentPreviewFallback")}catch{}try{pE.displayName||(pE.displayName="ContentPreview")}catch{}let pA={container:"ConversationViewV2-module__container--xWBzG",footer:"ConversationViewV2-module__footer--D6S2g",spaceBannerContainer:"ConversationViewV2-module__spaceBannerContainer--MthVd"};function pL(e){let t,a,n,r,i,s,o,l,c,d=(0,p.c)(23),{isMobile:u,textAreaRef:h}=e,f=(0,W.Pk)(),{messages:g,messagesLoading:y,threadsLoading:x}=f,{chatQuotaExceeded:v}=(0,ay.xR)(),b=(0,oc.G)();d[0]!==b||d[1]!==f.customCopilots?(t=(0,av.JB)(f.customCopilots,b),d[0]=b,d[1]=f.customCopilots,d[2]=t):t=d[2];let j=!!t,{variant:C,customCopilot:N}=oQ(b,f.selectedThreadID),S=C===oG.customCopilotSizeExceeded,w=(!C||j)&&!S,I=(0,_.useRef)(f.currentTopic),T=ou();a=!f.selectedThreadID&&a_.Jt.getEntrypointMessage();e:{if(f.selectedThreadID||f.pendingFirstMessage||a||b||v||"error"===y.state||"error"===x.state){n=!1;break e}n=!0}let k=n,E=g.length,A=of(I,E);return d[3]!==f.currentTopic?(r=()=>{I.current=f.currentTopic},i=[f.currentTopic],d[3]=f.currentTopic,d[4]=r,d[5]=i):(r=d[4],i=d[5]),(0,_.useEffect)(r,i),d[6]!==v||d[7]!==A?(s=()=>{let e=a_.Jt.getEntrypointMessage();e&&!v&&(a_.Jt.setEntrypointMessage(null),setTimeout(()=>{A(e)},100))},o=[A,v],d[6]=v,d[7]=A,d[8]=s,d[9]=o):(s=d[8],o=d[9]),(0,_.useEffect)(s,o),d[10]===Symbol.for("react.memo_cache_sentinel")?(l=!eT.W.immersiveAppShell&&(0,m.jsx)(ld,{}),d[10]=l):l=d[10],d[11]!==v||d[12]!==N||d[13]!==A||d[14]!==u||d[15]!==T||d[16]!==E||d[17]!==k||d[18]!==w||d[19]!==C||d[20]!==f.selectedThreadID||d[21]!==h?(c=(0,m.jsxs)(m.Fragment,{children:[l,!f.selectedThreadID&&v?(0,m.jsx)(cR,{}):(0,m.jsxs)("div",{className:pA.container,children:[k?(0,m.jsx)(cA,{textAreaRef:h,handleUserSubmit:A,nextMessageIndex:E}):(0,m.jsx)(cr,{inputRef:h,isMobile:u}),(!T||eT.W.copilotDuplicateThread)&&!k&&(0,m.jsxs)("div",{className:pA.footer,children:[eT.W.groupNotifications&&!w&&(0,m.jsx)(oY,{}),!eT.W.groupNotifications&&C&&(0,m.jsx)("div",{className:pA.spaceBannerContainer,children:(0,m.jsx)(oK,{variant:C,customCopilot:N})}),w&&(0,m.jsx)(oJ,{textAreaRef:h,handleUserSubmit:A,nextMessageIndex:E})]})]})]}),d[11]=v,d[12]=N,d[13]=A,d[14]=u,d[15]=T,d[16]=E,d[17]=k,d[18]=w,d[19]=C,d[20]=f.selectedThreadID,d[21]=h,d[22]=c):c=d[22],c}function pR(e){let t,a,n=(0,p.c)(3);return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(aD,{regionName:"This conversation"}),n[0]=t):t=n[0],n[1]!==e?(a=(0,m.jsx)(aw.t,{fallback:t,children:(0,m.jsx)(pL,{...e})}),n[1]=e,n[2]=a):a=n[2],a}try{pL.displayName||(pL.displayName="ConversationViewInner")}catch{}try{pR.displayName||(pR.displayName="ConversationView")}catch{}function pD(){let e,t,a,n,r,i,s,o,l,c,d,u,h=(0,p.c)(46),f=(0,W.Pk)(),{customCopilots:g}=f,y=an(),x=(0,ax.v)(),_=(0,ef.zy)(),v=(0,ab.BV)(),b=(0,av.y_)(),j=v&&b;h[0]!==v||h[1]!==_?(e=v&&(0,av.zY)(_),h[0]=v,h[1]=_,h[2]=e):e=h[2];let C=e;h[3]!==v||h[4]!==_?(t=v&&(0,av.E1)(_),h[3]=v,h[4]=_,h[5]=t):t=h[5];let N=t,S=(0,av.iI)(),w=eT.W.spacesV3UI;(0,ab.e9)(v),aN();let I=(0,au.tZ)(),{closePreviewPane:T,openPreviewPane:k}=(0,au.xx)();h[6]!==T||h[7]!==k?(a=e=>{e?k():T()},h[6]=T,h[7]=k,h[8]=a):a=h[8];let E=a;if(x?.PageComponent&&x?.matchPage?.(_.pathname)){let e,t;return h[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("span",{"data-favicon-override":"/favicons/favicon-copilot.svg"}),h[9]=e):e=h[9],h[10]!==x?(t=(0,m.jsxs)(m.Fragment,{children:[e,(0,m.jsx)(cM,{plugin:x})]}),h[10]=x,h[11]=t):t=h[11],t}if(x?.ViewComponent&&x?.matchView?.(_.pathname)){let e,t,a;return h[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("span",{"data-favicon-override":"/favicons/favicon-copilot.svg"}),h[12]=e):e=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(pS.P.Sidebar,{children:(0,m.jsx)(pN.U,{})}),h[13]=t):t=h[13],h[14]!==x?(a=(0,m.jsxs)(pS.P,{"data-testid":"chat-layout","data-hpc":!0,children:[e,t,(0,m.jsx)(pS.P.ColumnLeft,{children:(0,m.jsx)(cO,{plugin:x})})]}),h[14]=x,h[15]=a):a=h[15],a}h[16]!==S||h[17]!==g||h[18]!==C||h[19]!==N||h[20]!==j||h[21]!==f.selectedThreadID||h[22]!==y?(n=()=>j?w?(0,m.jsx)(px,{copilotSpaces:g}):(0,m.jsx)(m3,{copilotSpaces:g}):w&&S&&(C||N)?(0,m.jsx)(pc,{customCopilotId:S,selectedThreadID:f.selectedThreadID,textAreaRef:y}):C?(0,m.jsx)(m4,{}):N?(0,m.jsx)(mK,{}):S?w?(0,m.jsx)(pc,{customCopilotId:S,selectedThreadID:f.selectedThreadID,textAreaRef:y}):(0,m.jsx)(ud,{customCopilotId:S,selectedThreadID:f.selectedThreadID,textAreaRef:y}):null,h[16]=S,h[17]=g,h[18]=C,h[19]=N,h[20]=j,h[21]=f.selectedThreadID,h[22]=y,h[23]=n):n=h[23];let A=n;h[24]!==A?(r=A(),h[24]=A,h[25]=r):r=h[25];let L=r;if(L){let e,t,a,n;return h[26]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)("span",{"data-favicon-override":"/favicons/favicon-copilot.svg"}),h[26]=e):e=h[26],h[27]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(pS.P.Header,{children:(0,m.jsx)(uc,{})}),h[27]=t):t=h[27],h[28]===Symbol.for("react.memo_cache_sentinel")?(a=(0,m.jsx)(pS.P.Sidebar,{children:(0,m.jsx)(pN.U,{})}),h[28]=a):a=h[28],h[29]!==L?(n=(0,m.jsxs)(pS.P,{"data-testid":"chat-layout","data-hpc":!0,children:[e,t,a,(0,m.jsx)(pS.P.ColumnLeft,{children:L})]}),h[29]=L,h[30]=n):n=h[30],n}return h[31]!==I||h[32]!==E?(i=[I,E],h[31]=I,h[32]=E,h[33]=i):i=h[33],h[34]===Symbol.for("react.memo_cache_sentinel")?(s=(0,m.jsx)("span",{"data-favicon-override":"/favicons/favicon-copilot.svg"}),h[34]=s):s=h[34],h[35]===Symbol.for("react.memo_cache_sentinel")?(o=(0,m.jsx)(pS.P.Sidebar,{children:(0,m.jsx)(pN.U,{})}),h[35]=o):o=h[35],h[36]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.jsx)(pS.P.Header,{children:(0,m.jsx)(dB,{})}),h[36]=l):l=h[36],h[37]!==f.selectedThreadID||h[38]!==y?(c=(0,m.jsx)(pS.P.ColumnLeft,{children:(0,m.jsx)(pR,{isMobile:!1,textAreaRef:y},f.selectedThreadID)}),h[37]=f.selectedThreadID,h[38]=y,h[39]=c):c=h[39],h[40]!==y?(d=(0,m.jsx)(pS.P.ColumnRight,{children:(0,m.jsx)(pE,{returnFocusRef:y})}),h[40]=y,h[41]=d):d=h[41],h[42]!==d||h[43]!==i||h[44]!==c?(u=(0,m.jsxs)(pS.P,{"data-testid":"chat-layout","data-hpc":!0,secondaryColumnState:i,children:[s,o,l,c,d]}),h[42]=d,h[43]=i,h[44]=c,h[45]=u):u=h[45],u}try{pD.displayName||(pD.displayName="Layout")}catch{}function pP(e){let t=(0,ef.zy)(),a=eg.fV.pathname;return(!a||eT.W.improvedNavigation)&&(a=t.pathname),(0,_.useMemo)(()=>{let t=e.find(e=>e.routes?.some(e=>e.test(a)));return t?t.id:null},[a,e])}var pB=a(98013);let pM=(0,ar.E7)();function pO(){let e,t=(0,p.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(ad.RelayEnvironmentProvider,{environment:pM,children:(0,m.jsx)(pF,{})}),t[0]=e):e=t[0],e}function pF(){let e=(0,p.c)(2),t=(0,U.X)();if(t?.copilotChatSettingEnabled){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(p$,{children:(0,m.jsx)(pV,{})}),e[0]=t):t=e[0],t}{let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,m.jsx)(af,{}),e[1]=t):t=e[1],t}}function p$(e){let t,a,n,r,i,s,o=(0,p.c)(42),{children:l}=e,c=(0,U.X)(),d=oh(),u=c.requestedTopic;if((0,eI.P)(u)){let e,a;o[0]!==u?(e=(0,eI.UU)(u),o[0]=u,o[1]=e):e=o[1],o[2]!==e?(a={refs:[e],topic:void 0},o[2]=e,o[3]=a):a=o[3],t=a}else if(c.reference){let e,a;o[4]!==c.reference?(e=[c.reference],o[4]=c.reference,o[5]=e):e=o[5],o[6]!==u||o[7]!==e?(a={refs:e,topic:u},o[6]=u,o[7]=e,o[8]=a):a=o[8],t=a}else{let e,a;o[9]===Symbol.for("react.memo_cache_sentinel")?(e=[],o[9]=e):e=o[9],o[10]!==u?(a={refs:e,topic:u},o[10]=u,o[11]=a):a=o[11],t=a}let{refs:h,topic:f}=t;if(o[12]!==c.agentsEnabled||o[13]!==c.apiURL||o[14]!==c.graphqlApiUrl||o[15]!==c.loopsClientUrl||o[16]!==c.previewUrl||o[17]!==c.realIp||o[18]!==c.sparkEnabled||o[19]!==c.ssoOrganizations){if(n=[],eT.W.loopsPlugin){let e;o[21]!==c.apiURL||o[22]!==c.graphqlApiUrl||o[23]!==c.loopsClientUrl||o[24]!==c.previewUrl||o[25]!==c.realIp||o[26]!==c.ssoOrganizations?(e=new LoopsPlugin(c.apiURL,c.graphqlApiUrl,c.loopsClientUrl,c.ssoOrganizations.map(pU),c.previewUrl,c.realIp),o[21]=c.apiURL,o[22]=c.graphqlApiUrl,o[23]=c.loopsClientUrl,o[24]=c.previewUrl,o[25]=c.realIp,o[26]=c.ssoOrganizations,o[27]=e):e=o[27],n.push(e)}if(c.sparkEnabled){let e;o[28]===Symbol.for("react.memo_cache_sentinel")?(e=new SparkPlugin,o[28]=e):e=o[28],n.push(e)}if(c.agentsEnabled){let e;o[29]===Symbol.for("react.memo_cache_sentinel")?(e=new AgentsPlugin,o[29]=e):e=o[29],n.push(e)}o[12]=c.agentsEnabled,o[13]=c.apiURL,o[14]=c.graphqlApiUrl,o[15]=c.loopsClientUrl,o[16]=c.previewUrl,o[17]=c.realIp,o[18]=c.sparkEnabled,o[19]=c.ssoOrganizations,o[20]=n}else n=o[20];let g=pP(a=n);return o[30]!==l?(r=(0,m.jsx)(au.BH,{children:l}),o[30]=l,o[31]=r):r=o[31],o[32]!==c||o[33]!==g||o[34]!==h||o[35]!==r||o[36]!==d||o[37]!==f?(i=(0,m.jsx)(W.Mj,{workerPath:c.searchWorkerFilePath,threadId:d,pluginId:g,refs:h,mode:"immersive",topic:f,ssoOrganizations:c.ssoOrganizations,copilotUpsellBannerDismissed:c.copilotUpsellBannerDismissed,copilotChatPayload:c,children:r}),o[32]=c,o[33]=g,o[34]=h,o[35]=r,o[36]=d,o[37]=f,o[38]=i):i=o[38],o[39]!==a||o[40]!==i?(s=(0,m.jsx)(t9,{children:(0,m.jsx)(ai.LB,{children:(0,m.jsx)(ew.Hb,{plugins:a,children:i})})}),o[39]=a,o[40]=i,o[41]=s):s=o[41],s}function pU(e){return e.id}function pV(){let e,t,a=(0,p.c)(2);!function(){let e,t,a=(0,p.c)(7),n=oh(),r=(0,_.useRef)(!0),i=(0,_.useRef)(null),s=(0,q.b)(),{threads:o,selectedThreadID:l}=(0,W.Pk)(),c=ou(),{selectedThreadID:d,sharedThreadChannel:u}=(0,W.Pk)(),m=(0,q.b)();(0,pB.x)(u,()=>{m.fetchSharedThreadMessages(d)}),a[0]!==c||a[1]!==s||a[2]!==l||a[3]!==n||a[4]!==o?(e=()=>{if(r.current){r.current=!1,i.current=n,c?s.fetchSharedThreadMessages(l):s.fetchMessages(l);return}if(i.current!==n){if(i.current=n,n===l)return;let e=n&&o?.get(n);s.selectThread(e||null,{includeThreads:!1,clearTopic:!0})}},t=[s,n,o,l,c],a[0]=c,a[1]=s,a[2]=l,a[3]=n,a[4]=o,a[5]=e,a[6]=t):(e=a[5],t=a[6]),(0,_.useEffect)(e,t)}(),function(){let e,t,a=(0,p.c)(8),{selectedThreadID:n}=(0,W.Pk)(),r=(0,ax.v)(),i=(0,lB.M)((0,ef.Zp)());a[0]!==i||a[1]!==r?.skipSyncRouteToThread||a[2]!==n?(e=()=>{if(!n||r?.skipSyncRouteToThread)return;let e=`${eI.Jz}/c/${n}`,t=`${eI.Jz}/share/${n}`,a=window.location.pathname;a.startsWith(e)||a.startsWith(t)||i.current(e)},a[0]=i,a[1]=r?.skipSyncRouteToThread,a[2]=n,a[3]=e):e=a[3];let s=r?.skipSyncRouteToThread;a[4]!==i||a[5]!==n||a[6]!==s?(t=[i,s,n],a[4]=i,a[5]=n,a[6]=s,a[7]=t):t=a[7],(0,_.useEffect)(e,t)}();let n=(0,p.c)(3),r=(0,q.b)();if(n[0]!==r?(e=()=>{let e=()=>{window.location.href.includes("/r/")?(r.showTopicPicker(!1),r.selectThread(null)):window.location.href.includes("/c/")||(r.showTopicPicker(!0),r.selectThread(null))};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},t=[r],n[0]=r,n[1]=e,n[2]=t):(e=n[1],t=n[2]),(0,_.useEffect)(e,t),!function(){let e,t,a=(0,p.c)(6),n=pP((0,ew.qw)()),r=oh(),{activePlugin:i}=(0,W.bP)("activePlugin"),s=(0,q.b)();a[0]!==i||a[1]!==s||a[2]!==n||a[3]!==r?(e=()=>{r||(i??null)!==n&&s.selectPlugin(n)},t=[i,s,n,r],a[0]=i,a[1]=s,a[2]=n,a[3]=r,a[4]=e,a[5]=t):(e=a[4],t=a[5]),(0,_.useEffect)(e,t)}(),eT.W.immersiveAppShell){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(pD,{}),a[0]=e):e=a[0],e}{let e;return a[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,m.jsx)(pC,{}),a[1]=e):e=a[1],e}}try{pO.displayName||(pO.displayName="CopilotImmersive")}catch{}try{pF.displayName||(pF.displayName="CopilotImmersiveNoRelay")}catch{}try{p$.displayName||(p$.displayName="CopilotImmersiveProviders")}catch{}try{pV.displayName||(pV.displayName="Immersive")}catch{}(0,u.o)("copilot-immersive-v1",()=>({App:h,routes:[(0,d.a)({path:"/copilot",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/c/:threadID",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/d/:docsetName",Component:pO}),(0,d.a)({path:"/copilot/r/:owner/:repository",Component:pO}),(0,d.a)({path:"/copilot/share/:threadID",Component:pO}),(0,d.a)({path:"/copilot/loop/share",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/loops/share/:shareID",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/loops",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/l/:loopID",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/workbench",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/spark",Component:pO,transitionType:c.E.TRANSITION_WITHOUT_FETCH}),(0,d.a)({path:"/copilot/spaces",Component:pO}),(0,d.a)({path:"/copilot/spaces/:spaceID",Component:pO}),(0,d.a)({path:"/copilot/spaces/:owner/:spaceNumber",Component:pO}),(0,d.a)({path:"/copilot/spaces/:owner/:spaceNumber/edit",Component:pO}),(0,d.a)({path:"/copilot/spaces/:spaceID/edit",Component:pO}),(0,d.a)({path:"/copilot/spaces/new",Component:pO}),(0,d.a)({path:"/copilot/agents",Component:pO})]}))},84464:(e,t,a)=>{a.d(t,{B:()=>i});var n=a(21728),r=a(96540);function i(e){let t,a,i,s=(0,n.c)(4),[o,l]=(0,r.useState)(e);s[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>l(!0),s[0]=t):t=s[0];let c=t;s[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>l(!1),s[1]=a):a=s[1];let d=a;return s[2]!==o?(i=[o,c,d],s[2]=o,s[3]=i):i=s[3],i}},67621:(e,t,a)=>{a.d(t,{K:()=>s});var n=a(21728),r=a(17515),i=a(96540);let s=e=>{let t,a,s,o=(0,n.c)(4),l=(0,i.useRef)(e);return o[0]!==e?(t=()=>{l.current=e},a=[e],o[0]=e,o[1]=t,o[2]=a):(t=o[1],a=o[2]),(0,r.N)(t,a),o[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...e)=>l.current?.(...e),o[3]=s):s=o[3],s}},99156:(e,t,a)=>{a.d(t,{Io:()=>n});let n=[{id:"dummy-1",dummy:!0,title:"Edit writing",description:"Update writing to make it more engaging",updatedAt:0x19814ddb7a4,nodes:[{id:"1a",title:"Your writing",description:"The writing you want to edit",type:"text",metadata:{inputType:"text"},content:`There is huge potential in building complex, repeatable pipelines that take advantage of LLM capabilities. A way for anyone to create and share tools. A few examples:

- Scientists sharing workflows for turning conference notes into a queryable artifact
- Scientists creating a pipeline for polishing a draft to adhere to proposal writing requirements
- Developers building a \u{201C}check for security flaws\u{201D} pipeline, accessible via API / vscode extension
- Library maintainers creating a \u{201C}make a new codebase with Next.js" or \u{201C}add Tailwind to your codebase\u{201D} pipeline
- Artists building a pipeline to generate images of a certain style. Or process a sketch into a branded image.
- Generating a customized analysis of all of a lawyer\u{2019}s cases
- Summarize medical research on a topic, using only the most trustable sources

I wager there\u{2019}s a huge market in building and discovering pipelines, and a good implementation will look a bit like ChatGPT with people of many stripes building and using them.

GitHub is the right place for this kind of ecosystem for a few reasons:

- It ties into the spirit of Open Source
- It already has a huge audience to help with the cold start problem
- It mirror\u{2019}s GitHub\u{2019}s mission to make \u{201C}code\u{201D} accessible to a larger audience and the platform valuable to more than just developers. The future will look like people of any occupation \u{201C}writing code\u{201D} (really, just building things with logic)`},{id:"2a",title:"Edit guide",description:"The guide on how to edit writing",type:"text",metadata:{inputType:"text"},content:`# Academish Voice

pvh / Aug 2022

Our publications follow what we call \u{201C}*academish*\u{201D} voice. We follow a largely academic style in our writing but avoid certain academic tendencies.

## Academic Style

- **Make no claims without support.** If you have made an unsupported claim consider its centrality to your argument. If \u{201C}many developers agree\u{201D}, we should be able to link to a source or describe how we know that. If you can\u{2019}t defend it, you should get rid of it.
- **Avoid absolutist language.** It\u{2019}s not \u{201C}the main problem\u{201D}, it\u{2019}s \u{201C}a problem\u{201D}. (Unless, of course, you can defend the claim.)
- **Be precise and specific with your descriptions.** Instead of saying something \u{201C}feels great\u{201D}, describe how it feels. Don\u{2019}t say something \u{201C}is a problem\u{201D} unless you describe what the problem is or to whom. If you\u{2019}re tempted to say something vague because you\u{2019}re not sure, either do enough research until you\u{2019}re sure, or don\u{2019}t say it.
- **Avoid hyperbole.** Use adjectives to add precision, not to persuade. Claiming \u{201C}immense benefits\u{201D} is only appropriate if you have developed a commercially viable fusion power plant. Delete words that are only for emphasis, and keep only those that add substance (e.g. quantify).
- **Structure your writing for incremental reading.** Don\u{2019}t bury the lede. A reader should be able to understand the goals and conclusions of an essay by reading the first couple of paragraphs. Individual sections should briefly reiterate any important material and/or link back to where it is introduced. This may feel repetitive at times but aids readers who take several sessions to read a piece or who jump straight to the sections that interest them.
- **Give credit to others.** Cite earlier work. Link to sources for terms and ideas. Give thanks to contributors, reviewers, and advisors.
- **Be humble and transparent about shortcomings and problems.** We want readers to build on our work, not buy our product.

## Ink & Switch Style

- **Assume the reader is an interested generalist.** Explain jargon. Academic writing is dense with domain terminology because it assumes readers are \u{201C}up to date on the field.\u{201D}  Ink & Switch Essays make use of marginalia in what we call \u{201C}asides\u{201D} to define uncommon terminology. Concretely, you don\u{2019}t need to gloss \u{201C}HTML\u{201D}, but you should probably gloss \u{201C}CRDT\u{201D}.
- **Carefully consider section headings.** Headings should legibly communicate the shape of the essay and serve as a roadmap for a reader to skip to the part of an essay that\u{2019}s most interesting to them. Similarly, avoid including unrelated material in a section with a particular title. If a user already knows \u{201C}How CRDTs Work\u{201D} then they shouldn\u{2019}t miss (much) important information about the project by skipping reading that section.
- **Embrace interactive demonstrations, animations, illustration, and videos.** Sometimes an illustration or demo can offer more clarity on a topic than text alone. As long as the content is self-contained and doesn\u{2019}t rely on external sources, it should be legible for many years to come and viewable offline.
- **It\u{2019}s okay to share hunches and beliefs as long as they\u{2019}re appropriately labeled.** Don\u{2019}t be shy about drawing conclusions, just be clear about the degree of confidence you have and where it comes from.
- **Ensure content looks good in PDF / printed form.** Obviously you lose the elements above, but the PDF version of a paper shouldn\u{2019}t have giant \u{25B6}\u{FE0F} icons obscuring an image. Interactive figures should display a meaningful static view.
- **Use \u{201C}asides\u{201D} for supportive content and marginalia.** Asides can expand on references to other work, link out to related projects, or just share interesting context or historical tidbits.
- **Deploy persuasive or emotional writing appropriately.** You can be enthusiastic in describing your goals but be modest in how you describe your solutions.
- **Keep it classy.** We don\u{2019}t dismiss other people\u{2019}s work or insult their products. Everything around you was made by someone working really hard on it. If we have found a better way, we should show gratitude to those who helped us realize the path forward and humility about our contributions.
- **Sweat the details.** Make sure your colors are carefully chosen. Images should be clear and at the right bit rate. Choose your words carefully. Interactions should be delightful.

The result of these elements should be an essay that is confident, accurate, and readable to almost anyone with a background in technology. Our essays are often long (probably too long) but should consistently reward patient reading and serve as a reference to their readers for many years to come.

---

## About this page

This document aims to articulate the stylistic elements and voice of Ink & Switch Essays.

### **September 1, 2022**

@Martin Kleppmann added some details on academic style.

### **August 17, 2022**

@Todd Matthews made some formatting edits for continuity and scanability.

### **August 16, 2022**

@Peter van Hardenberg created this document. Began with @Adam Wiggins\u{2019} "Essay Playbook" and added notes about Academish Voice, which aim to capture the stylistic elements he looks for when I reading essay drafts. Many of these elements came from @Martin Kleppmann  and @Adam Wiggins reviews of my past writing, so credit to them. This is probably quite useful for everyone working on an essay right now, but is probably not comprehensive. If I've missed anything or anything here is controversial or unclear please feel free to inquire.`},{id:"3a",title:"Edited writing",description:"Writing with suggested changes",type:"prompt",content:"You're a helpful writing tutor here to suggest changes to the writing. Use this guide: {{2a}}. Respond with a full, edited version of {{1a}}. You're a helpful writing tutor here to suggest changes to the writing. Use this guide: {{2a}}. Respond with a full, edited version of {{1a}}. You're a helpful writing tutor here to suggest changes to the writing. Use this guide: {{2a}}. Respond with a full, edited version of {{1a}}."}]},{id:"dummy-2",dummy:!0,title:"Document this function",description:"Document this function so it's easy to understand",updatedAt:0x19814ddb7a4,nodes:[{id:"1b",title:"Function to document",description:"The function to document",content:`export function createNodePrompt(node: Node, nodeMap: Record<string, Node>): string {
  let content = node.content;
  const regex = /{{([\\w-]+)}}/g;
  let match;

  while ((match = regex.exec(content)) !== null) {
    const id = match[1];
    const referencedNode = nodeMap[id];
    if (referencedNode) {
      const replacementContent = createNodePrompt(referencedNode, nodeMap);
      content = content.replace(match[0], replacementContent);
    }
  }

  return content;
}`,type:"code"},{id:"2b",title:"Documentation guide",description:"The documentation for the function",content:`Minimum Viable Documentation
A small set of fresh and accurate docs is better than a large assembly of \u{201C}documentation\u{201D} in various states of disrepair.

Write short and useful documents. Cut out everything unnecessary, including out-of-date, incorrect, or redundant information. Also make a habit of continually massaging and improving every doc to suit your changing needs. Docs work best when they are alive but frequently trimmed, like a bonsai tree.

See also these Agile Documentation best practices.

Update Docs with Code
Change your documentation in the same CL as the code change. This keeps your docs fresh, and is also a good place to explain to your reviewer what you\u{2019}re doing.

A good reviewer can at least insist that docstrings, header files, README.md files, and any other docs get updated alongside the CL.

Delete Dead Documentation
Dead docs are bad. They misinform, they slow down, they incite despair in engineers and laziness in team leads. They set a precedent for leaving behind messes in a code base. If your home is clean, most guests will be clean without being asked.

Just like any big cleaning project, it\u{2019}s easy to be overwhelmed. If your docs are in bad shape:

Take it slow, doc health is a gradual accumulation.
First delete what you\u{2019}re certain is wrong, ignore what\u{2019}s unclear.
Get your whole team involved. Devote time to quickly scan every doc and make a simple decision: Keep or delete?
Default to delete or leave behind if migrating. Stragglers can always be recovered.
Iterate.
Prefer the Good Over the Perfect
Documentation is an art. There is no perfect document, there are only proven methods and prudent guidelines. See Better is better than best.

Documentation is the Story of Your Code
Writing excellent code doesn\u{2019}t end when your code compiles or even if your test coverage reaches 100%. It\u{2019}s easy to write something a computer understands, it\u{2019}s much harder to write something both a human and a computer understand. Your mission as a Code Health-conscious engineer is to write for humans first, computers second. Documentation is an important part of this skill.

There\u{2019}s a spectrum of engineering documentation that ranges from terse comments to detailed prose:

Meaningful names: Good naming allows the code to convey information that would otherwise be relegated to comments or documentation. This includes nameable entities at all levels, from local variables to classes, files, and directories.

Inline comments: The primary purpose of inline comments is to provide information that the code itself cannot contain, such as why the code is there.

Method and class comments:

Method API documentation: The header / Javadoc / docstring comments that say what methods do and how to use them. This documentation is the contract of how your code must behave. The intended audience is future programmers who will use and modify your code.

It is often reasonable to say that any behavior documented here should have a test verifying it. This documentation details what arguments the method takes, what it returns, any \u{201C}gotchas\u{201D} or restrictions, and what exceptions it can throw or errors it can return. It does not usually explain why code behaves a particular way unless that\u{2019}s relevant to a developer\u{2019}s understanding of how to use the method. \u{201C}Why\u{201D} explanations are for inline comments. Think in practical terms when writing method documentation: \u{201C}This is a hammer. You use it to pound nails.\u{201D}

Class / Module API documentation: The header / Javadoc / docstring comments for a class or a whole file. This documentation gives a brief overview of what the class / file does and often gives a few short examples of how you might use the class / file.

Examples are particularly relevant when there\u{2019}s several distinct ways to use the class (some advanced, some simple). Always list the simplest use case first.

README.md: A good README.md orients the new user to the directory and points to more detailed explanation and user guides:

What is this directory intended to hold?
Which files should the developer look at first? Are some files an API?
Who maintains this directory and where I can learn more?
See the README.md guidelines.

docs: The contents of a good docs directory explain how to:

Get started using the relevant API, library, or tool.
Run its tests.
Debug its output.
Release the binary.
Design docs, PRDs: A good design doc or PRD discusses the proposed implementation at length for the purpose of collecting feedback on that design. However, once the code is implemented, design docs should serve as archives of these decisions, not as half-correct docs (they are often misused).

Other external docs: Some teams maintain documentation in other locations, separate from the code, such as Google Sites, Drive, or wiki. If you do maintain documentation in other locations, you should clearly point to those locations from your project directory (for example, by adding an obvious link to the location from your project\u{2019}s README.md).

Duplication is Evil
Do not write your own guide to a common Google technology or process. Link to it instead. If the guide doesn\u{2019}t exist or it\u{2019}s badly out of date, submit your updates to the appropriate directory or create a package-level README.md. Take ownership and don\u{2019}t be shy: Other teams will usually welcome your contributions.`,type:"text",metadata:{inputType:"text"}},{id:"3b",title:"My personal skillset",description:"",content:"I'm a software engineer with 5 years of experience in building web applications. I'm skilled in JavaScript, TypeScript, React, and Node.js. I'm also familiar with Python and have experience with machine learning frameworks like TensorFlow and PyTorch. I'm comfortable with SQL and NoSQL databases, and have experience with Docker and Kubernetes. I'm a quick learner and I'm always looking to improve my skills.",type:"text",metadata:{inputType:"text"}},{id:"4b",title:"Documented code",description:"The code with documentation",content:`You're documenting your code for your team.

Update this code: {{1b}}

Using this guide: {{2b}}]

And incorporate {{3b}}`,type:"prompt"},{id:"5b",title:"Function tests",description:"Generate a test for the code",content:"You're generating a Jest test for {{4b}}. Our testing guidelines: {{6b}}",type:"prompt"},{id:"6b",title:"Testing guidelines",description:"The guidelines for testing",content:`The Test Anatomy

\u{26AA} \u{FE0F} 1.1 Include 3 parts in each test name
\u{2705} Do: A test report should tell whether the current application revision satisfies the requirements for the people who are not necessarily familiar with the code: the tester, the DevOps engineer who is deploying and the future you two years from now. This can be achieved best if the tests speak at the requirements level and include 3 parts:

(1) What is being tested? For example, the ProductsService.addNewProduct method

(2) Under what circumstances and scenario? For example, no price is passed to the method

(3) What is the expected result? For example, the new product is not approved


\u{274C} Otherwise: A deployment just failed, a test named \u{201C}Add product\u{201D} failed. Does this tell you what exactly is malfunctioning?


\u{1F447} Note: Each bullet has code examples and sometime also an image illustration. Click to expand



\u{26AA} \u{FE0F} 1.2 Structure tests by the AAA pattern
\u{2705} Do: Structure your tests with 3 well-separated sections Arrange, Act & Assert (AAA). Following this structure guarantees that the reader spends no brain-CPU on understanding the test plan:

1st A - Arrange: All the setup code to bring the system to the scenario the test aims to simulate. This might include instantiating the unit under test constructor, adding DB records, mocking/stubbing on objects, and any other preparation code

2nd A - Act: Execute the unit under test. Usually 1 line of code

3rd A - Assert: Ensure that the received value satisfies the expectation. Usually 1 line of code


\u{274C} Otherwise: Not only do you spend hours understanding the main code but what should have been the simplest part of the day (testing) stretches your brain


\u{26AA} \u{FE0F}1.3 Describe expectations in a product language: use BDD-style assertions
\u{2705} Do: Coding your tests in a declarative-style allows the reader to get the grab instantly without spending even a single brain-CPU cycle. When you write imperative code that is packed with conditional logic, the reader is forced to exert more brain-CPU cycles. In that case, code the expectation in a human-like language, declarative BDD style using expect or should and not using custom code. If Chai & Jest doesn't include the desired assertion and it\u{2019}s highly repeatable, consider extending Jest matcher (Jest) or writing a custom Chai plugin

\u{274C} Otherwise: The team will write less tests and decorate the annoying ones with .skip()


\u{26AA}  1.4 Stick to black-box testing: Test only public methods
\u{2705} Do: Testing the internals brings huge overhead for almost nothing. If your code/API delivers the right results, should you really invest your next 3 hours in testing HOW it worked internally and then maintain these fragile tests? Whenever a public behavior is checked, the private implementation is also implicitly tested and your tests will break only if there is a certain problem (e.g. wrong output). This approach is also referred to as behavioral testing. On the other side, should you test the internals (white box approach) \u{2014} your focus shifts from planning the component outcome to nitty-gritty details and your test might break because of minor code refactors although the results are fine - this dramatically increases the maintenance burden

\u{274C} Otherwise: Your tests behave like the boy who cried wolf: shouting false-positive cries (e.g., A test fails because a private variable name was changed). Unsurprisingly, people will soon start to ignore the CI notifications until someday, a real bug gets ignored\u{2026}


\u{26AA}  1.5 Choose the right test doubles: Avoid mocks in favor of stubs and spies
\u{2705} Do: Test doubles are a necessary evil because they are coupled to the application internals, yet some provide immense value (Read here a reminder about test doubles: mocks vs stubs vs spies).

Before using test doubles, ask a very simple question: Do I use it to test functionality that appears, or could appear, in the requirements document? If not, it\u{2019}s a white-box testing smell.

For example, if you want to test that your app behaves reasonably when the payment service is down, you might stub the payment service and trigger some \u{2018}No Response\u{2019} return to ensure that the unit under test returns the right value. This checks our application behavior/response/outcome under certain scenarios. You might also use a spy to assert that an email was sent when that service is down \u{2014} this is again a behavioral check which is likely to appear in a requirements doc (\u{201C}Send an email if payment couldn\u{2019}t be saved\u{201D}). On the flip side, if you mock the Payment service and ensure that it was called with the right JavaScript types \u{2014} then your test is focused on internal things that have nothing to do with the application functionality and are likely to change frequently

\u{274C} Otherwise: Any refactoring of code mandates searching for all the mocks in the code and updating accordingly. Tests become a burden rather than a helpful friend



\u{26AA} 1.6 Don\u{2019}t \u{201C}foo\u{201D}, use realistic input data
\u{2705} Do: Often production bugs are revealed under some very specific and surprising input \u{2014} the more realistic the test input is, the greater the chances are to catch bugs early. Use dedicated libraries like Chance or Faker to generate pseudo-real data that resembles the variety and form of production data. For example, such libraries can generate realistic phone numbers, usernames, credit cards, company names, and even \u{2018}lorem ipsum\u{2019} text. You may also create some tests (on top of unit tests, not as a replacement) that randomize fakers' data to stretch your unit under test or even import real data from your production environment. Want to take it to the next level? See the next bullet (property-based testing).

\u{274C} Otherwise: All your development testing will falsely show green when you use synthetic inputs like \u{201C}Foo\u{201D}, but then production might turn red when a hacker passes-in a nasty string like \u{201C}@3e2ddsf . ##\u{2019} 1 fdsfds . fds432 AAAA\u{201D}

`,type:"text",metadata:{inputType:"text"}},{id:"7b",title:"Test results",description:"Run the test for the code",content:"You're running tests for {{5b}}. Respond with the results of the tests.",type:"prompt"},{id:"8",title:"Documented and tested code",description:"The code with documentation and test",content:`Here's the documented code: {{4b}}.

Here's the {{5b}} and the {{7b}}.

Respond with "\u{2705} OK" if the tests all pass, and show a code block with the documented code and tests.`,type:"prompt"}]},{id:"dummy-3",dummy:!0,title:"Generate a course teaching me how this code works",description:"Generate a course teaching me how this code works",updatedAt:0x19814ddb7a4,nodes:[{id:"1c",title:"Code to explain",description:"The code to explain",content:`import {ticks, tickIncrement} from "d3-array";
import continuous, {copy} from "./continuous.js";
import {initRange} from "./init.js";
import tickFormat from "./tickFormat.js";

export function linearish(scale) {
  var domain = scale.domain;

  scale.ticks = function(count) {
    var d = domain();
    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);
  };

  scale.tickFormat = function(count, specifier) {
    var d = domain();
    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);
  };

  scale.nice = function(count) {
    if (count == null) count = 10;

    var d = domain();
    var i0 = 0;
    var i1 = d.length - 1;
    var start = d[i0];
    var stop = d[i1];
    var prestep;
    var step;
    var maxIter = 10;

    if (stop < start) {
      step = start, start = stop, stop = step;
      step = i0, i0 = i1, i1 = step;
    }

    while (maxIter-- > 0) {
      step = tickIncrement(start, stop, count);
      if (step === prestep) {
        d[i0] = start
        d[i1] = stop
        return domain(d);
      } else if (step > 0) {
        start = Math.floor(start / step) * step;
        stop = Math.ceil(stop / step) * step;
      } else if (step < 0) {
        start = Math.ceil(start * step) / step;
        stop = Math.floor(stop * step) / step;
      } else {
        break;
      }
      prestep = step;
    }

    return scale;
  };

  return scale;
}

export default function linear() {
  var scale = continuous();

  scale.copy = function() {
    return copy(scale, linear());
  };

  initRange.apply(scale, arguments);

  return linearish(scale);
}`,type:"code"},{id:"2c",title:"My skillset",description:"My skillset",content:"I'm a software engineer with 5 years of experience in building web applications. I'm skilled in JavaScript, TypeScript, React, and Node.js. I'm also familiar with Python and have experience with machine learning frameworks like TensorFlow and PyTorch. I'm comfortable with SQL and NoSQL databases, and have experience with Docker and Kubernetes. I'm a quick learner and I'm always looking to improve my skills.",type:"text",metadata:{inputType:"text"}},{id:"3c",title:"Course outline",description:"The outline of the course",content:"You're generating a course teaching me how to understand {{1c}}. I have the following skillset: {{2c}}. Keep it short and concise, with 2-3 sections.",type:"prompt"},{id:"4c",title:"Course content",description:"The content of the course",content:`Generate a short walkthrough that teaches me how to understand {{1c}}. I have the following skillset: {{2c}}.

Flesh out the {{3c}}. Respond with a short walkthrough, using code blocks for code samples.`,type:"prompt"}]},{id:"dummy-4",dummy:!0,title:"Generate app name",description:"Generate and validate potential names for your app",updatedAt:0x19814ddb7a4,nodes:[{id:"1d",title:"App description",description:"Describe your app's purpose and target audience",type:"text",metadata:{inputType:"text"},content:"An email app that uses AI to help you write emails faster."},{id:"2d",title:"Generate names",description:"Generate potential names based on description",type:"prompt",content:`You're a creative app naming expert. Generate 10 potential names for an app based on this description: {{1d}}

Rules for the names:
- Keep them short and memorable
- Make sure they're easy to spell
- Consider domain name availability
- Avoid trademarked terms

Format: a JSON array with one name per line`},{id:"3d",title:"Check domain availability",description:"Check if domains are available for the generated names",type:"code",content:`// This code checks domain availability using DNS lookup
  const nameList = {{2d}}

  const results = [];

  for (const name of nameList) {
    const cleanName = name.toLowerCase().replace(/[^a-z0-9]/g, '');
    const domain = cleanName + '.com';

    try {
      // Try to resolve the domain - if it fails, domain might be available
      const response = await fetch(\`https://dns.google/resolve?name=\${domain}\`);
      const data = await response.json();

      results.push({
        name: name,
        domain: domain,
        available: data.Status === 3 || !data.Answer // NXDOMAIN status or no answer means likely available
      });
    } catch (error) {
      results.push({
        name: name,
        domain: domain,
        error: 'Failed to check availability'
      });
    }
  }

  return results;
`}]},{id:"dummy-5",dummy:!0,title:"Wikipedia",description:"Generate a wiki article on a topic or question",updatedAt:0x19814ddb7a4,nodes:[{id:"1e",title:"Topic or question",description:"The topic or question to generate a wiki article on",type:"text",metadata:{inputType:"text"},content:"When do babies start to crawl?"},{id:"2e",title:"Split into topics",description:"Split the topic or question into topics",type:"text",metadata:{inputType:"text"},content:`You're creating a write-up on a concept. You need to split it into 5-6 sections that cover interesting aspects of the concept. Respond with a JSON array with one string per topic.

For example:
Concept: Dogs as pets
Topics:
["Dog breeds", "Dog training", "Dog costs", "Dog health", "Dog accessories"]


Concept: {{1e}}
Topics:`},{id:"3e",title:"Generate article",description:"Generate a wiki article on the concept",type:"prompt",content:"You're a wiki article generator. Generate a wiki article on the concept: {{1e}}. Split it into sections: {{2e}} with a title, a bolded key statement, and a list or 2 paragraphs."},{id:"4e",title:"Image",description:"An image for the article",type:"prompt",content:"Generate an ascii art image for the article: {{3e}}"}]},{id:"dummy-6",dummy:!0,title:"Compare two prompts",description:"Compare the performance of two prompts",updatedAt:0x19814ddb7a4,nodes:[{id:"1f",title:"Prompt 1",description:"The first prompt to compare",type:"prompt",content:"Make me a haiku about the color blue"},{id:"2f",title:"Prompt 2",description:"The second prompt to compare",type:"prompt",content:"You are a haiku generator. Make a haiku about the color blue. Your job depends on it."},{id:"3f",title:"Important metrics",description:"The important metrics to compare the prompts on",type:"text",metadata:{inputType:"text"},content:"Relevance, creativity, accuracy, completeness, and style"},{id:"4f",title:"Compare",description:"Compare the performance of the two prompts",type:"prompt",content:"For each of the {{3f}}, compare the two prompts: {{1f}} and {{2f}}. Respond with a JSON array with one object per metric, with the metric name and a winner key that says which prompt is better (just say 1 or 2)."}]},{id:"dummy-7",dummy:!0,title:"testing node with offset",description:"Test the edge render behavior for diagram with node offset",updatedAt:0x19814ddb7a4,nodes:[{id:"1",type:"text",title:"First Responder Username",description:"GitHub username of the first responder",content:"lichin-lin",metadata:{inputType:"text"}},{id:"2",type:"text",title:"Start Date",description:"Start date for the report (1 week ago)",content:"@today-7d",metadata:{inputType:"date"}},{id:"repos",type:"text",title:"Repositories",description:"List of repositories to include in the report (one per line, e.g. primer/react)",content:`primer/react
primer/css
primer/components`,metadata:{inputType:"text"}},{id:"repo_query",type:"prompt",title:"Repository Query Builder",description:"Builds the repository query string for GitHub search",content:`Convert this list of repositories into a GitHub search query format. For each repository on a new line in {{repos}}, add 'repo:' prefix and combine with OR operators.

For example:
- If input is 'primer/react\\nprimer/css'
- Output should be 'repo:primer/react OR repo:primer/css'

Only return the query string, nothing else.`},{id:"3",type:"github-graphql",title:"Created Issues",description:"Issues created by the user in the past week across all repositories",content:`query {
  search(query: "({{repo_query}}) author:{{1}} is:issue created:>={{2}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on Issue {
          title
          url
          createdAt
          state
          repository {
            nameWithOwner
          }
          labels(first: 5) {
            edges {
              node {
                name
              }
            }
          }
        }
      }
    }
  }
}`},{id:"4",type:"github-graphql",title:"PR Reviews",description:"PR reviews submitted by the user in the past week across all repositories",content:`query {
  search(query: "({{repo_query}}) is:pr reviewed-by:{{1}} updated:>={{2}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on PullRequest {
          title
          url
          repository {
            nameWithOwner
          }
          reviews(first: 5, author: "{{1}}") {
            edges {
              node {
                state
                submittedAt
              }
            }
          }
        }
      }
    }
  }
}`},{id:"involved_issues",type:"github-graphql",title:"Involved Issues",description:"Issues where the user was involved (commented or assigned) in the past week across all repositories",content:`query {
  search(query: "({{repo_query}}) involves:{{1}} is:issue updated:>={{2}}", type: ISSUE, first: 100) {
    edges {
      node {
        ... on Issue {
          title
          url
          updatedAt
          state
          repository {
            nameWithOwner
          }
          comments(last: 5) {
            nodes {
              author {
                login
              }
              createdAt
            }
          }
          assignees(first: 5) {
            nodes {
              login
            }
          }
        }
      }
    }
  }
}`},{id:"5",type:"prompt",title:"Combined Activity Summary",description:"Summary report of the first responder's activity across all repositories",content:`Generate a comprehensive summary report of the first responder's ({{1}}) activity across multiple repositories over the past week. The repositories included are: {{repos}}

Issues Created:
{{3}}

PR Reviews:
{{4}}

Issue Involvement:
{{involved_issues}}

Please format the report with these sections:
1. Overview (total numbers across all repositories)
2. Repository Breakdown (activity summary per repository)
3. Issue Activity
   - Created Issues (grouped by repository)
   - Issue Involvement (comments, assignments, grouped by repository)
4. PR Review Activity (highlight significant reviews, grouped by repository)
5. Key Observations (patterns across repositories, areas needing attention)

Keep the tone professional and focus on what the next first responder needs to know about as they come in for the next shift. Pay special attention to cross-repository patterns and any repositories that may need extra attention.`}]}]},57915:(e,t,a)=>{a.d(t,{h:()=>c});var n=a(21728),r=a(97665),i=a(94747),s=a(5204),o=a(20126),l=a(58709);function c(){let e,t,a,c=(0,n.c)(7),d=(0,r.jE)(),u=(0,s.EY)();return c[0]!==u?(e=async e=>await u.deleteLoop(e),c[0]=u,c[1]=e):e=c[1],c[2]!==d?(t=(e,t)=>{e.success&&(d.removeQueries({queryKey:[l.M1,t]}),d.invalidateQueries({queryKey:[o.n]}))},c[2]=d,c[3]=t):t=c[3],c[4]!==e||c[5]!==t?(a={mutationFn:e,onSuccess:t},c[4]=e,c[5]=t,c[6]=a):a=c[6],(0,i.n)(a)}},84965:(e,t,a)=>{a.d(t,{P:()=>d});var n=a(21728),r=a(97665),i=a(94747),s=a(44263),o=a(5204),l=a(58709),c=a(19606);function d(){let e,t,a,d=(0,n.c)(8),u=(0,r.jE)(),m=(0,o.EY)();d[0]!==m?(e={mutationFn:async e=>{let{loopID:t,updateFn:a}=e;return await m.updateLoop(t,a)}},d[0]=m,d[1]=e):e=d[1];let p=(0,i.n)(e),h=(0,s.d)(p.mutate,500);d[2]!==h||d[3]!==u?(t=async(e,t)=>{let{loopID:a,updateFn:n}=e;await u.cancelQueries({queryKey:(0,l._I)(a,c.kj)});let r=n(u.getQueryData((0,l._I)(a,c.kj))??null);return u.setQueryData((0,l._I)(a,c.kj),r),h({loopID:a,updateFn:n}),t?.onSuccess?.(),r},d[2]=h,d[3]=u,d[4]=t):t=d[4];let f=t;return d[5]!==f||d[6]!==p?(a={...p,mutate:f},d[5]=f,d[6]=p,d[7]=a):a=d[7],a}},20126:(e,t,a)=>{a.d(t,{C:()=>o,n:()=>s});var n=a(21728),r=a(97286),i=a(5204);let s="all-loops";function o(){let e,t,a=(0,n.c)(3),o=(0,i.EY)();return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=[s],a[0]=e):e=a[0],a[1]!==o?(t={queryKey:e,queryFn:async()=>{let e=await o.getAllLoops();if(!e.success)throw Error(e.error);return e.data},refetchOnMount:!0},a[1]=o,a[2]=t):t=a[2],(0,r.I)(t)}},70309:(e,t,a)=>{a.d(t,{Qk:()=>y,vx:()=>f,wu:()=>h});var n=a(21728),r=a(97286),i=a(5204),s=a(10409),o=a(19606),l=a(97385),c=a(89787),d=a(58709);function u(){let e=(0,l.I)(p),t=(0,c.Ud)(m);return t===o.qD||t===o.kj?e:t}function m(e){return e.version}function p(e){return e?.version}function h(e,t){return["execution",e,t]}function f(){let e,t=(0,n.c)(3),{data:a}=(0,d._N)(g),r=u(),i=a??"",s=r??"";return t[0]!==i||t[1]!==s?(e=h(i,s),t[0]=i,t[1]=s,t[2]=e):e=t[2],e}function g(e){return e?.id}function y(e){let t,a,l,c,m=(0,n.c)(14),{data:p}=(0,d._N)(x),f=u(),g=(0,i.EY)(),y=p??"",_=f??"";m[0]!==y||m[1]!==_?(t=h(y,_),m[0]=y,m[1]=_,m[2]=t):t=m[2],m[3]!==p||m[4]!==g||m[5]!==f?(a=async()=>{if(!p||!f)return null;let e=await g.getExecution(p,f,o.qD);if(!e.success)return null;let t=e.data;return g.isExecutionRunning(t.id)!==(0,s.y)(t)?null:t},m[3]=p,m[4]=g,m[5]=f,m[6]=a):a=m[6];let v=!!p&&!!f;return m[7]!==e?(l=e&&{select:e},m[7]=e,m[8]=l):l=m[8],m[9]!==t||m[10]!==a||m[11]!==v||m[12]!==l?(c={queryKey:t,queryFn:a,enabled:v,...l,staleTime:3e5},m[9]=t,m[10]=a,m[11]=v,m[12]=l,m[13]=c):c=m[13],(0,r.I)(c)}function x(e){return e?.id}},58709:(e,t,a)=>{a.d(t,{M1:()=>u,_I:()=>m,_N:()=>p});var n=a(21728),r=a(97665),i=a(97286),s=a(85788),o=a(5204),l=a(99156),c=a(19606),d=a(89787);let u="loop";function m(e,t){return[u,e,t]}function p(e,t){let a,u,p,g,y=(0,n.c)(15),{loopID:x}=(0,s.g)(),_=(0,o.EY)(),v=(0,r.jE)(),b=(0,d.Ud)(f),j=t||b||c.kj,C=x??"";y[0]!==C||y[1]!==j?(a=m(C,j),y[0]=C,y[1]=j,y[2]=a):a=y[2],y[3]!==x||y[4]!==v||y[5]!==_||y[6]!==j?(u=async()=>{if(!x)return null;let e=l.Io.find(e=>e.id===x)??null;if(e)return e;let t=await _.getLoop(x,j);return t.success?(t.data.version&&t.data.version!==j&&v.setQueryData(m(x,t.data.version),t.data),t.data):null},y[3]=x,y[4]=v,y[5]=_,y[6]=j,y[7]=u):u=y[7];let N=!!x;return y[8]!==e?(p=e&&{select:e},y[8]=e,y[9]=p):p=y[9],y[10]!==a||y[11]!==u||y[12]!==N||y[13]!==p?(g={placeholderData:h,queryKey:a,queryFn:u,enabled:N,...p,staleTime:3e5},y[10]=a,y[11]=u,y[12]=N,y[13]=p,y[14]=g):g=y[14],(0,i.I)(g)}function h(e){return e}function f(e){return e?.version}},15943:(e,t,a)=>{a.d(t,{M:()=>l});var n=a(21728),r=a(97665),i=a(47311),s=a(58709),o=a(89787);function l(){let e,t,a=(0,n.c)(6),l=(0,r.jE)(),d=(0,i.H_)(),u=(0,o.Ud)(c);a[0]!==d||a[1]!==u||a[2]!==l?(e=e=>{let t=void 0===e?u:e;return d?l.getQueryData([s.M1,d,t]):null},a[0]=d,a[1]=u,a[2]=l,a[3]=e):e=a[3];let m=e;return a[4]!==m?(t={getLoop:m},a[4]=m,a[5]=t):t=a[5],t}function c(e){return e?.version}},97385:(e,t,a)=>{a.d(t,{I:()=>i});var n=a(21728),r=a(58709);function i(e,t){let a=(0,n.c)(2),{data:i}=(0,r._N)(e,t);if(void 0===i){let t;return a[0]!==e?(t=e(void 0),a[0]=e,a[1]=t):t=a[1],t}return i}},74837:(e,t,a)=>{function n(e,t){return e?{...e,nodes:[...e.nodes||[],t],updatedAt:Date.now()}:e}function r(e,t,a){if(!e)return e;let r=e.nodes.findIndex(e=>e.id===t);if(-1===r)return n(e,{id:t,type:"text",title:"",description:"",content:"",...a});{let t=e.nodes[r];return{...e,nodes:[...e.nodes.slice(0,r),{...t,...a},...e.nodes.slice(r+1)],updatedAt:Date.now()}}}a.d(t,{k:()=>l});var i=a(89787),s=a(84965),o=a(15943);function l(){let{getLoop:e}=(0,o.M)(),{mutate:t,isPending:a}=(0,s.P)(),l=(0,i.NY)(),c=(e,a)=>{e&&t({loopID:e.id,updateFn:()=>e},{onSuccess:a})};return{addNode:t=>{let a=e();if(a)c(n(a,t),()=>l({type:"FOCUS_NODE",nodeId:t.id}))},removeNode:t=>{let a=e();if(a)c(a?{...a,nodes:a.nodes.filter(e=>e.id!==t),updatedAt:Date.now()}:a,()=>l({type:"FOCUS_NODE",nodeId:null}))},updateNode:(t,a)=>{let n=e();n&&c(r(n,t,a))},updateNodeContent:(t,a)=>{let n=e();n&&c(n?r(n,t,{content:a}):n)},updateLoop:e=>{c(e)},isPending:a}}},18017:(e,t,a)=>{a.d(t,{ag:()=>s,kn:()=>o,yc:()=>c});var n=a(21728),r=a(28654),i=a(58709);function s(){let e,t=(0,n.c)(3),{data:a}=(0,i._N)();e:{let n;if(!a){let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0],e=a;break e}t[1]!==a?(n=(0,r.v)(a),t[1]=a,t[2]=n):n=t[2],e=n}return e}function o(e){let t,a=(0,n.c)(5),r=s();if(a[0]!==e||a[1]!==r){let n;a[3]!==e?(n=t=>t.involvedNodes.includes(e),a[3]=e,a[4]=n):n=a[4],t=r.filter(n).map(l),a[0]=e,a[1]=r,a[2]=t}else t=a[2];return t}function l(e){return e.error}function c(e){let t,a=(0,n.c)(5),r=s();if(a[0]!==e||a[1]!==r){let n;a[3]!==e?(n=t=>!e||t.involvedNodes.includes(e),a[3]=e,a[4]=n):n=a[4],t=r.some(n),a[0]=e,a[1]=r,a[2]=t}else t=a[2];return t}},38043:(e,t,a)=>{a.d(t,{J:()=>LoopsService});var n=a(35750),r=a(18150),i=a(85242),s=a(88243),o=a(16213),l=a(79048),c=a(71128),d=a(66346),u=a(23630),m=new WeakMap,p=new WeakMap,h=new WeakMap;let NodeRunner=class NodeRunner{async run(e,t,a){let r={graphQLClient:(0,n._)(this,p),chatClient:(0,n._)(this,h),signal:e,onPartialResult:t,execution:a};return c.C.executeNode((0,n._)(this,m),r)}constructor(e,t,a){(0,r._)(this,m,{writable:!0,value:void 0}),(0,r._)(this,p,{writable:!0,value:void 0}),(0,r._)(this,h,{writable:!0,value:void 0}),(0,i._)(this,m,e),(0,i._)(this,p,t),(0,i._)(this,h,a)}};var f=a(19606),g=new WeakMap,y=new WeakMap,x=new WeakMap,_=new WeakMap,v=new WeakMap,b=new WeakMap,j=new WeakMap,C=new WeakSet,N=new WeakSet,S=new WeakSet;let LoopRunner=class LoopRunner{async run(e,t){let a=(0,l.FT)((0,n._)(this,x));if(0===a.length)throw Error("No output node");await Promise.all(a.map(a=>(0,s._)(this,N,I).call(this,a,e,t)))}stop(e){(0,n._)(this,j).abort(),e((0,n._)(this,_))}constructor(e,t,a,n){(0,o._)(this,C),(0,o._)(this,N),(0,o._)(this,S),(0,r._)(this,g,{writable:!0,value:void 0}),(0,r._)(this,y,{writable:!0,value:void 0}),(0,r._)(this,x,{writable:!0,value:void 0}),(0,r._)(this,_,{writable:!0,value:void 0}),(0,r._)(this,v,{writable:!0,value:void 0}),(0,r._)(this,b,{writable:!0,value:void 0}),(0,r._)(this,j,{writable:!0,value:void 0}),(0,i._)(this,g,a),(0,i._)(this,y,n),(0,i._)(this,x,e),(0,i._)(this,_,t),(0,i._)(this,v,(0,l.f0)(e.nodes)),(0,i._)(this,b,new Map),(0,i._)(this,j,new AbortController)}};function w(){return(0,n._)(this,j).signal.aborted}async function I(e,t,a){let r=(0,n._)(this,b).get(e.id);if(r)return r;let i=(0,s._)(this,S,T).call(this,e,t,a);return(0,n._)(this,b).set(e.id,i),i}async function T(e,t,a){if((0,s._)(this,C,w).call(this))return null;let r=await a((0,n._)(this,x).id,(0,n._)(this,x).version||f.kj,(0,n._)(this,_));if(!r.success)throw Error("Unable to load execution");let i=r.data,o=i.nodes[e.id]?.value;if(o)return o;let l=[...new Set((0,n._)(this,v).edges.filter(t=>t.to===e.id).map(e=>e.from))].map(e=>(0,n._)(this,x).nodes.find(t=>t.id===e)).filter(e=>!!e),m=await Promise.all(l.map(async e=>[e.id,await (0,s._)(this,N,I).call(this,e,t,a)]));if(m.some(([e,t])=>null===t)||(0,s._)(this,C,w).call(this))return null;let p=Object.fromEntries(m);try{let a=((e,t)=>{let a={...e},n=a.content;return"string"==typeof n&&(a.content=function(e,t,a=!1){let n=(0,u.ZP)();return e.replace(n,(e,n,r,i)=>{let s=t[n];if(void 0===s)return(0,d.vV)(`Node with ID "${n}" not found in node map`),e;let o=s;if(r)if(s&&"object"==typeof s&&!Array.isArray(s)){let e=function(e,t){if(!t||!e)return null;let a=t.split("."),n=e;for(let e of a){if(null==n||"object"!=typeof n||null===n)return null;n=n[e]}return n}(s,r);if(null!==e)o=e;else throw Error(`Path "${r}" on node with ID "${n}" does not have a value`)}else throw Error(`Cannot access path "${r}" on non-object node with ID "${n}"`);return String(("string"!=typeof o||a?JSON.stringify(o):o)??e)})}(n,t,c.C.requiresCodeEvaluation(e.type))),a})(e,p),r=new NodeRunner(a,(0,n._)(this,g),(0,n._)(this,y));t({type:"SET_RUNNING",nodeID:e.id});let o=a=>{(0,s._)(this,C,w).call(this)||t({type:"UPDATE_NODE_VALUE_PARTIAL",nodeID:e.id,value:a})},l=await r.run((0,n._)(this,j).signal,o,i);return(0,s._)(this,C,w).call(this)||t({type:"UPDATE_NODE_VALUE",nodeID:e.id,value:l}),l}catch(a){var h;return(0,s._)(this,C,w).call(this)||t({type:"UPDATE_NODE_ERROR",nodeID:e.id,error:(h=a)instanceof Error?h.message:"string"==typeof h?h:"object"==typeof h?JSON.stringify(h):""}),null}}var k=a(11354),E=a(27851),A=a(7144),L=a(28654),R=new WeakMap,D=new WeakMap,P=new WeakMap,B=new WeakMap,M=new WeakMap,O=new WeakSet,F=new WeakSet,$=new WeakSet,U=new WeakSet,V=new WeakSet,W=new WeakSet,z=new WeakSet;let LoopsService=class LoopsService{async getGraphQLResponse(e){return(0,n._)(this,P).getGraphQLResponse(e)}async getLoop(e,t=f.kj){let a=(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).getLoop(e,t):null,r=a?.success?a.data:null,i=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).getLoop(e,t):null,o=i?.success?i.data:null;(0,s._)(this,W,Y).call(this)&&o&&!r&&await (0,n._)(this,R).createLoop(o);let l=r??o;return l?(0,A.$j)(l):(0,A.YD)("loop not found")}async getAllLoops(){let e=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).getAllLoops(f.qD):null,t=e?.success?e.data:[],a=(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).listLoops():null,r=a?.success?a.data:[],i=(0,s._)(this,W,Y).call(this)?await this.reconcileLoops(t,r):t;return(0,A.$j)(i.sort((e,t)=>t.updatedAt-e.updatedAt))}async getLoopVersions(e){let t=(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).listLoopVersions(e):null;return t?.success?t:(0,A.$j)([])}async reconcileLoops(e,t){let a=[];for(let r of e){let e=t.find(e=>e.id===r.id);e?e.updatedAt>r.updatedAt?a.push(e):(await (0,s._)(this,O,H).call(this,e.id,()=>r),a.push(r)):(await (0,n._)(this,R).createLoop(r),a.push(r))}for(let n of t)e.find(e=>e.id===n.id)||a.push(n);return a}async createLoop(e){let t=(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).createLoop("string"==typeof e?{id:e}:e):null,a=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).createLoop(e):null;return(0,s._)(this,V,Q).call(this,t,a,(0,A.YD)("failed to create loop"))}async updateLoop(e,t){let a=(0,s._)(this,W,Y).call(this)?await (0,s._)(this,O,H).call(this,e,t):null,r=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).updateLoop(e,t):null;return(0,s._)(this,V,Q).call(this,a,r,(0,A.YD)("failed to update loop"))}async deleteLoop(e){(0,k._T)(e);let t=(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).deleteLoop(e):null,a=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).deleteLoop(e):null;return(0,s._)(this,V,Q).call(this,t,a,(0,A.YD)("failed to delete loop"))}async saveLoop(e){let t="object"==typeof e,a=t?e.id:e,r=t?e:void 0,i=(0,s._)(this,W,Y).call(this)?await (0,s._)(this,F,q).call(this,a,r):null,o=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).saveLoop(a):null;return(0,s._)(this,V,Q).call(this,i,o,(0,A.YD)("failed to save loop"))}async revertLoop(e){let t=(0,s._)(this,W,Y).call(this)?await (0,s._)(this,$,G).call(this,e):null,a=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).revertLoop(e):null;return(0,s._)(this,V,Q).call(this,t,a,(0,A.YD)("failed to revert loop"))}async restoreLoopVersion(e){return(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).updateLoop(e.id,f.qD,e):(0,A.YD)("restoring versions requires server support")}async getExecution(e,t,a){let r=(0,s._)(this,W,Y).call(this)&&a?await (0,n._)(this,R).getExecution(e,t,a):null,i=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).getExecution(e,t,a):null;return(0,s._)(this,V,Q).call(this,r,i,(0,A.YD)("failed to get execution"))}async createExecution(e,t,a){let r=Object.fromEntries(Object.entries(a?.nodes??{}).map(([e,t])=>[e,t.value]).filter(([e,t])=>!!t)),i=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).createExecution(e,t,a):null,o=(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).createExecution(e,t,r,a?.inputValues):null;return(0,s._)(this,V,Q).call(this,o,i,(0,A.YD)("failed to create execution"))}async updateExecution(e,t,a,r){let i=(0,s._)(this,W,Y).call(this)?await (0,s._)(this,U,K).call(this,e,t,a,r):null,o=(0,s._)(this,z,J).call(this)?await (0,n._)(this,D).updateExecution(e,t,a,r):null;return(0,s._)(this,V,Q).call(this,i,o,(0,A.YD)("failed to update execution"))}isExecutionRunning(e){return!!(0,n._)(this,M).get(e)}async runPipeline(e,t,a,r){if((0,L.v)(e).length>0)return;let i=new LoopRunner(e,t,(0,n._)(this,P),(0,n._)(this,B));(0,n._)(this,M).set(t,i);try{return await i.run(a,r)}finally{(0,n._)(this,M).delete(t)}}stopPipeline(e,t){let a=(0,n._)(this,M).get(e);a&&(a.stop(t),(0,n._)(this,M).delete(e))}async shareLoop(e){return(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).shareLoop(e):(0,A.YD)("sharing requires server support")}async unshareLoop(e){return(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).unshareLoop(e):(0,A.YD)("unsharing requires server support")}async getSharedLoop(e){return(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).getSharedLoop(e):(0,A.YD)("getting shared loops requires server support")}async duplicateSharedLoop(e){return(0,s._)(this,W,Y).call(this)?await (0,n._)(this,R).duplicateSharedLoop(e):(0,A.YD)("duplicating shared loops requires server support")}constructor(e,t,a,n){(0,o._)(this,O),(0,o._)(this,F),(0,o._)(this,$),(0,o._)(this,U),(0,o._)(this,V),(0,o._)(this,W),(0,o._)(this,z),(0,r._)(this,R,{writable:!0,value:void 0}),(0,r._)(this,D,{writable:!0,value:void 0}),(0,r._)(this,P,{writable:!0,value:void 0}),(0,r._)(this,B,{writable:!0,value:void 0}),(0,r._)(this,M,{writable:!0,value:new Map}),(0,i._)(this,R,e),(0,i._)(this,D,t),(0,i._)(this,P,a),(0,i._)(this,B,n)}};async function H(e,t){let a=await (0,n._)(this,R).getLoop(e,f.kj);if(!a.success){if(404!==a.httpStatus)return(0,A.YD)("error fetching existing loop");if(!(0,s._)(this,z,J).call(this))return a;let t=await (0,n._)(this,D).getLoop(e,f.kj);if(!t.success)return(0,A.YD)(`loop ${e} not found`);if(!(a=await (0,n._)(this,R).createLoop(t.data)).success)return a}let r=t(a.data);return await (0,n._)(this,R).updateLoop(e,f.kj,r)}async function q(e,t){let a=await (0,n._)(this,R).getLoop(e,"draft");if(!a.success){if(404!==a.httpStatus)return(0,A.YD)("error fetching existing loop");if(!(0,s._)(this,z,J).call(this))return a;let t=await (0,n._)(this,D).getLoop(e,"draft");if(!t.success)return(0,A.YD)(`loop ${e} not found`);if(!(a=await (0,n._)(this,R).createLoop(t.data)).success)return a}return await (0,n._)(this,R).updateLoop(e,f.qD,t??a.data)}async function G(e){let t=await (0,n._)(this,R).getLoop(e,f.qD);if(!t.success){if(404!==t.httpStatus)return(0,A.YD)("error fetching existing loop");if(!(0,s._)(this,z,J).call(this))return t;let a=await (0,n._)(this,D).getLoop(e,f.qD);return a.success?(0,n._)(this,R).createLoop(a.data):(0,A.YD)(`no restorable version for loop ${e}`)}return(0,n._)(this,R).updateLoop(e,"draft",t.data)}async function K(e,t,a,r){let i=await (0,n._)(this,R).getExecution(e,t,a);if(!i.success)return i;let s=i.data;for(let[i,o]of Object.entries(r.nodes))s.nodes[i]&&s.nodes[i].value===o.value&&s.nodes[i].error===o.error||await (0,n._)(this,R).updateNodeExecution(e,t,a,i,o);return await (0,n._)(this,R).getExecution(e,t,a)}function Q(...e){for(let t of e)if(t?.success)return t;for(let t of e)if(t)return t;return(0,A.YD)("no results to combine")}function Y(){return(0,E.G7)("loops_service")}function J(){return!(0,E.G7)("loops_remove_browser_storage")}},71128:(e,t,a)=>{a.d(t,{C:()=>d});var n=a(50467),r=a(38621);function i(e){return e.content}var s=a(23630),o=a(84993),l=a(4947),c=a(750);let PromptNodeHandler=class PromptNodeHandler{async execute(e,t){let a=await (0,s.Vq)(e),n="";for await(let r of t.chatClient.getChatCompletion(a,e.metadata?.model,t.signal))n+=r,t.onPartialResult?.(n);return n}constructor(){(0,n._)(this,"type","prompt"),(0,n._)(this,"metadata",{contentFields:["content"],icon:()=>r.CopilotIcon,description:()=>"Use AI to process a node",label:()=>"Prompt",color:"purple",type:"prompt",outputLabel:"Markdown",isExecutable:!0})}};let GitHubGraphQLNodeHandler=class GitHubGraphQLNodeHandler{async execute(e,t){let a=await t.graphQLClient.getGraphQLResponse(e.content,t.signal);return a?.data??null}constructor(){(0,n._)(this,"type","github-graphql"),(0,n._)(this,"metadata",{type:"github-graphql",contentFields:["content"],icon:()=>r.MarkGithubIcon,description:()=>"Retrieve data from GitHub",label:()=>"GitHub GraphQL",color:"gray",featureFlag:"copilot_pipes_github_graphql_nodes",outputLabel:"JSON",isExecutable:!0})}};let CodeNodeHandler=class CodeNodeHandler{async execute(e,t){return i(e)}constructor(){(0,n._)(this,"type","code"),(0,n._)(this,"metadata",{type:"code",color:"pink",contentFields:["content"],icon:()=>r.CodeIcon,description:()=>"Use classic code to process a node",label:()=>"Code",featureFlag:"copilot_pipes_react_nodes",outputLabel:"Code output",isExecutable:!0,requiresCodeEvaluation:!0})}};let VisualizeNodeHandler=class VisualizeNodeHandler{async execute(e,t){return i(e)}constructor(){(0,n._)(this,"type","visualize"),(0,n._)(this,"metadata",{type:"visualize",contentFields:["content"],icon:()=>r.GitBranchIcon,description:()=>"Use HTML and CSS to view output",label:()=>"Visualize",color:"olive",featureFlag:"copilot_pipes_react_nodes"})}};let TextNodeHandler=class TextNodeHandler{async execute(e,t){let a=t.execution?.inputValues?.[e.id],n=void 0!==a?a:i(e);if("date"===e.metadata.inputType&&"string"==typeof n&&(0,c.nS)(n)){let e=(0,c.Qf)(n);if(e)return(0,c.O2)(e)}return n}constructor(){(0,n._)(this,"type","text"),(0,n._)(this,"metadata",{type:"text",contentFields:["content"],icon:e=>e&&(0,o.ir)(e)?(0,l.J)(e,"icon"):r.TypographyIcon,description:e=>e&&(0,o.ir)(e)?(0,l.J)(e,"description"):"Input for nodes",label:e=>e&&(0,o.ir)(e)?(0,l.J)(e,"name"):"Input",color:"blue"})}};let LoopNodeHandler=class LoopNodeHandler{async execute(e,t){return i(e)}constructor(){(0,n._)(this,"type","loop"),(0,n._)(this,"metadata",{type:"loop",contentFields:["content"],icon:()=>r.GitPullRequestIcon,description:()=>"Use an existing pipeline as a node",label:()=>"Pipeline",color:"coral",featureFlag:"copilot_pipes_pipeline_nodes",outputLabel:"Pipeline output",isExecutable:!0})}};let NodeHandlerRegistry=class NodeHandlerRegistry{registerHandler(e){this.handlers.set(e.type,e)}async executeNode(e,t){let a=this.handlers.get(e.type);if(!a)throw Error(`No handler registered for node type: ${e.type}`);return a.execute(e,t)}getMetadata(e){let t=this.handlers.get(e);return t?.metadata}getAllMetadata(){return Array.from(this.handlers.values()).map(e=>e.metadata)}getAllNodeTypes(){return Array.from(this.handlers.keys())}isExecutable(e){let t=this.getMetadata(e);return t?.isExecutable??!1}requiresCodeEvaluation(e){let t=this.getMetadata(e);return t?.requiresCodeEvaluation??!1}constructor(){(0,n._)(this,"handlers",new Map),this.registerHandler(new PromptNodeHandler),this.registerHandler(new GitHubGraphQLNodeHandler),this.registerHandler(new CodeNodeHandler),this.registerHandler(new VisualizeNodeHandler),this.registerHandler(new TextNodeHandler),this.registerHandler(new LoopNodeHandler)}};let d=new NodeHandlerRegistry},7144:(e,t,a)=>{function n(e){return{success:!0,data:e}}function r(e,t){var a,n;return{success:!1,error:(a=e)?"string"==typeof a?a:"object"!=typeof a?(void 0)??i:"message"in a&&"string"==typeof a.message?a.message:"error"in a&&"string"===a.error?a.error:n??i:n??i,httpStatus:t?.status}}a.d(t,{$j:()=>n,YD:()=>r});let i="Unknown error"},28654:(e,t,a)=>{a.d(t,{v:()=>i});var n=a(72260);a(4947);var r=a(79048);function i(e){let t=function(e){let t=[];for(let a of("string"!=typeof e.title&&t.push({error:"Pipeline is missing a title",errorType:n.T.MissingProperty,involvedNodes:[]}),Array.isArray(e.nodes)&&0!==e.nodes.length||t.push({error:"Pipeline has no nodes",errorType:n.T.MissingProperty,involvedNodes:[]}),e.nodes))t=t.concat(function(e){let t=[];return("string"!=typeof e.title||0===e.title.length)&&t.push({error:"Node is missing a title",errorType:n.T.MissingProperty,involvedNodes:[e.id]}),"text"===e.type&&(t=t.concat(function(e){let t=[],a=e.metadata;if("object"!=typeof a||!a)return t.push({error:"metadata is required for text nodes",errorType:n.T.MissingProperty,involvedNodes:[e.id]}),t;switch(a.inputType){case"boolean":["true","false"].includes(e.content)||t.push({error:'A boolean input must have a value of either "true" or "false"',errorType:n.T.InvalidBooleanValue,involvedNodes:[e.id]});break;case"range":"number"!=typeof a.min&&t.push({error:"A range input must have a min",errorType:n.T.InvalidRangeValue,involvedNodes:[e.id]}),"number"!=typeof a.max&&t.push({error:"A range input must have a max",errorType:n.T.InvalidRangeValue,involvedNodes:[e.id]});break;case"select":Array.isArray(a.options)&&0!==a.options.length?a.options.includes(e.content)||t.push({error:"A select node must have content equal to one of its options",errorType:n.T.InvalidSelectValue,involvedNodes:[e.id]}):t.push({error:"A select input must have options",errorType:n.T.InvalidSelectValue,involvedNodes:[e.id]});break;case"text":e.content||t.push({error:"Input needs a value",errorType:n.T.EmptyInputValue,involvedNodes:[e.id]})}return t}(e))),t}(a));return t}(e),a=(0,r.f0)(e.nodes);for(let r of a.edges){let a=e.nodes.find(e=>e.id===r.from),i=e.nodes.find(e=>e.id===r.to);a&&i||t.push({error:`Node ${r.to} references a nonexistent node {{${r.from}}}`,errorType:n.T.NonexistentNode,involvedNodes:[r.to]})}let i=function(e){let t=new Set,a=new Set,n=[],r=i=>{if(a.has(i)){let e=n.indexOf(i);return n.slice(e)}if(t.has(i))return null;for(let s of(t.add(i),a.add(i),n.push(i),e.edges))if(s.from===i){let e=r(s.to);if(e)return e}return a.delete(i),n.pop(),null};for(let a of e.nodes.values())if(!t.has(a.id)){let e=r(a.id);if(e)return e}return null}(a);if(i&&i.length>0){let e=[...i,i[0]];t.push({error:`Pipeline contains a cycle: ${e.join(" \u2192 ")}`,errorType:n.T.CycleDetected,involvedNodes:i})}let s=function(e){let t=[...e.nodes.values()];if(0===t.length)return[];let a=[],n=new Set,r=(t,a)=>{for(let i of(n.add(t),a.add(t),e.edges))i.from!==t||n.has(i.to)||r(i.to,a),i.to!==t||n.has(i.from)||r(i.from,a)};for(let e of t)if(!n.has(e.id)){let t=new Set;r(e.id,t),a.push(t)}if(a.length<=1)return[];let i=a.reduce((e,t)=>t.size>e.size?t:e,new Set),s=[];for(let e of t)i.has(e.id)||s.push(e.id);return s}(a);return s.length>0&&t.push({error:`Pipeline contains unreachable nodes: ${s.join(", ")}`,errorType:n.T.DisconnectedNode,involvedNodes:s}),t}a(71128)},47311:(e,t,a)=>{a.d(t,{EV:()=>c,H_:()=>b,Hi:()=>v,IO:()=>h,TR:()=>d,TV:()=>g,Z5:()=>x,gg:()=>_,jw:()=>f,oB:()=>m,sP:()=>u,xY:()=>p});var n=a(97385),r=a(18017),i=a(70309),s=a(79048),o=a(10409),l=a(58709);let c=(e,t)=>t?.nodes.find(t=>t.id===e);function d(e){return(0,n.I)(t=>c(e,t)?.content??"")}function u(e){return(0,n.I)(t=>c(e,t)?.type??"text")}function m(e){return(0,n.I)(t=>c(e,t))}function p(e){let{data:t}=(0,i.Qk)(t=>t?.nodes[e]?.value??null);return t??null}function h(e){let{data:t}=(0,i.Qk)(t=>t?.nodes[e]?.error);return t}function f(e){let{data:t}=(0,i.Qk)(t=>(0,o.f)(t?.nodes[e]));return t??!1}function g(){let{data:e}=(0,i.Qk)(o.y);return e??!1}function y(e,t,a){if(!e||!t)return"IDLE";let n=t.nodes[e],r=(0,o.f)(n),i=!!n?.value,s=!!n?.error,l=a.some(t=>t.involvedNodes.includes(e));return s||l?"ERROR":r?"PROCESSING":i?"COMPLETED":"IDLE"}function x(e){let t=(0,r.ag)(),{data:a}=(0,i.Qk)(a=>y(e,a,t));return a?.toUpperCase()??"IDLE"}function _(){let e=(0,r.ag)(),{data:t}=(0,l._N)(),{data:a}=(0,i.Qk)(a=>{if(!a||!t)return"IDLE";let n=(0,s.FT)(t);if(0===n.length)return"IDLE";let r=n.map(t=>y(t.id,a,e));return r.some(e=>"ERROR"===e)?"ERROR":r.some(e=>"PROCESSING"===e)?"PROCESSING":r.every(e=>"COMPLETED"===e)?"COMPLETED":"IDLE"});return a?.toUpperCase()??"IDLE"}function v(e,t){let a=(0,r.ag)(),{data:n}=(0,i.Qk)(n=>{if(!e||!t||!n)return"IDLE";let r=n.nodes[e],i=n.nodes[t],s=(0,o.f)(i),l=!!r?.value,c=(0,o.f)(r),d=!!r?.error,u=a.some(t=>t.involvedNodes.includes(e));return d||u?"ERROR":s?"PROCESSING":l&&!c?"COMPLETED":"IDLE"});return n?.toUpperCase()??"IDLE"}function b(){return(0,n.I)(e=>e?.id)}},47912:(e,t,a)=>{a.d(t,{Fj:()=>i,Kh:()=>r,qB:()=>s});var n=a(19606);let r={CANVAS:"canvas",OUTPUT:"output"},i={CHAT:"chat",NODE:"node",CONFIGURE:"configure"},s={focusedNodeId:null,hoveredNodeId:null,view:r.CANVAS,sidePanelView:i.NODE,version:n.U8}},72260:(e,t,a)=>{a.d(t,{T:()=>n});let n={MissingProperty:"MissingProperty",CycleDetected:"CycleDetected",NonexistentNode:"NonexistentNode",DisconnectedNode:"DisconnectedNode",InvalidBooleanValue:"InvalidBooleanValue",InvalidRangeValue:"InvalidRangeValue",InvalidSelectValue:"InvalidSelectValue",InvalidFileType:"InvalidFileType",EmptyInputValue:"EmptyInputValue"}},4947:(e,t,a)=>{a.d(t,{J:()=>i,j:()=>r});var n=a(38621);let r={range:{name:"Range",description:"A numeric value within a specified range",icon:n.NumberIcon},text:{name:"Text",description:"Free form text input",icon:n.TypographyIcon},boolean:{name:"Boolean",description:"True or false value",icon:n.CheckIcon},select:{name:"Select",description:"Choose from a list of predefined options",icon:n.ListUnorderedIcon},date:{name:"Date",description:"Date or macro",icon:n.CalendarIcon}};function i(e,t){return(r[e.metadata.inputType]??r.text)[t]}},29637:(e,t,a)=>{a.d(t,{I:()=>s,O:()=>i});var n=a(79048),r=a(97586);function i(e){for(let a of e.references??[]){var t;if(a.type===r.km&&(t=a)&&"object"==typeof t&&"title"in t&&"nodes"in t){let t={description:a.description,id:a.id,title:a.title,nodes:a.nodes,updatedAt:new Date(e.createdAt).getTime()},r=(0,n.cZ)(t,[]);return{messageId:e.id,pipeline:r}}}}function s(e,t=!1){for(let a of[...e].reverse()){if("assistant"!==a.role&&!t)continue;let e=i(a);if(e)return e}}},48148:(e,t,a)=>{function n(e,t){let a=function(e){let t=0;for(let a=0;a<e.length;a++)t=(31*t+e.charCodeAt(a))%0x3b9aca07;return t}(e)%t.length;return t[a]}a.d(t,{S:()=>n,u:()=>r});let r=["auburn","blue","brown","coral","cyan","gray","green","indigo","lemon","lime","olive","orange","pine","pink","plum","purple","red","teal","yellow"]},66346:(e,t,a)=>{function n(){}function r(){}a.d(t,{FF:()=>n,vV:()=>r})},97586:(e,t,a)=>{a.d(t,{J1:()=>c,Os:()=>o,QK:()=>l,S$:()=>r,ZS:()=>p,bW:()=>u,km:()=>s,lN:()=>m,lh:()=>i,qe:()=>d});var n=a(22069);let r="loops",i="loops",s="loop",o="Loops",l=`${n.Jz}/loops`,c=`${n.Jz}/l`,d=/\/copilot\/loops/,u=/\/copilot\/l\/([a-zA-Z0-9-]+)/,m=/\/copilot\/loop\/share/,p=/\/copilot\/loops\/share\/([a-zA-Z0-9-]+)/},750:(e,t,a)=>{function n(e){return/^@today([+-]\d+[dwmy])?$/.test(e)}function r(e){if(e.startsWith("@"))return!1;let t=new Date(e);return!isNaN(t.getTime())&&(!e.match(/^\d{4}-\d{2}-\d{2}$/)||o(t)===e)}function i(e){return n(e)||r(e)}function s(e){return e.startsWith("@")&&!n(e)?null:n(e)?function(e){if(!n(e))return{date:null,error:`Invalid macro format: ${e}`};let t=new Date;if("@today"===e)return{date:t};let a=e.match(/^@today([+-])(\d+)([dwmy])$/);if(!a)return{date:null,error:`Invalid macro format: ${e}`};let[,r,i,s]=a;if(!r||!i||!s)return{date:null,error:`Invalid macro format: ${e}`};let o=parseInt(i,10),l="+"===r,c=new Date(t);switch(s){case"d":c.setDate(c.getDate()+(l?o:-o));break;case"w":c.setDate(c.getDate()+(l?7*o:-(7*o)));break;case"m":c.setMonth(c.getMonth()+(l?o:-o));break;case"y":c.setFullYear(c.getFullYear()+(l?o:-o));break;default:return{date:null,error:`Invalid unit: ${s}`}}return{date:c}}(e).date:r(e)?new Date(e):null}function o(e){let t=e.toISOString();return t.split("T")[0]??t.substring(0,10)}a.d(t,{O2:()=>o,Qf:()=>s,Yj:()=>i,nS:()=>n})},10409:(e,t,a)=>{function n(e){return!!e?.startedAt&&!e?.completedAt}function r(e){return!!e&&Object.values(e.nodes).some(n)}a.d(t,{f:()=>n,y:()=>r})},11354:(e,t,a)=>{a.d(t,{_T:()=>c,aq:()=>l,qU:()=>o});var n=a(85351),r=a(66346);let i=(0,n.A)("localStorage"),s="copilot-loops-thread-";function o(e){try{let t=`${s}${e}`;return i.getItem(t)}catch(e){return(0,r.FF)("Failed to read loop thread ID from localStorage:",e),null}}function l(e,t){if(null!==t)try{let a=`${s}${e}`;i.setItem(a,t)}catch(e){(0,r.FF)("Failed to store loop thread ID in localStorage:",e)}}function c(e){try{let t=`${s}${e}`;i.removeItem(t)}catch(e){(0,r.FF)("Failed to remove loop thread ID from localStorage:",e)}}},79048:(e,t,a)=>{a.d(t,{FT:()=>f,Gx:()=>m,Hx:()=>y,NZ:()=>g,cZ:()=>p,f0:()=>l,nT:()=>d});var n=a(84993),r=a(66346),i=a(23630),s=a(4947),o=a(71128);function l(e){let t={nodes:new Map,edges:[],layers:[]};if(!e)return t;for(let a of e){if(!a?.id)continue;let e=u(a.id);t.nodes.set(e,a)}for(let a of e)for(let e of c(a)){let n=u(e);a?.id&&n&&t.edges.push({from:n,to:a.id})}let a=function(e){let t={},a=new Set,n=(i,s=0)=>{try{if(a.has(i))throw Error(`Potential cycle detected at node ${i}`);if(a.add(i),s>100)return(0,r.FF)(`Maximum recursion depth reached for node ${i}`),0;if(void 0!==t[i])return t[i];let o=e.nodes.get(i);if(!o)return t[i]=0,0;let l=c(o);if(l&&0!==l.size){let e=[...l].map(e=>{let t=u(e);return n(t,s+1)});t[i]=Math.max(...e)+1}else{let a=e.edges.filter(e=>e.from===i).map(e=>e.to);0===a.length?t[i]=-1:t[i]=1}return t[i]}finally{a.delete(i)}};for(let[a]of e.nodes)if(!t[a])try{n(a)}catch(e){(0,r.vV)(`Error computing layer for node ${a}:`,e),t[a]=0}let i=Math.max(...Object.values(t))+1;for(let e of Object.keys(t))-1===t[e]&&(t[e]=i);let s=[];for(let[a,n]of Object.entries(t)){let t=e.nodes.get(a);t&&(s[n]||(s[n]=[]),s[n].push(t))}return s.filter(Boolean)}(t);return t.layers=a,t}function c(e){let t=(0,i.ZP)();return new Set((e.content.match(t)||[]).map(e=>e.replace(/[{}]/g,"")))}function d(e){return new Set([...c(e)].map(u))}function u(e){return e.match(/^[^|.]+/)?.[0]??e}let m=(e,t)=>{if(!e||"object"!=typeof e||!e.title&&!e.description&&!e.content)return null;let a={...e,title:e.title||"",description:e.description||"",type:o.C.getMetadata(e.type)?e.type:"text",content:e.content||"",id:(e.id||"").trim()};if("text"===a.type&&(a.metadata=function(e){if((0,n.ir)(e))return s.j[e.metadata.inputType]?e.metadata:{inputType:"text"}}(e)||{inputType:"text"}),"string"!=typeof a.content&&(a.content=""),(0,n.jq)(a)){let e=t.find(e=>e.id===a.loopId);if(e){let t=a.loopInputValues?.reduce((e,t)=>(e[t.inputId]=t,e),{})||{};a.loopInputValues=e.nodes?.filter(e=>(0,n.ir)(e)).map(e=>{let a=t[e.id];if(!a)throw Error(`Input not found for node ${e.id}`);return{inputId:e.id,nodeId:a.nodeId,doMapInput:!!a.doMapInput}})}}return a},p=(e,t)=>{let a=function(e){return{...e,nodes:e.nodes.map(h)}}(e);return{...a,nodes:(a.nodes||[]).map(e=>m(e,t)).filter(e=>null!==e)}};function h(e){return"prompt"===e.type&&"model"in e&&"string"==typeof e.model?{...e,metadata:{model:e.model}}:"text"===e.type&&"inputType"in e?{...e,metadata:function(e){if("type"in e&&"string"==typeof e.type){let t="file"===e.type?"text":e.type;return{...e,inputType:t}}return e}(e.inputType)}:e}function f(e){let t=l(e.nodes);return e.nodes.filter(e=>x(e,t))}function g(e){let t={nodes:new Map,edges:[...e.edges],layers:[...e.layers]};for(let[a,n]of e.nodes)t.nodes.set(a,n);let a=[...e.nodes].filter(([,t])=>x(t,e));if(a.length>0){let e="virtual-output";for(let[,n]of(t.nodes.set(e,{type:"output",id:e}),a))t.edges.push({from:n.id,to:e})}return t}function y(e){return"virtual-output"===e}function x(e,t){return!t.edges.some(t=>t.from===e.id)&&t.edges.some(t=>t.to===e.id)}},84993:(e,t,a)=>{function n(e){return"github-graphql"===e.type}function r(e){return"loop"===e.type}function i(e){return"text"===e.type}a.d(t,{Tm:()=>n,ir:()=>i,jq:()=>r})},87804:(e,t,a)=>{a.d(t,{j:()=>i});var n=a(38043),r=a(97586);function i(e){return e.id===r.S$&&"service"in e&&e.service instanceof n.J}},5160:(e,t,a)=>{a.d(t,{Ts:()=>i,_A:()=>r,hW:()=>s});var n=a(47912);function r(e){let t={},a=e.get("focusedNode");a&&(t.focusedNodeId=a);let r=e.get("view");r&&Object.values(n.Kh).includes(r)&&(t.view=r);let i=e.get("sidePanel");i&&Object.values(n.Fj).includes(i)&&(t.sidePanelView=i);let s=e.get("version");return s&&(t.version=s),t}function i(e){let t=new URLSearchParams;return e.focusedNodeId&&t.set("focusedNode",e.focusedNodeId),e.view!==n.qB.view&&t.set("view",e.view),e.sidePanelView!==n.qB.sidePanelView&&t.set("sidePanel",e.sidePanelView),e.version!==n.qB.version&&t.set("version",e.version),t}function s(e){return{...n.qB,...r(e)}}},23630:(e,t,a)=>{a.d(t,{DO:()=>s,Vq:()=>i,ZP:()=>n});let n=()=>/{{([\w-]+)(?:\.([.\w-]+))?(?:\|([\w-]+))?}}/g,r=`Respond with only the content \u{2014} no introductions, explanations, or extra text.
Only use code blocks when they add semantic value (e.g., mermaid diagrams, specific programming languages), not for general markdown formatting, unless the user explicitly asks for it.`;async function i(e){return[{role:"system",content:r},{role:"user",content:e.content}]}function s(e){return null==e?"":"string"==typeof e?e:e&&"object"==typeof e?JSON.stringify(e,null,2):Array.isArray(e)?e.map(s).join(`
`):String(e)}},19606:(e,t,a)=>{a.d(t,{U8:()=>i,kj:()=>n,qD:()=>r});let n="draft",r="latest",i=n},61407:(e,t,a)=>{a.d(t,{t:()=>r});var n=a(79607);let r=({items:e,filter:t,key:a,secondaryKey:r})=>{let i=e.map(e=>[(0,n.dt)(t,a(e)),e]);return r&&(i=i.map(([e,a])=>[Math.max(e,(0,n.dt)(t,r(a))),a])),i.filter(([e])=>e>n.IP).sort(([e,t],[n,r])=>n===e?a(t).localeCompare(a(r)):n-e).map(([,e])=>e)}},79607:(e,t,a)=>{a.d(t,{Dx:()=>s,IP:()=>i,M4:()=>r,dt:()=>o});var n=a(91385);let r=1/0,i=-1/0,s=1,o=(e,t,a=s)=>{let o=e.trim().toLowerCase(),l=t.trim().toLowerCase();if(o===l)return r;if(0===l.length||0===o.length)return i;let c=(0,n.fN)(o,l);return c===1/0&&o!==l?i:l.startsWith(o)||l.endsWith(o)?c+a:c}},74547:(e,t,a)=>{a.d(t,{FC:()=>l,I0:()=>s,dV:()=>o,h$:()=>d,jK:()=>c});let n=null,r=!1;function i(e){let t=function(){let e=document.querySelector("context-region");return e&&e.isConnected&&e.pushCrumb&&"function"==typeof e.pushCrumb?e:null}();if(t)return void e(t);n=e,function(){if(r)return;r=!0;let e=document.querySelector("context-region-controller");e&&e.addEventListener("context-region-connected",()=>{n&&(n(e.contextRegion),n=null)},{once:!0})}()}function s(e){i(t=>t.pushCrumb(e))}function o(){i(e=>e.popCrumb())}function l(e){i(t=>t.replaceCrumbs(e))}function c(e){i(t=>t.renameCurrentCrumb(e))}function d(e){i(t=>t.replaceCurrentCrumb(e))}},23986:(e,t,a)=>{a.d(t,{L:()=>i,M:()=>r});var n=a(96540);let r=(0,n.createContext)(null);function i(){let e=(0,n.useContext)(r);if(!e)throw Error("useLayoutContext must be used within a Layout component");return e}},14253:(e,t,a)=>{a.d(t,{_x:()=>r,cP:()=>i,eu:()=>n,pI:()=>s});let n="spark",r="Spark",i="/spark",s="Create web apps with React and TypeScript to prototype ideas, build tools, and more"},11251:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(96540);function r({focusRowRef:e,mouseRowRef:t}){let[a,r]=n.useState(!1);return n.useEffect(()=>{if(e.current&&t.current){let a=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{a()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{a()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),a}},31075:(e,t,a)=>{a.d(t,{S:()=>r});var n=a(96540);function r(e){let t=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>{t.current=e},[e]),t.current}},40319:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(64262),r=a(96540);let i=()=>{let e=(0,n.X)();return(0,r.useMemo)(()=>({ssoOrgs:e?.sso_organizations??[],baseAvatarUrl:e?.base_avatar_url??"https://avatars.githubusercontent.com"}),[e?.sso_organizations,e?.base_avatar_url])}},18337:(e,t,a)=>{a.d(t,{j:()=>s,p:()=>i});var n=a(74848),r=a(21728);function i(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("svg",{"aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M7.25 1.7793C9.371 1.77943 11.1858 3.00816 12.0166 4.80762C14.2732 5.06028 15.9999 6.94976 16 9.2793C16 9.32465 15.9976 9.37003 15.9961 9.41504H15.9971C15.9971 9.82924 15.6613 10.165 15.2471 10.165C14.8356 10.1648 14.5011 9.83347 14.4971 9.42285H14.4961C14.4983 9.37538 14.5 9.32737 14.5 9.2793C14.4999 7.60324 13.176 6.27947 11.5 6.2793C11.1806 6.2793 10.8958 6.07714 10.791 5.77539C10.284 4.31438 8.90436 3.27944 7.25 3.2793C5.1596 3.2793 3.50012 4.93893 3.5 7.0293C3.5 7.11497 3.50931 7.23128 3.52051 7.33887C3.52582 7.38984 3.53023 7.43466 3.53418 7.46582L3.53906 7.50098L3.54004 7.50977L3.54102 7.51074C3.59503 7.88942 3.35481 8.24868 2.98438 8.34375C2.1243 8.5636 1.5001 9.32996 1.5 10.2793C1.5 11.4033 2.37598 12.2793 3.5 12.2793H3.5332V12.2783C3.53974 12.2783 3.54624 12.2791 3.55273 12.2793H3.55371C3.95838 12.2902 4.28314 12.621 4.2832 13.0283C4.2832 13.4356 3.95841 13.7655 3.55371 13.7764V13.7793H3.5C1.54755 13.7793 0 12.2317 0 10.2793C8.74811e-05 8.86873 0.808798 7.66476 2.00098 7.1084C2.00028 7.08195 2 7.05535 2 7.0293C2.00012 4.1105 4.33118 1.7793 7.25 1.7793ZM6.49707 7.98242C6.78987 7.68961 7.2647 7.68979 7.55762 7.98242L9.80762 10.2324C9.94825 10.373 10.0273 10.5638 10.0273 10.7627C10.0273 10.9616 9.94827 11.1523 9.80762 11.293L7.55762 13.543C7.26472 13.8358 6.78992 13.8358 6.49707 13.543C6.20444 13.2501 6.20435 12.7753 6.49707 12.4824L8.2168 10.7627L6.49707 9.04297C6.20447 8.75008 6.20433 8.27522 6.49707 7.98242ZM14.5273 12.2627C14.9415 12.2627 15.2773 12.5985 15.2773 13.0127C15.2773 13.4269 14.9415 13.7627 14.5273 13.7627H11.5273C11.1133 13.7625 10.7773 13.4268 10.7773 13.0127C10.7774 12.5987 11.1133 12.2629 11.5273 12.2627H14.5273Z",fill:"currentColor"})}),t[0]=e):e=t[0],e}function s(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M14.4482 3.33337C18.7 3.33337 22.3305 5.81163 23.9131 9.41736C23.9174 9.4271 23.9218 9.43678 23.9258 9.44666L23.9287 9.45447C28.4413 9.79159 31.9629 13.4237 31.998 17.9789H31.9922C31.9894 18.5288 31.5438 18.974 30.9932 18.974C30.441 18.9739 29.9933 18.5261 29.9932 17.974H29.9971C29.9577 14.3305 27.0059 11.4291 23.2412 11.4291C22.8325 11.429 22.4654 11.1795 22.3135 10.8002L22.0752 10.2064C20.8076 7.33395 17.8991 5.33337 14.4482 5.33337C9.80134 5.33339 6.13785 8.95653 6.1377 13.476C6.1377 13.855 6.16656 14.2794 6.20605 14.4838C6.30638 15.004 5.98334 15.5117 5.46973 15.642C3.44486 16.1554 2 17.9258 2 20.0795C2.00003 22.6354 4.04211 24.6663 6.68945 24.6664H8.125C8.67643 24.6673 9.12289 25.1148 9.12305 25.6664C9.12305 26.2181 8.67653 26.6645 8.125 26.6654V26.6664H6.68945C2.97192 26.6663 3.31456e-05 23.774 0 20.0795C0 17.2864 1.70256 14.9426 4.14941 13.972C4.14121 13.7976 4.1377 13.6268 4.1377 13.476C4.13785 7.81789 8.73115 3.33339 14.4482 3.33337ZM13.9863 17.6185C14.3768 17.2282 15.0099 17.2284 15.4004 17.6185L19.0674 21.2855C19.2549 21.473 19.3603 21.7274 19.3604 21.9926C19.3604 22.2577 19.2548 22.5121 19.0674 22.6996L15.4004 26.3666C15.0099 26.7569 14.3768 26.757 13.9863 26.3666C13.5959 25.9761 13.596 25.3431 13.9863 24.9525L16.9463 21.9926L13.9863 19.0336C13.5958 18.643 13.5958 18.0091 13.9863 17.6185ZM28.6934 24.6595C29.2456 24.6595 29.6934 25.1073 29.6934 25.6595C29.6932 26.2117 29.2456 26.6595 28.6934 26.6595H22.0264C21.4744 26.6593 21.0265 26.2116 21.0264 25.6595C21.0264 25.1074 21.4743 24.6598 22.0264 24.6595H28.6934Z",fill:"currentColor"})}),t[0]=e):e=t[0],e}try{i.displayName||(i.displayName="AgentsIcon16")}catch{}try{s.displayName||(s.displayName="AgentsIcon32")}catch{}},74433:(e,t,a)=>{a.d(t,{C:()=>l});var n=a(74848),r=a(21728),i=a(38911),s=a(60039),o=a(96540);function l(e){let t,a,l,c=(0,r.c)(4),{onBannerDismiss:d,enabled:u}=e,[m,p]=(0,o.useState)(!1);return!(void 0===u||u)||m?null:(c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-bold",children:"Copilot coding agent now uses fewer premium requests!"})," From now on, each session uses just one premium request."]}),a=(0,n.jsx)(i.l.PrimaryAction,{as:"a",href:"https://docs.github.com/copilot/concepts/copilot-billing/understanding-and-managing-requests-in-copilot",children:"Learn more"}),c[0]=t,c[1]=a):(t=c[0],a=c[1]),c[2]!==d?(l=(0,n.jsx)(i.l,{variant:"upsell",title:"Copilot premium requests announcement",hideTitle:!0,description:t,primaryAction:a,onDismiss:async()=>{p(!0),d&&d(),await (0,s.DI)("/settings/dismiss-notice/copilot_coding_agent_premium_requests_banner",{method:"POST"})}}),c[2]=d,c[3]=l):l=c[3],l)}try{l.displayName||(l.displayName="PremiumRequestsBanner")}catch{}},15128:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(74848),r=a(24774),i=a(96540),s=a(53839),o=a(11617),l=a(82360),c=a(36185),d=a(13281);let u=(e,t)=>{let{state:a,placeholder:n,replacementText:r}=e.detail;"uploading"===a?(0,d.w0)(t)?(0,d.tJ)(t,n):(0,d.TC)(t,r):("uploaded"===a||"failed"===a)&&(0,d.TB)(t,n,r)},m=(e,t)=>{let{left:a,top:n}=e.detail,r=t.posAtCoords({x:a,y:n});r&&t.dispatch({selection:{anchor:r,head:r}})};var p=a(82521),h=a(84763),f=a(90989),g=a(45230),y=a(15874),x=a(44246);let _={key:"Tab",run:({state:e,dispatch:t})=>e.selection.ranges.some(e=>!e.empty)?(0,g.UY)({state:e,dispatch:t}):(t(e.update(e.replaceSelection(e.facet(y.Xt)),{scrollIntoView:!0,userEvent:"input"})),!0),shift:g.Mg};var v=a(87556);let b=[],j=[],C=(0,i.forwardRef)((e,t)=>{let{value:a="",extensions:g=b,keyBindings:y=j,height:C="85vh",width:N="100%",focusNextRenderRef:S,containerClassName:w,...I}=e,T=(0,i.useRef)(null),k=function({extensions:e=[],fileName:t="",onChange:a,spacing:n,isHpc:g,isReadOnly:y,enableFileUpload:b,parentRef:j,placeholder:C="Enter file contents here",ariaLabelledBy:N,value:S,width:w="",height:I="",minHeight:T="",hideHelpUntilFocus:k,hideHelp:E,onCreateEditor:A,onDestroyEditor:L}){let R=(0,i.useRef)(void 0),D=(0,i.useMemo)(()=>new s.xx,[]),P=(0,i.useMemo)(()=>new s.xx,[]),B=(0,i.useMemo)(()=>new s.xx,[]),M=(0,i.useCallback)(e=>{e.docChanged&&a(e.state.doc.toString()||"")},[a]),O=(0,i.useMemo)(()=>r.Lz.updateListener.of(M),[M]),F=(0,i.useMemo)(()=>r.Lz.theme({"&":{height:I,minHeight:T,width:w}}),[I,T,w]),$=(0,i.useMemo)(()=>{let t=[...o.o,O,F,(0,r.qf)(C),...(0,c.u)(n),(0,p.h)(),D.of([]),P.of([]),B.of([(0,l.O)()]),(0,h.I)(N),r.Lz.contentAttributes.of({"aria-labelledby":`${N} focus-trap-help-panel`}),r.Lz.editorAttributes.of({class:k?"hide-help-until-focus":""}),r.Lz.editorAttributes.of({class:E?"hide-help":""})];if(b&&(t.push((0,r.A)()),t.push([r.Lz.domEventHandlers({"upload:editor:change":u,"upload:editor:cursor":m})])),g&&t.push(r.Lz.editorAttributes.of({"data-hpc":"true"})),y)t.push((0,f.T)());else t.push([function(e,t,a){let n=new s.xx;return[n.of(a?t:[]),r.w4.of([{key:e,run:function(e){let a=n.get(e.state)===t;return e.dispatch({effects:n.reconfigure(a?[]:t)}),!0}}])]}("Shift-Ctrl-m",r.w4.of([_]),!0),(0,x.G)(function(){let e=document.createElement("div"),t=e=>{let t=document.createElement("kbd");return t.textContent=e,t};return e.append("Use ",t("Control + Shift + m")," to toggle the ",t("tab")," key moving focus. Alternatively, use ",t("esc")," then ",t("tab")," to move to the next interactive element on the page."),e.className="cm-help-panel",e.id="focus-trap-help-panel",e}(),E?"top":"bottom")]);return t.push(...e),t},[O,F,C,n,D,P,B,N,k,E,b,g,y,e]);return(0,i.useEffect)(()=>{let e=j.current;if(!e)return;let t=s.$t.create({doc:S,extensions:$}),a=new r.Lz({state:t,parent:e});return A?.(a),R.current=a,()=>{a.destroy(),L?.(a)}},[]),(0,i.useEffect)(()=>{R.current&&(R.current.dispatch({effects:P.reconfigure([])}),R.current.dispatch({effects:s.Pe.reconfigure.of($)}))},[P,$]),(0,i.useEffect)(()=>{if(R.current&&void 0!==S){let e=R.current.state.doc.toString()||"",t=S||"";if(t!==e){let a=(0,d.fJ)(e,t);a.length>0&&R.current.dispatch({changes:a,annotations:[f.H.of(!0)]})}}},[S]),(0,i.useEffect)(()=>{(0,v.r)({autoCompleteCompartment:P,fileName:t,languageCompartment:D,managedExtensions:$,themeCompartment:B,view:R.current})},[t,D,P,$,B]),R}({parentRef:T,value:a,height:C,width:N,extensions:(0,i.useMemo)(()=>[...g,r.w4.of(y)],[g,y]),...I});return(0,i.useImperativeHandle)(t,()=>({editor:T.current,view:k.current}),[T,k]),S?.current&&k&&(window.requestAnimationFrame(()=>{k.current&&!k.current.hasFocus&&k.current.focus()}),S.current=!1),(0,n.jsx)("div",{className:w,ref:T})});C.displayName="CodeMirror";let N=C},54763:(e,t,a)=>{a.d(t,{E:()=>i});var n=a(74848),r=a(69098);function i({children:e}){return(0,r.P)()?(0,n.jsx)(n.Fragment,{children:e}):null}try{i.displayName||(i.displayName="AllShortcutsEnabled")}catch{}},69098:(e,t,a)=>{a.d(t,{$:()=>s,P:()=>o});var n=a(74848),r=a(96540);let i=r.createContext(!0);function s({allShortcutsEnabled:e,children:t}){return(0,n.jsxs)(i.Provider,{value:e,children:[" ",t," "]})}function o(){return r.useContext(i)}try{i.displayName||(i.displayName="AllShortcutsEnabledContext")}catch{}try{s.displayName||(s.displayName="AllShortcutsEnabledProvider")}catch{}},85579:(e,t,a)=>{a.d(t,{Ck:()=>o,JS:()=>s});var n=a(74848),r=a(96540);let i=(0,r.createContext)({query:"",setQuery:()=>void 0});function s(){return(0,r.useContext)(i)}function o({children:e}){let[t,a]=(0,r.useState)(""),s=(0,r.useMemo)(()=>({query:t,setQuery:a}),[a,t]);return(0,n.jsx)(i.Provider,{value:s,children:e})}try{i.displayName||(i.displayName="FileQueryContext")}catch{}try{o.displayName||(o.displayName="FileQueryProvider")}catch{}},141:(e,t,a)=>{a.d(t,{eu:()=>l,qV:()=>o,sq:()=>c});var n=a(74848),r=a(64262),i=a(96540);let s=i.createContext({});function o({children:e,...t}){return(0,n.jsx)(s.Provider,{value:t,children:e})}function l(){return i.useContext(s)}function c(){return(0,r.X)()}try{s.displayName||(s.displayName="FilesPageInfoContext")}catch{}try{o.displayName||(o.displayName="FilesPageInfoProvider")}catch{}},75718:(e,t,a)=>{a.d(t,{P:()=>c});var n=a(74848),r=a(21728),i=a(38911),s=a(96540),o=a(47397);let l={ambientErrorBanner:"AmbientErrorBanner-module__ambientErrorBanner--iXbHt",largeBorderRadius:"AmbientErrorBanner-module__largeBorderRadius--Qk23B",mediumBorderRadius:"AmbientErrorBanner-module__mediumBorderRadius--dREtI"};function c(e){let t,a,c,u,m,p,h=(0,r.c)(14),{ambientError:f,useLargerBorderRadius:g}=e,y=(0,o.b)(),[x,_]=(0,s.useState)(0),v=void 0!==g&&g?l.largeBorderRadius:l.mediumBorderRadius,b=(0,s.useRef)(null);h[0]!==f.message?(t=()=>{if(f.message){_(d);let e=setTimeout(()=>{b.current&&b.current.focus()},250);return()=>clearTimeout(e)}},h[0]=f.message,h[1]=t):t=h[1],h[2]!==f?(a=[f],h[2]=f,h[3]=a):a=h[3],(0,s.useEffect)(t,a);let j=`${l.ambientErrorBanner} ${v}`;return h[4]===Symbol.for("react.memo_cache_sentinel")?(c={outline:"none"},h[4]=c):c=h[4],h[5]!==f.message?(u=(0,n.jsx)("div",{ref:b,tabIndex:-1,style:c,children:f.message}),h[5]=f.message,h[6]=u):u=h[6],h[7]!==y?(m=()=>{y.dismissAmbientError()},h[7]=y,h[8]=m):m=h[8],h[9]!==x||h[10]!==j||h[11]!==u||h[12]!==m?(p=(0,n.jsx)(i.l,{"aria-atomic":"true",className:j,description:u,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:m},x),h[9]=x,h[10]=j,h[11]=u,h[12]=m,h[13]=p):p=h[13],p}function d(e){return e+1}try{c.displayName||(c.displayName="AmbientErrorBanner")}catch{}},97785:(e,t,a)=>{a.d(t,{o:()=>d});var n=a(74848),r=a(21728),i=a(34164),s=a(96540);let o={chatImageAttachment:"ChatImage-module__chatImageAttachment--A31NV",squareView:"ChatImage-module__squareView--z0mEJ",fullView:"ChatImage-module__fullView--n3xkp",userAttachedImage:"ChatImage-module__userAttachedImage--fpKCB",overlay:"ChatImage-module__overlay--KqENn",overlayScreen:"ChatImage-module__overlayScreen--QlNhZ",expandIcon:"ChatImage-module__expandIcon--B0sBN"};function l(e){let t,a,i=(0,r.c)(5),{className:s,size:o}=e,l=o||14,c=o||14;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.672 5.342a.8.8 0 0 0 .05-.295V.805a.75.75 0 0 0-.75-.75H8.73a.75.75 0 0 0 0 1.5h2.433L8.138 4.577A.75.75 0 0 0 9.2 5.638l3.024-3.023v2.432a.75.75 0 0 0 1.45.295M.328 8.657a.8.8 0 0 0-.05.295v4.243a.75.75 0 0 0 .75.75h4.243a.75.75 0 0 0 0-1.5H2.838l3.024-3.023A.75.75 0 1 0 4.8 8.362l-3.024 3.023V8.952a.75.75 0 0 0-1.45-.295",clipRule:"evenodd"}),i[0]=t):t=i[0],i[1]!==s||i[2]!==l||i[3]!==c?(a=(0,n.jsx)("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:l,height:c,fill:"none",viewBox:"0 0 14 14",role:"presentation",children:t}),i[1]=s,i[2]=l,i[3]=c,i[4]=a):a=i[4],a}try{l.displayName||(l.displayName="ExpandIcon")}catch{}let c=e=>{let t,a,c,d,u,m,p,h,f,g=(0,r.c)(25),{src:y,alt:x,onClick:_,useOverlay:v,mode:b,squareView:j}=e,[C,N]=(0,s.useState)(!1),S=j?o.squareView:o.fullView,w="assistive"===b;g[0]!==S||g[1]!==w?(t=(0,i.$)(o.chatImageAttachment,S,{assistive:w}),g[0]=S,g[1]=w,g[2]=t):t=g[2];let I=j?o.squareView:o.fullView;return g[3]!==I?(a=(0,i.$)(o.userAttachedImage,I),g[3]=I,g[4]=a):a=g[4],g[5]!==x||g[6]!==y||g[7]!==a?(c=(0,n.jsx)("img",{className:a,src:y,alt:x}),g[5]=x,g[6]=y,g[7]=a,g[8]=c):c=g[8],g[9]!==C||g[10]!==j?(d=(0,i.$)(o.overlay,{hovered:C,[o.squareView]:j}),g[9]=C,g[10]=j,g[11]=d):d=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(u=()=>N(!0),m=()=>N(!1),g[12]=u,g[13]=m):(u=g[12],m=g[13]),g[14]!==v?(p=v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:o.overlayScreen}),(0,n.jsx)(l,{className:o.expandIcon,size:20})]}),g[14]=v,g[15]=p):p=g[15],g[16]!==_||g[17]!==y||g[18]!==p||g[19]!==d?(h=(0,n.jsx)("a",{href:y,className:d,onClick:_,onMouseEnter:u,onMouseLeave:m,"aria-label":"Open image thumbnail",target:"_blank",rel:"noreferrer",children:p}),g[16]=_,g[17]=y,g[18]=p,g[19]=d,g[20]=h):h=g[20],g[21]!==h||g[22]!==t||g[23]!==c?(f=(0,n.jsxs)("div",{className:t,children:[c,h]}),g[21]=h,g[22]=t,g[23]=c,g[24]=f):f=g[24],f},d=(0,s.memo)(c);try{c.displayName||(c.displayName="ChatImageUnmemoized")}catch{}try{d.displayName||(d.displayName="ChatImage")}catch{}},83880:(e,t,a)=>{a.d(t,{$:()=>o,V:()=>l});var n=a(74848),r=a(21728),i=a(96540);let s=(0,i.createContext)(void 0),o=e=>{let t,a,i,o=(0,r.c)(5),{message:l,children:c}=e;return o[0]!==l?(a={message:l},o[0]=l,o[1]=a):a=o[1],t=a,o[2]!==c||o[3]!==t?(i=(0,n.jsx)(s.Provider,{value:t,children:c}),o[2]=c,o[3]=t,o[4]=i):i=o[4],i},l=()=>{let e=(0,i.useContext)(s);if(!e)throw Error("useChatMessage must be used with ChatMessageProvider.");return e};try{s.displayName||(s.displayName="ChatMessageContext")}catch{}try{o.displayName||(o.displayName="ChatMessageProvider")}catch{}},9205:(e,t,a)=>{a.d(t,{Q:()=>c});var n=a(74848),r=a(21728),i=a(38621),s=a(72010),o=a(38695);let l={Details:"ChatMessageMcpToolResultsList-module__Details--suJ4D",ToolInputOutputHeading:"ChatMessageMcpToolResultsList-module__ToolInputOutputHeading--np_vq",ToolInputOutputContents:"ChatMessageMcpToolResultsList-module__ToolInputOutputContents--GIRXO"};function c(e){let t,a,i=(0,r.c)(4),{mcpToolResults:s}=e;return s&&0!==s.length?(i[0]!==s?(t=s.map(d),i[0]=s,i[1]=t):t=i[1],i[2]!==t?(a=(0,n.jsx)("div",{className:"mb-2",children:t}),i[2]=t,i[3]=a):a=i[3],a):null}function d(e){return(0,n.jsx)(u,{result:e},e.toolName)}function u(e){let t,a,c,d,u,m,p,h,f,g,y,x,_,v=(0,r.c)(29),{result:b}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(t={},v[0]=t):t=v[0];let{getDetailsProps:j,open:C}=(0,s.A)(t),N=b.toolName;return v[1]!==j?(a=j(),v[1]=j,v[2]=a):a=v[2],v[3]!==C?(c=!C&&(0,n.jsx)(i.ChevronRightIcon,{size:16,className:"mr-1 inline-block"}),v[3]=C,v[4]=c):c=v[4],v[5]!==C?(d=C&&(0,n.jsx)(i.ChevronDownIcon,{size:16,className:"mr-1 inline-block"}),v[5]=C,v[6]=d):d=v[6],v[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(i.ToolsIcon,{size:16,className:"mr-1 inline-block"}),v[7]=u):u=v[7],v[8]!==b.serverName||v[9]!==b.toolName||v[10]!==c||v[11]!==d?(m=(0,n.jsxs)("summary",{children:[c,d,u,"Called ",b.toolName," from ",b.serverName]}),v[8]=b.serverName,v[9]=b.toolName,v[10]=c,v[11]=d,v[12]=m):m=v[12],v[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Input"}),v[13]=p):p=v[13],v[14]!==b.toolArguments?(h=JSON.stringify(b.toolArguments,null,2),v[14]=b.toolArguments,v[15]=h):h=v[15],v[16]!==h?(f=(0,n.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,n.jsx)("span",{className:l.ToolInputOutputContents,children:h})}),v[16]=h,v[17]=f):f=v[17],v[18]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Output"}),v[18]=g):g=v[18],v[19]!==b.toolResponse?(y=JSON.stringify(b.toolResponse,null,2),v[19]=b.toolResponse,v[20]=y):y=v[20],v[21]!==y?(x=(0,n.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,n.jsx)("span",{className:l.ToolInputOutputContents,children:y})}),v[21]=y,v[22]=x):x=v[22],v[23]!==b.toolName||v[24]!==f||v[25]!==x||v[26]!==a||v[27]!==m?(_=(0,n.jsxs)(o.A,{className:l.Details,...a,children:[m,p,f,g,x]},N),v[23]=b.toolName,v[24]=f,v[25]=x,v[26]=a,v[27]=m,v[28]=_):_=v[28],_}try{c.displayName||(c.displayName="ChatMessageMcpToolResultsList")}catch{}try{u.displayName||(u.displayName="McpToolResult")}catch{}},44669:(e,t,a)=>{a.d(t,{A:()=>d,i:()=>c});var n=a(74848),r=a(21728),i=a(96679),s=a(96540),o=a(34901),l=a(40136);let c=e=>{let t,a,c,d,u=(0,r.c)(10),{isLastGroup:m,children:p}=e,{scrollContainerHeight:h,scrollToBottom:f}=(0,l.b)(),{threadHasNewMessages:g,pendingFirstMessage:y}=(0,o.Pk)(),x=m&&(g||y);if(u[0]!==x||u[1]!==f?(t=()=>{x&&f("smooth")},a=[x,f],u[0]=x,u[1]=f,u[2]=t,u[3]=a):(t=u[2],a=u[3]),(0,s.useEffect)(t,a),x)if(i.cg?.CSS?.supports("container-type: size")){let e;u[4]===Symbol.for("react.memo_cache_sentinel")?(e={minHeight:"100cqh"},u[4]=e):e=u[4],d=e}else{let e;u[5]!==h?(e={minHeight:h},u[5]=h,u[6]=e):e=u[6],d=e}return u[7]!==p||u[8]!==d?(c=(0,n.jsx)("div",{style:d,children:p}),u[7]=p,u[8]=d,u[9]=c):c=u[9],c};function d(e){return e.reduce((e,t)=>{let a=e.at(-1);return"assistant"===(a?.at(-1)?.role??"assistant")&&"user"===t.role?e.push([t]):a?.push(t),e},[])}try{c.displayName||(c.displayName="ChatMessagesGroup")}catch{}},78758:(e,t,a)=>{a.d(t,{t:()=>R,s:()=>A});var n,r=a(74848),i=a(38621),s=a(72010),o=a(38695),l=a(15385),c=a(34614),d=a(53110),u=a(34164),m=a(96540),p=a(22069),h=a(31971),f=a(34901),g=a(65011),y=a(58569),x=a(10569),_=a(47397);let v={ActionList_LinkItem:"ChatReference-module__ActionList_LinkItem--cFCZu"};var b=a(42342),j=a(53655);function C({reference:e,onClick:t}){let a,n=(0,f.Pk)(),s=(0,_.b)(),o=(0,m.useRef)(null),[c,d]=(0,m.useState)(!1),h=n?.mode??"assistive",{currentReferences:g}=n??{currentReferences:[]},C=(0,m.useMemo)(()=>g.map(e=>(0,p.Vb)(e)),[g]),N=(0,m.useMemo)(()=>(0,p.Vb)(e),[e]),S=(0,m.useMemo)(()=>"repo-instructions"===e.type,[e]),w=(0,m.useMemo)(()=>"org-instructions"===e.type,[e]),I=!S&&!w&&"web-search-result"!==e.type,T=(0,m.useMemo)(()=>S||w||C.includes(N),[S,w,C,N]),k=(0,m.useCallback)(t=>{t.stopPropagation(),T||s.addReference(e,"refMenu")},[s,e,T]),E=(0,p.JP)(e),A=(0,p.Xs)(E),L=(0,j.a_)(e,(0,p.P)(n?.currentTopic));switch(e.type){case"file":case"snippet":{a=`${e.repoName}`;let t=e.path.lastIndexOf("/");-1!==t&&(a=`${a}/${e.path.substring(0,t)}`);break}case"web-search-result":a=new URL(e.url,window.location.origin).hostname.replace(/^www\./,"")}let R=(0,p.z$)(e);return(0,r.jsxs)(l.l.LinkItem,{onClick:a=>{t&&!a.defaultPrevented&&t(e,a)},href:E,rel:"noopener",className:(0,u.$)("reference-action",v.ActionList_LinkItem),target:"immersive"===h||"third-party"===e.type?"_blank":void 0,children:[L&&(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(L,{})}),(0,r.jsxs)(y.A,{title:R,maxWidth:"100%",className:"text-semibold",children:[R,a&&(0,r.jsx)("span",{className:"color-fg-muted ml-2",children:a})]}),I&&(0,r.jsx)(l.l.TrailingAction,{onClick:()=>d(!0),icon:i.KebabHorizontalIcon,label:"More reference options",ref:o}),I&&(0,r.jsx)(x.W,{anchorRef:o,open:c,onOpenChange:d,children:(0,r.jsx)(b.UJ,{portalContainerName:b.Dq,children:(0,r.jsxs)(l.l,{children:[A&&("immersive"===h||["third-party","folder","repository","docset"].includes(e.type)?(0,r.jsxs)(l.l.LinkItem,{href:E,rel:"noopener",target:"_blank",children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(i.LinkIcon,{})}),"Open"]}):(0,r.jsxs)(l.l.Item,{onSelect:()=>{s.selectReference(e)},children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(i.LinkIcon,{})}),"Preview"]})),(0,r.jsxs)(l.l.Item,{onSelect:k,disabled:T,children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(i.PaperclipIcon,{})}),"Attach to chat"]})]})})})]})}try{C.displayName||(C.displayName="OutputReference")}catch{}try{(n=Icon).displayName||(n.displayName="Icon")}catch{}let N={referencesContainer:"ChatReferences-module__referencesContainer--Lxpin",referencesListImmersiveContainer:"ChatReferences-module__referencesListImmersiveContainer--iscAs",title:"ChatReferences-module__title--zwhMS",assistiveTitle:"ChatReferences-module__assistiveTitle--vngwU",referencesDetails:"ChatReferences-module__referencesDetails--f5bdD",referenceTokensOuterContainer:"ChatReferences-module__referenceTokensOuterContainer--tFG8Q",referenceTokensContainer:"ChatReferences-module__referenceTokensContainer--PGYAF",chatMessageReferenceListFooter:"ChatReferences-module__chatMessageReferenceListFooter--nkt6v",chevronDownIcon:"ChatReferences-module__chevronDownIcon--NVWr8",chevronUpIcon:"ChatReferences-module__chevronUpIcon--JiO80",ActionList:"ChatReferences-module__ActionList--Mx5sd"};var S=a(21728),w=a(63867);let I={referenceToken:"FigmaChatReference-module__referenceToken--Qn1Il",name:"FigmaChatReference-module__name--fKkEE",content:"FigmaChatReference-module__content--X8uXy",thumbnail:"FigmaChatReference-module__thumbnail--PaX46",thumbnailHidden:"FigmaChatReference-module__thumbnailHidden--PBOGz",thumbnailOuter:"FigmaChatReference-module__thumbnailOuter--sO8P4",thumbnailLoading:"FigmaChatReference-module__thumbnailLoading--PKK05",figmaIconOuter:"FigmaChatReference-module__figmaIconOuter--dd0HF",figmaIcon:"FigmaChatReference-module__figmaIcon--iPM9K"};var T=a(39038);let k=(0,m.forwardRef)(function(e,t){let a,n,i,s,o,l,c,d,h,f,g=(0,S.c)(23);g[0]!==e?({reference:a,...n}=e,g[0]=e,g[1]=a,g[2]=n):(a=g[1],n=g[2]);let[y,x]=(0,m.useState)(!0);return g[3]!==a?(i=(0,p.JP)(a),g[3]=a,g[4]=i):i=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,u.$)(I.referenceToken),g[5]=s):s=g[5],g[6]!==a.thumbnailUrl||g[7]!==a.title||g[8]!==y?(o=a.thumbnailUrl&&(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsx)("span",{className:I.thumbnailLoading,children:(0,r.jsx)(w.A,{size:"medium"})}),(0,r.jsx)("img",{className:(0,u.$)(I.thumbnail,{[I.thumbnailHidden]:y}),src:a.thumbnailUrl,alt:`preview thumbnail for ${a.title}`,onLoad:()=>x(!1)})]}),g[6]=a.thumbnailUrl,g[7]=a.title,g[8]=y,g[9]=o):o=g[9],g[10]!==o?(l=(0,r.jsx)("span",{className:I.thumbnailOuter,children:o}),g[10]=o,g[11]=l):l=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)("div",{className:I.figmaIconOuter,children:(0,r.jsx)(T._,{className:I.figmaIcon})}),g[12]=c):c=g[12],g[13]!==a?(d=(0,p.z$)(a),g[13]=a,g[14]=d):d=g[14],g[15]!==d?(h=(0,r.jsxs)("span",{className:I.content,children:[c,(0,r.jsx)("span",{className:I.name,children:d})]}),g[15]=d,g[16]=h):h=g[16],g[17]!==t||g[18]!==n||g[19]!==i||g[20]!==l||g[21]!==h?(f=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("a",{href:i,className:s,ref:t,target:"_blank",rel:"noreferrer",...n,children:[l,h]})}),g[17]=t,g[18]=n,g[19]=i,g[20]=l,g[21]=h,g[22]=f):f=g[22],f});try{k.displayName||(k.displayName="FigmaChatReference")}catch{}var E=a(5279);function A({references:e,onToggle:t,onClick:a,isImmersive:n,className:h}){let g=(0,f.Pk)(),y=(0,m.useMemo)(()=>(0,p.rT)(e),[e]),{getDetailsProps:x}=(0,s.A)({}),_=(0,m.useMemo)(()=>(0,p.P)(g?.currentTopic)&&y.every(L),[g?.currentTopic,y]),v=(0,m.useMemo)(()=>y.some(e=>"web-search-result"===e.type),[y]);if(0===y.length)return null;let b=_&&g?.currentTopic?.name?`Search results from ${g.currentTopic.name}`:`${y.length} ${1===y.length?"reference":"references"}`;return(0,r.jsxs)(o.A,{...x(),onToggle:t,className:(0,u.$)(h,N.referencesDetails),children:[(0,r.jsxs)("summary",{className:(0,u.$)(N.referencesContainer),children:[(0,r.jsx)("span",{className:(0,u.$)(N.title,n?"":N.assistiveTitle),children:b}),(0,r.jsx)(d.A,{icon:i.ChevronDownIcon,className:(0,u.$)("references-chevron-down",N.chevronDownIcon)}),(0,r.jsx)(d.A,{icon:i.ChevronUpIcon,className:(0,u.$)("references-chevron-up",N.chevronUpIcon)})]}),(0,r.jsxs)(l.l,{className:(0,u.$)(n&&N.referencesListImmersiveContainer,N.ActionList),children:[y.map(e=>(0,r.jsx)(C,{reference:e,onClick:a},(0,p.Vb)(e))),v&&(0,r.jsxs)("div",{className:N.chatMessageReferenceListFooter,children:["Copilot used the"," ",(0,r.jsx)(c.A,{inline:!0,href:"https://gh.io/azure-ai-agent-with-bing-grounding",target:"_blank",rel:"noopener noreferrer",children:"Bing Search"})," ","tool."," ",(0,r.jsx)(c.A,{inline:!0,href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})]})]})]})}function L(e){return"snippet"===e.type&&!!e.languageName&&g.Yr.has(e.languageName)}function R({references:e,message:t,className:a,size:n,onClickReference:i,getReferenceVersion:s}){let{bigReferences:o,smallReferences:l}=(0,m.useMemo)(()=>(function(e){let t=(0,p.rT)(e),a=[],n=[];for(let e of t)D.has(e.type)?a.push(e):n.push(e);return{bigReferences:a,smallReferences:n}})(e),[e]),c=e=>"figma"===e.type&&h.W.immersiveFigmaIntegration?(0,r.jsx)(k,{reference:e,onClick:t=>i?.(e,t)},(0,p.Vb)(e)):(0,r.jsx)(j.BR,{message:t,reference:e,size:n,onClick:(t,a)=>i?.(e,a),getReferenceVersion:s},(0,p.Vb)(e));return(0,r.jsxs)(E.M,{"aria-label":"Attachments",className:(0,u.$)(N.referenceTokensOuterContainer,a),children:[o.map(c),(0,r.jsx)("div",{className:N.referenceTokensContainer,children:l.map(c)})]})}let D=new Set(["figma","image"]);try{A.displayName||(A.displayName="ChatMessageReferencesList")}catch{}try{R.displayName||(R.displayName="ChatMessageReferenceTokens")}catch{}try{D.displayName||(D.displayName="BIG_REFERENCE_TYPES")}catch{}},40136:(e,t,a)=>{a.d(t,{$:()=>d,b:()=>u});var n=a(74848),r=a(21728),i=a(81425),s=a(34164),o=a(96540);let l={container:"ChatScrollContainer-module__container--b73rS"},c=(0,o.createContext)(null);function d(e){let t,a,d,u,m,p,h,f,g,y,x,_,v,b,j,C=(0,r.c)(30);C[0]!==e?({children:a,disabled:d,containerRef:t,...u}=e,C[0]=e,C[1]=t,C[2]=a,C[3]=d,C[4]=u):(t=C[1],a=C[2],d=C[3],u=C[4]);let N=(0,i.L)(t),S=(0,o.useRef)(null),[w,I]=(0,o.useState)(!1);C[5]!==N.current?(m=()=>{let e=new IntersectionObserver(e=>{let[t]=e;return I(!t?.isIntersecting)},{root:N.current,threshold:0,rootMargin:"50px"});return e.observe(S.current),()=>e.disconnect()},C[5]=N.current,C[6]=m):m=C[6],C[7]!==N?(p=[N],C[7]=N,C[8]=p):p=C[8],(0,o.useEffect)(m,p);let[T,k]=(0,o.useState)();C[9]!==N.current?(h=()=>{let e=()=>{if(!N.current)return;let e=getComputedStyle(N.current);k(`calc(${N.current.clientHeight}px - ${e.paddingTop} - ${e.paddingBottom})`)},t=new ResizeObserver(e);return e(),t.observe(N.current),()=>t.disconnect()},C[9]=N.current,C[10]=h):h=C[10],C[11]!==N?(f=[N],C[11]=N,C[12]=f):f=C[12],(0,o.useEffect)(h,f),C[13]!==d?(g=e=>{d||S.current?.scrollIntoView({behavior:e,block:"end"})},C[13]=d,C[14]=g):g=C[14];let E=g;return C[15]!==w||C[16]!==T||C[17]!==E?(x={isScrolledUp:w,scrollToBottom:E,scrollContainerHeight:T},C[15]=w,C[16]=T,C[17]=E,C[18]=x):x=C[18],y=x,C[19]!==u.className?(_=(0,s.$)(l.container,u.className),C[19]=u.className,C[20]=_):_=C[20],C[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)("div",{ref:S,style:{height:"1px",marginTop:"-1px"}}),C[21]=v):v=C[21],C[22]!==a||C[23]!==N||C[24]!==u||C[25]!==_?(b=(0,n.jsxs)("div",{ref:N,...u,className:_,children:[a,v]}),C[22]=a,C[23]=N,C[24]=u,C[25]=_,C[26]=b):b=C[26],C[27]!==y||C[28]!==b?(j=(0,n.jsx)(c.Provider,{value:y,children:b}),C[27]=y,C[28]=b,C[29]=j):j=C[29],j}let u=()=>{let e=(0,o.useContext)(c);if(!e)throw Error("useChatScroll may only be called in a descendant of ChatScrollContainer");return e};try{c.displayName||(c.displayName="ChatScrollContext")}catch{}try{d.displayName||(d.displayName="ChatScrollContainer")}catch{}},32702:(e,t,a)=>{a.d(t,{m:()=>u});var n=a(74848),r=a(21728),i=a(84217),s=a(55847),o=a(34164),l=a(96540),c=a(34901);let d={ConfirmationContainer:"Confirmation-module__ConfirmationContainer--UNcKY",confirmationTitle:"Confirmation-module__confirmationTitle--G7KBr",confirmationMessage:"Confirmation-module__confirmationMessage--lI92p",actionButtonsContainer:"Confirmation-module__actionButtonsContainer--YJhM5"};function u(e){let t,a,u,p,h,f,g,y=(0,r.c)(22),{confirmation:x,handleConfirmation:_,isLatestMessage:v}=e,b=(0,c.Pk)();if(y[0]!==x.confirmation||y[1]!==b.allClientConfirmations){let e=JSON.stringify(Object.values(x.confirmation).sort());t=b.allClientConfirmations?.includes(e),y[0]=x.confirmation,y[1]=b.allClientConfirmations,y[2]=t}else t=y[2];let j=t,{isWaitingOnCopilot:C,currentUserLogin:N}=b,[S,w]=(0,l.useState)(j&&!v);y[3]!==x.confirmation||y[4]!==x.onSubmit||y[5]!==x.title||y[6]!==N||y[7]!==_?(a=e=>{w(!0),_({state:e,userLogin:N,confirmation:x.confirmation},x.title,x.onSubmit)},y[3]=x.confirmation,y[4]=x.onSubmit,y[5]=x.title,y[6]=N,y[7]=_,y[8]=a):a=y[8];let I=a;return y[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.$)("border rounded-2",d.ConfirmationContainer),y[9]=u):u=y[9],y[10]!==x.title?(p=(0,n.jsx)(i.A,{as:"h3",className:d.confirmationTitle,children:x.title}),y[10]=x.title,y[11]=p):p=y[11],y[12]!==x.message?(h=x.message.split(`
`).map(m),y[12]=x.message,y[13]=h):h=y[13],y[14]!==S||y[15]!==I||y[16]!==C?(f=!S&&(0,n.jsxs)("div",{className:d.actionButtonsContainer,children:[(0,n.jsx)(s.Q,{disabled:C,variant:"primary",onClick:()=>I("accepted"),children:"Allow"}),(0,n.jsx)(s.Q,{disabled:C,onClick:()=>I("dismissed"),children:"Dismiss"})]}),y[14]=S,y[15]=I,y[16]=C,y[17]=f):f=y[17],y[18]!==p||y[19]!==h||y[20]!==f?(g=(0,n.jsxs)("div",{className:u,children:[p,h,f]}),y[18]=p,y[19]=h,y[20]=f,y[21]=g):g=y[21],g}function m(e){return(0,n.jsx)("p",{className:d.confirmationMessage,children:e},e)}try{u.displayName||(u.displayName="Confirmation")}catch{}},33484:(e,t,a)=>{a.d(t,{l:()=>u});var n=a(74848),r=a(21728),i=a(13455),s=a(60039),o=a(96540),l=a(31971),c=a(69458);let d=[{name:"Hate it",value:1,icon:i.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:i.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:i.Cf,color:"satisfied"},{name:"Love it",value:4,icon:i.mN,color:"verySatisfied"}],u=(0,o.forwardRef)(function(e,t){let a,u,m,p,h=(0,r.c)(7),{mode:f,returnFocusRef:g}=e,y=(0,o.useRef)(null),x=(0,o.useRef)(null),_=(0,o.useRef)(void 0);h[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>({openDialog:e=>{_.current=e,l.W.copilotChatInterviewSurvey?y.current?.openDialog():x.current?.openDialog(e)}}),h[0]=a):a=h[0],(0,o.useImperativeHandle)(t,a),h[1]!==f?(u=async(e,t)=>{let a=[];if(null==e&&a.push("Please select a rating."),t.length>2e3&&a.push("Please keep your feedback within 2000 characters or less."),a.length>0)return a;let n={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,s.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok||a.push("An error occurred while submitting your feedback.")}catch{a.push("An error occurred while submitting your feedback.")}return a},h[1]=f,h[2]=u):u=h[2];let v=u;return h[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(c.E,{ref:y,onClose:e=>{"no-thanks"===e&&x.current?.openDialog(_.current)}}),h[3]=m):m=h[3],h[4]!==v||h[5]!==g?(p=(0,n.jsxs)(n.Fragment,{children:[m,(0,n.jsx)(i.NE,{ref:x,options:d,onSubmit:v,returnFocusRef:g})]}),h[4]=v,h[5]=g,h[6]=p):p=h[6],p});u.displayName="ConversationFeedbackDialog"},45064:(e,t,a)=>{a.d(t,{W:()=>p});var n=a(74848),r=a(21728),i=a(50539),s=a(34164),o=a(96540);let l={copilotBadge:"CopilotBadgeV2-module__copilotBadge--OJjfk",loading:"CopilotBadgeV2-module__loading--NG3DO",animation:"CopilotBadgeV2-module__animation--cRY_E",assistive:"CopilotBadgeV2-module__assistive--aZiUP",clickableAnimationWrapper:"CopilotBadgeV2-module__clickableAnimationWrapper--mY4Cy"},c=[i.L.Tickle,i.L.Celebrate,i.L.JumpWiggle],d=["yes","absolutely","certainly","sure","definitely","right","correct","indeed","precisely","exactly","true","affirmative","agree","agreed"],u=["no","never","negative","wrong","false","untrue","cannot","can't","sorry","incorrect","deny","disagree","refuse","unfortunately"];function m(e){let t=new Date(e);return(new Date().getTime()-t.getTime())/1e3/60<.5}function p(e){let t,a,p,f,g,y,x,_,v,b,j=(0,r.c)(37),{isFirstMessage:C,isLoading:N,isLoadingSkills:S,isError:w,className:I,mode:T,message:k,createdAt:E}=e,A=void 0!==C&&C;j[0]!==E||j[1]!==A?(t=()=>({animationType:A&&(!E||m(E))?i.L.Celebrate:i.L.Static,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!1}),j[0]=E,j[1]=A,j[2]=t):t=j[2];let[L,R]=(0,o.useState)(t);j[3]!==E||j[4]!==w||j[5]!==N||j[6]!==S||j[7]!==k?(a=()=>{m(E)&&R(e=>(function({previousState:e,isLoadingSkills:t,isAffirmativeSentiment:a,isNegativeSentiment:n,isError:r,isLoading:s}){switch(e.animationType){case i.L.Static:if((a||n)&&!r&&!e.hasLoadedMessage)return{animationType:a?i.L.Affirmative:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(t)return{...e,animationType:i.L.Thinking,loopAnimation:!0};if(!s&&!e.hasLoadedMessage&&!r)return{animationType:i.L.Confirm,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(r&&!e.hasLoadedMessage)return{animationType:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};return e;case i.L.Thinking:if(!t)return{...e,animationType:r?i.L.Negative:i.L.Static,loopAnimation:!1};return e;default:return e}})({previousState:e,isLoadingSkills:S||!1,isError:w||!1,isLoading:N||!1,isAffirmativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return d.some(e=>t.includes(e.toLowerCase()))}return!1}(k),isNegativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return u.some(e=>t.includes(e.toLowerCase()))}return!1}(k)}))},j[3]=E,j[4]=w,j[5]=N,j[6]=S,j[7]=k,j[8]=a):a=j[8],j[9]!==L.animationType||j[10]!==L.hasLoadedMessage||j[11]!==E||j[12]!==w||j[13]!==A||j[14]!==N||j[15]!==S||j[16]!==k?(p=[S,w,N,L.animationType,L.hasLoadedMessage,A,k,E],j[9]=L.animationType,j[10]=L.hasLoadedMessage,j[11]=E,j[12]=w,j[13]=A,j[14]=N,j[15]=S,j[16]=k,j[17]=p):p=j[17],(0,o.useEffect)(a,p),j[18]!==L||j[19]!==N?(f=()=>{N||R({...L,animationType:c[Math.floor(Math.random()*c.length)],onFinish:i.L.Static,loopAnimation:!1})},j[18]=L,j[19]=N,j[20]=f):f=j[20];let D=f,P=N&&l.loading;j[21]!==I||j[22]!==P?(g=(0,s.$)(l.copilotBadge,P,I),j[21]=I,j[22]=P,j[23]=g):g=j[23];let B=L.animationType;j[24]===Symbol.for("react.memo_cache_sentinel")?(y=()=>R(h),j[24]=y):y=j[24];let M=L.loopAnimation,O="assistive"===T&&l.assistive;return j[25]!==O?(x=(0,s.$)(l.animation,O),j[25]=O,j[26]=x):x=j[26],j[27]!==L.animationType||j[28]!==L.loopAnimation||j[29]!==x?(_=(0,n.jsx)(i.N,{animationType:B,onAnimationEnd:y,loopAnimation:M,className:x}),j[27]=L.animationType,j[28]=L.loopAnimation,j[29]=x,j[30]=_):_=j[30],j[31]!==D||j[32]!==_?(v=(0,n.jsx)("div",{onClick:D,className:l.clickableAnimationWrapper,children:_}),j[31]=D,j[32]=_,j[33]=v):v=j[33],j[34]!==v||j[35]!==g?(b=(0,n.jsx)("div",{className:g,"aria-label":"Copilot badge",role:"img",children:v}),j[34]=v,j[35]=g,j[36]=b):b=j[36],b}function h(e){return{...e,animationType:e.onFinish}}try{p.displayName||(p.displayName="CopilotBadge")}catch{}},69632:(e,t,a)=>{a.d(t,{h:()=>C,K:()=>b});var n=a(74848),r=a(21728),i=a(24991),s=a(38621),o=a(6869),l=a(34614),c=a(34441);function d({error:e,className:t}){let a=e.identifier||"",r=a.split("url=")[1]||"",i=a.match(/\/([^/]+)\/sso/),d=i&&i[1]||"";return d&&r?(0,n.jsx)("div",{className:t,"data-testid":"sso-banner",children:(0,n.jsx)("div",{className:c.A.Box,children:(0,n.jsx)("section",{"aria-label":"Single sign-on information",children:(0,n.jsx)(o.A,{sx:{borderRadius:2,borderWidth:1},className:c.A.Flash,children:(0,n.jsxs)("div",{children:[(0,n.jsx)(s.ShieldLockIcon,{}),(0,n.jsx)(l.A,{inline:!0,href:function({authorizeUrl:e}){let t=new URL(e,window.location.origin);return t.searchParams.set("return_to",window.location.toString()),t.toString()}({authorizeUrl:r}),children:"Single sign-on"})," ","to see results in the ",(0,n.jsx)("b",{children:d})," organization."]})})})})}):null}try{d.displayName||(d.displayName="SSOBannerFromError")}catch{}var u=a(98386),m=a(87330),p=a(55847),h=a(38911),f=a(34164),g=a(96540),y=a(22069),x=a(66889),_=a(79929),v=a(83880);function b(e){let t=(0,r.c)(8),{manager:a}=e,{message:i}=(0,v.V)(),{error:s}=i;if(!s)return null;switch(s.type){case"agentUnauthorized":{let e;return t[0]!==s||t[1]!==a?(e=(0,n.jsx)(j,{error:s,manager:a}),t[0]=s,t[1]=a,t[2]=e):e=t[2],e}case"agentRequest":{let e;return t[3]!==s.details?(e=(0,n.jsx)(C,{errors:[s.details]}),t[3]=s.details,t[4]=e):e=t[4],e}default:{let e,a;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,u.G)("error-message-banner"),t[5]=e):e=t[5];let r=s.message||"Something went wrong";return t[6]!==r?(a=(0,n.jsx)(h.l,{...e,title:"Error",hideTitle:!0,description:r,variant:"warning"}),t[6]=r,t[7]=a):a=t[7],a}}}function j(e){let t,a,i,o,l,c,d,h,x,v,b,j=(0,r.c)(25),{error:C,manager:N}=e,{details:S}=C,[w,I]=(0,g.useState)(!1);j[0]!==S.name||j[1]!==N?(t=()=>{I(!0),N.dispatch({type:"MESSAGE_ADDED",message:(0,y.Y6)({role:"user",content:`Dismissed the connection with ${S.name}.`,mediaContent:[],parentMessageID:N.FindLastMessageID()})}),N.dispatch({type:"MESSAGE_ADDED",message:(0,y.Y6)({role:"assistant",content:`I was unable to connect you to ${S.name} because you cancelled the authentication.`,mediaContent:[],parentMessageID:N.FindLastMessageID()})})},j[0]=S.name,j[1]=N,j[2]=t):t=j[2];let T=t;j[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,u.G)("agent-unauthorized-error"),j[3]=a):a=j[3],j[4]!==w||j[5]!==T?(i=!w&&(0,n.jsx)(m.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:s.XIcon,onClick:T,variant:"invisible",unsafeDisableTooltip:!0}),j[4]=w,j[5]=T,j[6]=i):i=j[6],j[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(s.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),l=(0,n.jsx)(s.LinkIcon,{className:"fgColor-muted"}),c=(0,f.$)("avatar",_.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),j[7]=o,j[8]=l,j[9]=c):(o=j[7],l=j[8],c=j[9]);let k=`icon for ${S.name}`;return j[10]!==S.avatar_url||j[11]!==k?(d=(0,n.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[o,l,(0,n.jsx)("img",{className:c,src:S.avatar_url,alt:k})]}),j[10]=S.avatar_url,j[11]=k,j[12]=d):d=j[12],j[13]!==S.name?(x=(0,n.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",S.name]}),h=(0,n.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",S.name," extension, you\u2019ll need to connect your GitHub account to your ",S.name," account."]}),j[13]=S.name,j[14]=h,j[15]=x):(h=j[14],x=j[15]),j[16]!==S.authorize_url||j[17]!==w?(v=!w&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:S.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,n.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",S.authorize_url]})]}),j[16]=S.authorize_url,j[17]=w,j[18]=v):v=j[18],j[19]!==h||j[20]!==v||j[21]!==i||j[22]!==d||j[23]!==x?(b=(0,n.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",...a,children:[i,d,x,h,v]}),j[19]=h,j[20]=v,j[21]=i,j[22]=d,j[23]=x,j[24]=b):b=j[24],b}function C(e){let t,a,i=(0,r.c)(4),{errors:s}=e;return i[0]!==s?(t=s.map(N),i[0]=s,i[1]=t):t=i[1],i[2]!==t?(a=(0,n.jsx)("div",{className:"d-flex flex-column gap-2",children:t}),i[2]=t,i[3]=a):a=i[3],a}function N(e,t){var a,r,o,l,c;return a=e,r=t,"sso"===a.code?(0,n.jsx)(d,{error:a,className:"mt-3"},r):(o=a,l=r,(0,n.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,n.jsxs)("div",{className:"text-bold",children:[(0,n.jsx)(s.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===(c=o).type?`${c.code} ${c.identifier}`:`${(0,x.Z)(c.type)} error`]}),(0,n.jsx)(i.To,{markdown:o.message})]},l))}try{b.displayName||(b.displayName="ErrorMessage")}catch{}try{j.displayName||(j.displayName="AgentUnauthorizedError")}catch{}try{C.displayName||(C.displayName="AgentErrors")}catch{}},78929:(e,t,a)=>{a.d(t,{G:()=>_});var n=a(74848),r=a(21728),i=a(38621),s=a(87330),o=a(96540),l=a(34901),c=a(47397),d=a(83880);let u={submittedFeedbackButton:"Feedback-module__submittedFeedbackButton--P_4a2"};var m=a(13455),p=a(31971),h=a(74244),f=a(69458);let g={thumbsUp:"MessageFeedbackDialog-module__thumbsUp--L1svG",thumbsDown:"MessageFeedbackDialog-module__thumbsDown--xdoe9"},y=[{name:"Bad",value:"NEGATIVE",icon:(0,n.jsx)(i.ThumbsdownIcon,{className:g.thumbsDown}),color:"bad"},{name:"Good",value:"POSITIVE",icon:(0,n.jsx)(i.ThumbsupIcon,{className:g.thumbsUp}),color:"good"}],x=(0,o.forwardRef)(function({messageId:e,threadId:t,returnFocusRef:a,onSubmitted:r,onClose:i},s){let l=(0,c.b)(),d=(0,o.useRef)(null),u=(0,o.useRef)(null),g=(0,o.useRef)(void 0);(0,o.useImperativeHandle)(s,()=>({openDialog:e=>{g.current=e,p.W.copilotChatInterviewSurvey?d.current?.openDialog():u.current?.openDialog(e)}}));let x=async(a,n)=>{let i=[];if(null==a&&i.push("Please select a rating."),n.length>500&&i.push("Please keep your feedback within 500 characters or less."),i.length>0)return i;try{(await l.service.sendFeedback({feedback:a,feedbackChoice:[],messageId:e,threadId:t,textResponse:n})).ok?r?.(a):i.push("An error occurred while submitting your feedback.")}catch{i.push("An error occurred while submitting your feedback.")}return i};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.E,{ref:d,title:"Give additional feedback",onClose:e=>{"no-thanks"===e?u.current?.openDialog(g.current):i?.()}}),(0,n.jsx)(m.NE,{title:"Give additional feedback",ref:u,options:y,onSubmit:x,onClose:i,requestID:h.Jt.getRequestID(e),returnFocusRef:a})]})});function _(e){let t,a,m,p,h,f=(0,r.c)(20),{iconSize:g}=e,{message:y}=(0,d.V)(),_=y.id,v=y.threadID,b=(0,c.b)(),j=(0,o.useRef)(null),C=(0,o.useRef)(null);f[0]!==b||f[1]!==y?(t=e=>{b.handleFeedback(y,e)},f[0]=b,f[1]=y,f[2]=t):t=f[2];let N=t,{optedInToUserFeedback:S}=(0,l.Pk)();f[3]!==b.service||f[4]!==_||f[5]!==N||f[6]!==S||f[7]!==v?(a=e=>{b.service.sendFeedback({feedback:e,messageId:_,threadId:v}),N(e),S?j.current?.openDialog(e):C.current?.focus()},f[3]=b.service,f[4]=_,f[5]=N,f[6]=S,f[7]=v,f[8]=a):a=f[8];let w=a;return f[9]!==g||f[10]!==y.feedback||f[11]!==w?(m=null!=y.feedback?(0,n.jsx)(s.K,{ref:C,"aria-label":`${y.feedback.toLocaleLowerCase()} feedback submitted`,icon:"POSITIVE"===y.feedback?i.ThumbsupIcon:i.ThumbsdownIcon,variant:"invisible",size:g,"aria-disabled":!0,className:u.submittedFeedbackButton}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.K,{icon:i.ThumbsupIcon,"aria-label":"Good response",onClick:()=>w("POSITIVE"),variant:"invisible",size:g}),(0,n.jsx)(s.K,{icon:i.ThumbsdownIcon,size:g,"aria-label":"Bad response",onClick:()=>w("NEGATIVE"),variant:"invisible"})]}),f[9]=g,f[10]=y.feedback,f[11]=w,f[12]=m):m=f[12],f[13]!==_||f[14]!==N||f[15]!==v?(p=(0,n.jsx)(x,{ref:j,messageId:_,threadId:v,onSubmitted:N,returnFocusRef:C}),f[13]=_,f[14]=N,f[15]=v,f[16]=p):p=f[16],f[17]!==m||f[18]!==p?(h=(0,n.jsxs)(n.Fragment,{children:[m,p]}),f[17]=m,f[18]=p,f[19]=h):h=f[19],h}x.displayName="MessageFeedbackDialog";try{_.displayName||(_.displayName="Feedback")}catch{}},95409:(e,t,a)=>{a.d(t,{WA:()=>ex});var n,r,i,s,o,l,c,d,u,m,p,h,f,g=a(74848),y=a(21728),x=a(59706),_=a(38621),v=a(58569),b=a(84217);a(99377),a(31971);var j=a(74244),C=a(34614),N=a(63867),S=a(55847),w=a(15385),I=a(53110),T=a(34164),k=a(96540),E=a(22069),A=a(34901);let L={functionCallButton:"FunctionCallButton-module__functionCallButton--CUec3"},R={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--nLEFp",functionLoading:"FunctionLoadingUtils-module__functionLoading--ksfrz",spinner:"FunctionLoadingUtils-module__spinner--dWC1I",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--RThXV",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--p5oMB",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--P1oyO",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--xNrSv",errorContainer:"FunctionLoadingUtils-module__errorContainer--yYXl3",errorHeading:"FunctionLoadingUtils-module__errorHeading--MtwEC",errorMessage:"FunctionLoadingUtils-module__errorMessage--jAROF",toolDescriptionText:"FunctionLoadingUtils-module__toolDescriptionText--sPt4r",toolNameHighlight:"FunctionLoadingUtils-module__toolNameHighlight--I82Zw",functionTitleContainer:"FunctionLoadingUtils-module__functionTitleContainer--cmj7m"};function D(e){return(e.references?.[0]?.results??[]).map(P)}function P(e){return{title:e.title,url:e.url,description:e.excerpt,leadingIcon:_.GlobeIcon}}function B(e){let t=e.references?.[0];return(t?.results??[]).map(e=>({title:e.title,url:e.url,leadingIcon:"bing_search"===e.reference_type?x._:_.GlobeIcon}))}function M(e){return(e.references??[]).map(O)}function O(e){return"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:_.FileIcon,reference:e,title:(0,E.Xo)(e),url:e.url}:void 0}let F=(e,t)=>t?`${e} on ref ${t}`:e;function $(e){return(e.references??[]).map(U)}function U(e){return"alert.api"===e.type?{description:"Alert",leadingIcon:V,title:"Alert"}:void 0}function V(){return(0,g.jsx)(_.ShieldIcon,{})}function W(e){return(e.references??[]).map(z)}function z(e){return"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:_.CommentDiscussionIcon}:void 0}function H(e){let t,a,n=(0,y.c)(3),{children:r}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)("span",{className:R.spinner,children:(0,g.jsx)(N.A,{size:"small"})}),n[0]=t):t=n[0],n[1]!==r?(a=(0,g.jsxs)("div",{className:R.functionLoading,children:[t,(0,g.jsx)("span",{children:r})]}),n[1]=r,n[2]=a):a=n[2],a}function q(e){return(e.references??[]).filter(K).map(G)}function G(e){return{description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:_.PlayIcon,title:"Job"}}function K(e){return"job"===e.type}function Q(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function Y(e){let t,a,n=(0,y.c)(27),{additionalFooterContent:r,chatManager:i,errorButtonText:s,errorTitle:o,functionCall:l,inProgressMessage:c,noResultsMessage:d,resultsMapper:u,successButtonText:m,toolLink:p,toolName:h,useSelectReference:f}=e,[x,b]=(0,k.useState)(!1),j=(0,k.useId)();if(n[0]!==r||n[1]!==i||n[2]!==j||n[3]!==s||n[4]!==o||n[5]!==x||n[6]!==l||n[7]!==c||n[8]!==d||n[9]!==u||n[10]!==m||n[11]!==p||n[12]!==h||n[13]!==f){a=Symbol.for("react.early_return_sentinel");e:{let e,y,C,N,k=u(l),{status:E,errorMessage:A}=l;if(l.references?.length===1){let e=l.references[0];if(e)switch(e.type){case"text":E="error",A=e.text;break;case"unsupported":E="unsupported",A=e.text}}if("started"===E){let e;n[16]!==c?(e=(0,g.jsx)(H,{children:c}),n[16]=c,n[17]=e):e=n[17],a=e;break e}n[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,T.$)(R.functionReferenceButton,L.functionCallButton),n[18]=e):e=n[18];let D=x?_.ChevronUpIcon:_.ChevronDownIcon;n[19]===Symbol.for("react.memo_cache_sentinel")?(y=()=>b(J),n[19]=y):y=n[19];let P="error"===E?s:"unsupported"===E?d:m;n[20]!==P?(C=(0,g.jsx)("span",{className:R.functionReferenceButtonContents,children:P}),n[20]=P,n[21]=C):C=n[21],n[22]!==j||n[23]!==x||n[24]!==D||n[25]!==C?(N=(0,g.jsx)(S.Q,{"aria-expanded":x,"aria-controls":j,className:e,leadingVisual:D,onClick:y,variant:"invisible",children:C}),n[22]=j,n[23]=x,n[24]=D,n[25]=C,n[26]=N):N=n[26],t=(0,g.jsxs)(g.Fragment,{children:[N,x&&(0,g.jsxs)("div",{id:j,className:R.functionReferenceListContainer,children:[(0,g.jsx)(w.l,{children:"error"===E?(0,g.jsxs)(w.l.Item,{children:[o,(0,g.jsx)(w.l.Description,{variant:"block",children:A})]}):"unsupported"===E?(0,g.jsxs)(w.l.Item,{children:[A,(0,g.jsx)(w.l.Description,{truncate:!0,children:""})]}):0===k.length?(0,g.jsxs)(w.l.Item,{children:[d,(0,g.jsx)(w.l.Description,{truncate:!0,children:"Try modifying your query by reframing your question."})]}):k.map((e,t)=>e&&(0,g.jsxs)(w.l.LinkItem,{className:"width-fit",href:e.url,onClick:t=>{f&&e.reference&&(i.selectReference(e.reference),t.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,g.jsx)(w.l.LeadingVisual,{children:(0,g.jsx)(I.A,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,g.jsx)(v.A,{className:R.functionReferenceTitle,title:e.title,children:e.title}),(0,g.jsx)(w.l.Description,{variant:"block",children:e.description})]},t))}),(0,g.jsxs)("span",{className:R.functionReferenceListFooter,children:["Copilot used the"," ",(0,g.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",children:h})," ","tool",r&&(0,g.jsxs)(g.Fragment,{children:[". ",r]})]})]})]})}n[0]=r,n[1]=i,n[2]=j,n[3]=s,n[4]=o,n[5]=x,n[6]=l,n[7]=c,n[8]=d,n[9]=u,n[10]=m,n[11]=p,n[12]=h,n[13]=f,n[14]=t,n[15]=a}else t=n[14],a=n[15];return a!==Symbol.for("react.early_return_sentinel")?a:t}function J(e){return!e}function X(e){return"text"!==e.type}function Z(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e){let t=e.references?.[0];return[{title:t?.title||"",url:t?.url||"",description:""}]}let et="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function ea(e){return(e.references?.[0]?.results??[]).map(en)}function en(e){return{title:e.title,url:e.url,description:e.url}}function er(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,E.Z8)(e),leadingIcon:_.CodeIcon,reference:e,title:(0,E.z$)(e),url:e.url}:void 0)}try{(n=function(e){let t,a,n=(0,y.c)(8),{chatManager:r,functionCall:i,skillArgs:s}=e,o=s.query;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)(C.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),n[0]=t):t=n[0];let l=`An error occurred when searching for \u{201C}${o}\u{201D}`,c=`Searching the web for \u{201C}${o}\u{201D}`,d=`No web search results for \u{201C}${o}\u{201D} were found`,u=`Using web search results for \u{201C}${o}\u{201D}`;return n[1]!==r||n[2]!==i||n[3]!==l||n[4]!==c||n[5]!==d||n[6]!==u?(a=(0,g.jsx)(Y,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:D,successButtonText:u,useSelectReference:!1}),n[1]=r,n[2]=i,n[3]=l,n[4]=c,n[5]=d,n[6]=u,n[7]=a):a=n[7],a}).displayName||(n.displayName="BingFunctionButton")}catch{}try{(r=function(e){let t,a,n=(0,y.c)(8),{chatManager:r,functionCall:i,skillArgs:s}=e,o=s.query;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)(C.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),n[0]=t):t=n[0];let l=`An error occurred when searching for \u{201C}${o}\u{201D}`,c=`Searching the web for \u{201C}${o}\u{201D}`,d=`No web search results for \u{201C}${o}\u{201D} were found`,u=`Using web search results for \u{201C}${o}\u{201D}`;return n[1]!==r||n[2]!==i||n[3]!==l||n[4]!==c||n[5]!==d||n[6]!==u?(a=(0,g.jsx)(Y,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://gh.io/azure-ai-agent-with-bing-grounding",toolName:"Bing Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:B,successButtonText:u,useSelectReference:!1}),n[1]=r,n[2]=i,n[3]=l,n[4]=c,n[5]=d,n[6]=u,n[7]=a):a=n[7],a}).displayName||(r.displayName="BingGroundingFunctionButton")}catch{}try{(i=function(e){var t;let a,n=(0,y.c)(9),{chatManager:r,functionCall:i,skillArgs:s,useSelectReference:o}=e,l=s.query,c="scopingQuery"in s?s.scopingQuery:s.repoOwner&&s.repoName?`repo:${s.repoOwner}/${s.repoName}`:void 0;c&&(c=(t=c).startsWith("repo:")?t.substring(5):t);let d="semantic-code-search"===s.kind?"semantic":"lexical",u=`An error occurred when searching for \u{201C}${l}\u{201D}`,m=`${d.charAt(0).toUpperCase()+d.slice(1)} search`,p=`Searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,h=`No results were found when ${d} searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,f=`Using ${d} search results for \u{201C}${l}\u{201D}${c&&` in ${c}`}`;return n[0]!==r||n[1]!==i||n[2]!==u||n[3]!==m||n[4]!==p||n[5]!==h||n[6]!==f||n[7]!==o?(a=(0,g.jsx)(Y,{chatManager:r,errorButtonText:u,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:m,functionCall:i,inProgressMessage:p,noResultsMessage:h,resultsMapper:er,successButtonText:f,useSelectReference:o}),n[0]=r,n[1]=i,n[2]=u,n[3]=m,n[4]=p,n[5]=h,n[6]=f,n[7]=o,n[8]=a):a=n[8],a}).displayName||(i.displayName="CodeSearchButton")}catch{}try{(s=function(e){let t,a=(0,y.c)(8),{chatManager:n,functionCall:r,skillArgs:i,useSelectReference:s}=e,o=i.query,l=i.kbID,{knowledgeBases:c}=(0,A.Pk)(),d=c.find(e=>e.id===l),u=d?.name??"the knowledge base",m=`An error occurred when searching for \u{201C}${o}\u{201D} in ${u}`,p=`Searching the ${u} knowledge base for \u{201C}${o}\u{201D}`,h=`No results were found when searching the ${u} knowledge base for \u{201C}${o}\u{201D}`,f=`Using search results from the ${u} knowledge base for \u{201C}${o}\u{201D}`;return a[0]!==n||a[1]!==r||a[2]!==m||a[3]!==p||a[4]!==h||a[5]!==f||a[6]!==s?(t=(0,g.jsx)(Y,{chatManager:n,errorButtonText:m,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:r,inProgressMessage:p,noResultsMessage:h,resultsMapper:er,successButtonText:f,useSelectReference:s}),a[0]=n,a[1]=r,a[2]=m,a[3]=p,a[4]=h,a[5]=f,a[6]=s,a[7]=t):t=a[7],t}).displayName||(s.displayName="KnowledgeBaseSearchButton")}catch{}try{(o=function(e){let t,a,n,r,i,s=(0,y.c)(20),{chatManager:o,functionCall:l,skillArgs:c,useSelectReference:d}=e,{path:u,repo:m,ref:p}=c,h=`An error occurred when finding \u{201C}${u}\u{201D} in ${m}`;s[0]!==p||s[1]!==h?(t=F(h,p),s[0]=p,s[1]=h,s[2]=t):t=s[2];let f=`File results for \u{201C}${u}\u{201D} in ${m}`;s[3]!==p||s[4]!==f?(a=F(f,p),s[3]=p,s[4]=f,s[5]=a):a=s[5];let x=`No files matching \u{201C}${u}\u{201D} in ${m} were found`;s[6]!==p||s[7]!==x?(n=F(x,p),s[6]=p,s[7]=x,s[8]=n):n=s[8];let _=`Using results for \u{201C}${u}\u{201D} in ${m}`;return s[9]!==p||s[10]!==_?(r=F(_,p),s[9]=p,s[10]=_,s[11]=r):r=s[11],s[12]!==o||s[13]!==l||s[14]!==t||s[15]!==a||s[16]!==n||s[17]!==r||s[18]!==d?(i=(0,g.jsx)(Y,{chatManager:o,errorButtonText:t,errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:l,inProgressMessage:a,noResultsMessage:n,resultsMapper:M,successButtonText:r,useSelectReference:d}),s[12]=o,s[13]=l,s[14]=t,s[15]=a,s[16]=n,s[17]=r,s[18]=d,s[19]=i):i=s[19],i}).displayName||(o.displayName="GetFileButton")}catch{}try{(l=function(e){let t,a,n,r,i,s,o=(0,y.c)(23),{chatManager:l,functionCall:c,skillArgs:d,useSelectReference:u}=e,{path:m,repo:p,ref:h}=d,f=`An error occurred when finding file changes for \u{201C}${m}\u{201D} in ${p}`;o[0]!==h||o[1]!==f?(t=F(f,h),o[0]=h,o[1]=f,o[2]=t):t=o[2];let x=`File changes results for \u{201C}${m} in ${p}`;o[3]!==h||o[4]!==x?(a=F(x,h),o[3]=h,o[4]=x,o[5]=a):a=o[5];let v=`No files changes were found for \u{201C}${m}\u{201D} in ${p}`;o[6]!==h||o[7]!==v?(n=F(v,h),o[6]=h,o[7]=v,o[8]=n):n=o[8],o[9]!==m?(r=e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${m}`,leadingIcon:_.FileIcon,reference:e,title:(0,E.Xo)(e),url:e.url}:void 0),o[9]=m,o[10]=r):r=o[10];let b=`Using results for \u{201C}${m}\u{201D} in ${p}`;return o[11]!==h||o[12]!==b?(i=F(b,h),o[11]=h,o[12]=b,o[13]=i):i=o[13],o[14]!==l||o[15]!==c||o[16]!==t||o[17]!==a||o[18]!==n||o[19]!==r||o[20]!==i||o[21]!==u?(s=(0,g.jsx)(Y,{chatManager:l,errorButtonText:t,errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:c,inProgressMessage:a,noResultsMessage:n,resultsMapper:r,successButtonText:i,useSelectReference:u}),o[14]=l,o[15]=c,o[16]=t,o[17]=a,o[18]=n,o[19]=r,o[20]=i,o[21]=u,o[22]=s):s=o[22],s}).displayName||(l.displayName="GetFileChangesButton")}catch{}try{(c=function(e){let t,a=(0,y.c)(5),{chatManager:n,functionCall:r,skillArgs:i,useSelectReference:s}=e,o=`An error occurred when fetching alert information for ${i.url}`;return a[0]!==n||a[1]!==r||a[2]!==o||a[3]!==s?(t=(0,g.jsx)(Y,{chatManager:n,errorButtonText:o,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:r,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:$,successButtonText:"Using alert information",useSelectReference:s}),a[0]=n,a[1]=r,a[2]=o,a[3]=s,a[4]=t):t=a[4],t}).displayName||(c.displayName="GetAlertButton")}catch{}try{(d=function(e){let t,a=(0,y.c)(7),{chatManager:n,functionCall:r,skillArgs:i,useSelectReference:s}=e,o=`Fetching discussion ${i.discussionNumber}`,l=`Unable to fetch discussion ${i.discussionNumber}`,c=`Using discussion #${i.discussionNumber}`;return a[0]!==n||a[1]!==r||a[2]!==o||a[3]!==l||a[4]!==c||a[5]!==s?(t=(0,g.jsx)(Y,{chatManager:n,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:r,inProgressMessage:o,noResultsMessage:l,resultsMapper:W,successButtonText:c,useSelectReference:s}),a[0]=n,a[1]=r,a[2]=o,a[3]=l,a[4]=c,a[5]=s,a[6]=t):t=a[6],t}).displayName||(d.displayName="GetDiscussionButton")}catch{}try{H.displayName||(H.displayName="FunctionLoading")}catch{}try{(u=function(e){let t=(0,y.c)(1),{functionCall:a}=e,{status:n}=a;if("started"===n){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(H,{children:"Coming up with a plan"}),t[0]=e):e=t[0],e}}).displayName||(u.displayName="PlanButton")}catch{}try{(m=function(e){let t,a=(0,y.c)(8),{chatManager:n,functionCall:r,skillArgs:i,useSelectReference:s}=e,o=Q(i),l=`An error occurred when fetching logs for ${o} in ${i.repo}`,c=`Fetching logs for ${o} in ${i.repo}`,d=`Unable to fetch logs for ${o} in ${i.repo}`,u=`Using logs for ${o} in ${i.repo}`;return a[0]!==n||a[1]!==r||a[2]!==l||a[3]!==c||a[4]!==d||a[5]!==u||a[6]!==s?(t=(0,g.jsx)(Y,{chatManager:n,errorButtonText:l,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:r,inProgressMessage:c,noResultsMessage:d,resultsMapper:q,successButtonText:u,useSelectReference:s}),a[0]=n,a[1]=r,a[2]=l,a[3]=c,a[4]=d,a[5]=u,a[6]=s,a[7]=t):t=a[7],t}).displayName||(m.displayName="GetJobLogsButton")}catch{}try{Y.displayName||(Y.displayName="ExpandableFunctionButton")}catch{}try{(p=function(e){let t,a,n,r=(0,y.c)(15),{chatManager:i,functionCall:s,skillArgs:o,useSelectReference:l}=e,c="GitHub API",d=s.references?.[0];if(d){let e=d.type;if(e.endsWith(".api")){let t=e.split(".")[0];t&&(c=`${t.split("-").map(Z).join(" ")} API`)}else"api-response"===d.type&&(c=`${d.resourceType} API`)}r[0]!==o.endpoint||r[1]!==o.endpointDescription?(t=o.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${o.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${o.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${o.endpointDescription}`,successButtonText:`Using the GitHub API to ${o.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${o.endpoint}`,inProgressMessage:`Fetching endpoint ${o.endpoint}`,noResultsMessage:`Unable to fetch from ${o.endpoint}`,successButtonText:`Using endpoint ${o.endpoint}`},r[0]=o.endpoint,r[1]=o.endpointDescription,r[2]=t):t=r[2];let u=t;return r[3]!==o?(a=e=>e.references?.filter(X).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:_.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:_.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:_.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:_.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:_.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:_.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:_.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:_.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:_.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:_.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:_.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:_.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:_.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:_.InfoIcon,title:"API results"}}})(e,o))??[],r[3]=o,r[4]=a):a=r[4],r[5]!==i||r[6]!==s||r[7]!==u.errorButtonText||r[8]!==u.inProgressMessage||r[9]!==u.noResultsMessage||r[10]!==u.successButtonText||r[11]!==a||r[12]!==c||r[13]!==l?(n=(0,g.jsx)(Y,{chatManager:i,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:c,functionCall:s,errorButtonText:u.errorButtonText,inProgressMessage:u.inProgressMessage,noResultsMessage:u.noResultsMessage,successButtonText:u.successButtonText,useSelectReference:l,resultsMapper:a}),r[5]=i,r[6]=s,r[7]=u.errorButtonText,r[8]=u.inProgressMessage,r[9]=u.noResultsMessage,r[10]=u.successButtonText,r[11]=a,r[12]=c,r[13]=l,r[14]=n):n=r[14],n}).displayName||(p.displayName="GetGitHubDataButton")}catch{}try{(h=function(e){let t,a=(0,y.c)(7),{chatManager:n,functionCall:r,skillArgs:i}=e,s=`An error occurred when retrieving \u{201C}${i.name}\u{201D}`,o=`Getting Figma file \u{201C}${i.name}\u{201D}`,l=`Unable to retrieve \u{201C}${i.name}\u{201D}`,c=`Using result from \u{201C}${i.name}\u{201D}`;return a[0]!==n||a[1]!==r||a[2]!==s||a[3]!==o||a[4]!==l||a[5]!==c?(t=(0,g.jsx)(Y,{chatManager:n,errorButtonText:s,errorTitle:"An error occurred retrieving Figma file",toolLink:"https://figma.com",toolName:"Get Figma",functionCall:r,inProgressMessage:o,noResultsMessage:l,resultsMapper:ee,successButtonText:c,useSelectReference:!1}),a[0]=n,a[1]=r,a[2]=s,a[3]=o,a[4]=l,a[5]=c,a[6]=t):t=a[6],t}).displayName||(h.displayName="FigmaButton")}catch{}try{(f=function(e){let t,a,n=(0,y.c)(8),{chatManager:r,functionCall:i,skillArgs:s}=e,o=s.rawUserQuery;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)(C.A,{href:et,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),n[0]=t):t=n[0];let l=`An error occurred when searching for \u{201C}${o}\u{201D}`,c=`Searching support documents for \u{201C}${o}\u{201D}`,d=`No support documents for \u{201C}${o}\u{201D} were found`,u=`Using support search results for \u{201C}${o}\u{201D}`;return n[1]!==r||n[2]!==i||n[3]!==l||n[4]!==c||n[5]!==d||n[6]!==u?(a=(0,g.jsx)(Y,{additionalFooterContent:t,chatManager:r,errorButtonText:l,errorTitle:"An error occurred when searching support documents",toolLink:et,toolName:"Support Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:ea,successButtonText:u,useSelectReference:!1}),n[1]=r,n[2]=i,n[3]=l,n[4]=c,n[5]=d,n[6]=u,n[7]=a):a=n[7],a}).displayName||(f.displayName="SupportSearchButton")}catch{}let ei=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.SearchIcon,{}),t[0]=e):e=t[0],e},es=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.FileIcon,{}),t[0]=e):e=t[0],e},eo=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.TagIcon,{}),t[0]=e):e=t[0],e},el=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.PlayIcon,{}),t[0]=e):e=t[0],e},ec=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.BookIcon,{}),t[0]=e):e=t[0],e},ed=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.CommentDiscussionIcon,{}),t[0]=e):e=t[0],e},eu=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(_.TasklistIcon,{}),t[0]=e):e=t[0],e},em=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(em,{}),t[0]=e):e=t[0],e},ep="planning response";function eh(e){let t,a,n,r,i=(0,y.c)(10),{maxWidth:s,functionMetadata:o}=e;return i[0]!==o?(t=o.icon(),i[0]=o,i[1]=t):t=i[1],i[2]!==s?(a={maxWidth:s},i[2]=s,i[3]=a):a=i[3],i[4]!==o.completedText||i[5]!==a?(n=(0,g.jsx)(v.A,{title:o.completedText,sx:a,children:o.completedText}),i[4]=o.completedText,i[5]=a,i[6]=n):n=i[6],i[7]!==t||i[8]!==n?(r=(0,g.jsxs)(g.Fragment,{children:[t,n]}),i[7]=t,i[8]=n,i[9]=r):r=i[9],r}function ef(e){let t,a,n,r,i=(0,y.c)(10),{maxWidth:s,functionMetadata:o}=e;return i[0]!==o?(t=o.icon(),i[0]=o,i[1]=t):t=i[1],i[2]!==s?(a={maxWidth:s},i[2]=s,i[3]=a):a=i[3],i[4]!==o.loadingText||i[5]!==a?(n=(0,g.jsx)(v.A,{title:o.loadingText,sx:a,children:o.loadingText}),i[4]=o.loadingText,i[5]=a,i[6]=n):n=i[6],i[7]!==t||i[8]!==n?(r=(0,g.jsxs)(g.Fragment,{children:[t,n]}),i[7]=t,i[8]=n,i[9]=r):r=i[9],r}function eg(e){let t,a,n,r,i=(0,y.c)(10),{functionCall:s,functionMetadata:o}=e;return i[0]!==o.activeSkillText?(t=(0,g.jsxs)(b.A,{as:"h3",className:R.errorHeading,children:["An error occurred while ",o.activeSkillText]}),i[0]=o.activeSkillText,i[1]=t):t=i[1],i[2]!==s.errorMessage?(a=(0,g.jsx)("p",{className:R.errorMessage,children:s.errorMessage}),i[2]=s.errorMessage,i[3]=a):a=i[3],i[4]!==o.name?(n=(0,g.jsxs)("p",{className:R.toolDescriptionText,children:["Copilot used the ",(0,g.jsx)("span",{className:R.toolNameHighlight,children:o.name})," tool"]}),i[4]=o.name,i[5]=n):n=i[5],i[6]!==t||i[7]!==a||i[8]!==n?(r=(0,g.jsxs)("div",{className:R.errorContainer,children:[t,a,n]}),i[6]=t,i[7]=a,i[8]=n,i[9]=r):r=i[9],r}function ey(e){let t,a,n=(0,y.c)(6),{functionCall:r,functionMetadata:i,panelWidth:s}=e,o=s?s-130:j.Jt.DEFAULT_PANEL_WIDTH;n[0]!==r||n[1]!==i||n[2]!==o?(t=r?.status==="error"?(0,g.jsx)(eg,{functionCall:r,functionMetadata:i}):r?.status==="completed"?(0,g.jsx)(eh,{maxWidth:o,functionMetadata:i}):(0,g.jsx)(ef,{maxWidth:o,functionMetadata:i}),n[0]=r,n[1]=i,n[2]=o,n[3]=t):t=n[3];let l=t;return n[4]!==l?(a=(0,g.jsx)("div",{className:R.functionTitleContainer,children:l}),n[4]=l,n[5]=a):a=n[5],a}function ex(e){if(!e)return ep;let t=function(e){if(e){var t={...JSON.parse(e?.arguments||"{}"),kind:e.slug};switch(t.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${t.query}"`,completedText:`Bing results for "${t.query}"`,icon:x._,name:"Bing search",activeSkillText:"searching Bing"};case"lexical-code-search":return{id:"codesearch",loadingText:`Search for "${t.query}" in "${t.scopingQuery}"`,completedText:`Search results for "${t.query}" in "${t.scopingQuery}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"semantic-code-search":return{id:"codesearch",loadingText:`Search for "${t.query}" in "${t.repoOwner}/${t.repoName}"`,completedText:`Search results for "${t.query}" in "${t.repoOwner}/${t.repoName}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${t.query}" in the knowledge base`,completedText:`Knowledge base search results for "${t.query}"`,icon:ec,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,g.jsx)(_.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${t.endpoint}`,completedText:`Results of ${t.endpoint}`,icon:eo,name:"Get GitHub Data",activeSkillText:"getting data"};case"get-actions-job-logs":{let e=Q(t),a=e.charAt(0).toUpperCase()+e.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${e} in ${t.repo}`,completedText:`${a} in ${t.repo}`,icon:el,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${t.discussionNumber}`,completedText:`Details about discussion #${t.discussionNumber}`,icon:ed,name:"Get discussion",activeSkillText:"getting discussion"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:es,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${t.path} in ${t.repo}`,icon:es,name:"Get file changes",activeSkillText:"searching for file changes"};case"planskill":return{id:"planskill",loadingText:"Planning response...",completedText:"Plan created",icon:eu,name:"Plan skill",activeSkillText:"planning response"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:ec,name:"Support search",activeSkillText:"searching for support documents"};case"get-figma":return{id:"getfigma",loadingText:"Analyzing Figma file",completedText:"Using results of Figma file",icon:ec,name:"Get Figma",activeSkillText:"analyzing Figma file"};case"codesearchagentskill":return{id:"codesearchagentskill",loadingText:"Using the code search agent",completedText:"Using results of code search agent",icon:ec,name:"Code Search Agent",activeSkillText:"searching the codebase"};case"draft-issue":return{id:"draft-issue",loadingText:t.repository?`Drafting issue in ${t.repository}`:"Drafting issue ",completedText:t.repository?`Drafted issue in ${t.repository}`:"Drafted issue",icon:em,name:"Draft Issue",activeSkillText:t.repository?`drafting issue in ${t.repository}`:"drafting issue"};case"repository-metadata":return{id:"repository-metadata",loadingText:`Fetching metadata from ${t.repository}`,completedText:`Using metadata from ${t.repository}`,icon:em,name:"Repository Metadata",activeSkillText:`fetching metadata from ${t.repository}`}}}}(e);return e.statusMessage??t?.activeSkillText??ep}try{ei.displayName||(ei.displayName="CodeSearchIcon")}catch{}try{es.displayName||(es.displayName="GetFileIcon")}catch{}try{eo.displayName||(eo.displayName="ReleaseIcon")}catch{}try{el.displayName||(el.displayName="JobIcon")}catch{}try{ec.displayName||(ec.displayName="KnowledgeBaseIcon")}catch{}try{ed.displayName||(ed.displayName="DiscussionIcon")}catch{}try{eu.displayName||(eu.displayName="PlanIcon")}catch{}try{em.displayName||(em.displayName="IssueDraftIcon")}catch{}try{eh.displayName||(eh.displayName="FunctionCompleted")}catch{}try{ef.displayName||(ef.displayName="FunctionLoading")}catch{}try{eg.displayName||(eg.displayName="FunctionError")}catch{}try{ey.displayName||(ey.displayName="FunctionTitle")}catch{}},4699:(e,t,a)=>{a.d(t,{h:()=>l});var n=a(74848),r=a(21728),i=a(38911),s=a(34164);let o={interruptedBanner:"InterruptedBanner-module__interruptedBanner--XDG6C",hasContent:"InterruptedBanner-module__hasContent--NwTH4"};function l(e){let t,a,l=(0,r.c)(4),{messageHasContent:c}=e,d=c&&o.hasContent;return l[0]!==d?(t=(0,s.$)(o.interruptedBanner,d),l[0]=d,l[1]=t):t=l[1],l[2]!==t?(a=(0,n.jsx)(i.l,{className:t,"data-testid":"chat-message-interrupted",description:"Copilot was interrupted before it could finish this message.",hideTitle:!0,title:"Message interrupted",variant:"info"}),l[2]=t,l[3]=a):a=l[3],a}try{l.displayName||(l.displayName="InterruptedBanner")}catch{}},69458:(e,t,a)=>{a.d(t,{E:()=>u});var n=a(74848),r=a(21728),i=a(10871),s=a(55847),o=a(9852),l=a(96540);let c={dialog:"InterviewSurveyDialog-module__dialog--vBqY6",body:"InterviewSurveyDialog-module__body--zTKei",primaryText:"InterviewSurveyDialog-module__primaryText--E49Ba InterviewSurveyDialog-module__text--AnLTc",secondaryText:"InterviewSurveyDialog-module__secondaryText--uX6h1 InterviewSurveyDialog-module__text--AnLTc",surveyLink:"InterviewSurveyDialog-module__surveyLink--LnhEL",noThanksButton:"InterviewSurveyDialog-module__noThanksButton--loLSW"};function d(e,t){let a,d,u,m,p=(0,r.c)(10),{title:h,onClose:f}=e,g=void 0===h?"Give feedback":h,[y,x]=(0,l.useState)(!1);p[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>({openDialog:()=>x(!0)}),p[0]=a):a=p[0],(0,l.useImperativeHandle)(t,a),p[1]!==f?(d=e=>{x(!1),f?.(e)},p[1]=f,p[2]=d):d=p[2];let _=d;p[3]!==_?(u=()=>(0,n.jsxs)("div",{className:c.body,children:[(0,n.jsx)("img",{alt:"Mona and Copilot flying a Hubot-themed spaceship",src:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship.png",srcSet:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship@2x.png 2x"}),(0,n.jsx)("span",{className:c.primaryText,children:"Would you like to participate in our research?"}),(0,n.jsx)("span",{className:c.secondaryText,children:"You will be compensated for your time"}),(0,n.jsx)(i.z,{variant:"primary",className:c.surveyLink,href:"/github-copilot/chat/feedback/interview-survey",target:"_blank",children:"Book a session"}),(0,n.jsx)(s.Q,{variant:"link",className:c.noThanksButton,onClick:()=>_("no-thanks"),children:"No, thanks"})]}),p[3]=_,p[4]=u):u=p[4];let v=u;return p[5]!==_||p[6]!==y||p[7]!==v||p[8]!==g?(m=y&&(0,n.jsx)(o.l,{className:c.dialog,onClose:()=>_("close"),title:g,renderBody:v}),p[5]=_,p[6]=y,p[7]=v,p[8]=g,p[9]=m):m=p[9],m}let u=(0,l.forwardRef)(d);try{d.displayName||(d.displayName="InterviewSurveyDialogInner")}catch{}try{u.displayName||(u.displayName="InterviewSurveyDialog")}catch{}},25745:(e,t,a)=>{a.d(t,{h:()=>o});var n=a(74848),r=a(21728),i=a(34614);let s={container:"LegalDisclaimer-module__container--f7xb5"},o=()=>{let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("span",{className:s.container,children:[(0,n.jsx)(i.A,{href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-chat-in-githubcom",inline:!0,muted:!0,children:"Copilot"})," ","uses AI. Check for mistakes."]}),t[0]=e):e=t[0],e};try{o.displayName||(o.displayName="LegalDisclaimer")}catch{}},75320:(e,t,a)=>{a.d(t,{Y:()=>w});var n,r=a(74848),i=a(21728),s=a(70170),o=a(38007),l=a(98386),c=a(42080),d=a(17515),u=a(60039),m=a(16255),p=a(73451),h=a(19647),f=a(55847),g=a(9852),y=a(96540),x=a(40961),_=a(34901),v=a(47397);let b={footerContainer:"PersonalInstructionsDialog-module__footerContainer--YsPvr"};var j=a(38621),C=a(15385);let N={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},S=(0,y.forwardRef)(function(e,t){let a,n,s,o,l,c,d,u,m=(0,i.c)(19),{onSelect:p}=e,[h,f]=(0,y.useState)(!1);m[0]!==h?(a=()=>f(!h),m[0]=h,m[1]=a):a=m[1];let g=a;m[2]===Symbol.for("react.memo_cache_sentinel")?(n={marginBottom:"1px"},m[2]=n):n=m[2],m[3]!==p||m[4]!==h?(s=h&&Object.entries(N)?.map(e=>{let[t,a]=e;return(0,r.jsxs)(C.l.Item,{"aria-label":`${a.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>p(t,a.body),children:[(0,r.jsx)(j.PlusIcon,{}),t]},t)}),m[3]=p,m[4]=h,m[5]=s):s=m[5],m[6]!==s?(o=(0,r.jsx)(C.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:s}),m[6]=s,m[7]=o):o=m[7];let x=h?"Hide templates":"Show templates";return m[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},m[8]=l):l=m[8],m[9]!==h?(c=h?(0,r.jsx)(j.XIcon,{}):(0,r.jsx)(j.LightBulbIcon,{}),m[9]=h,m[10]=c):c=m[10],m[11]!==x||m[12]!==c||m[13]!==g?(d=(0,r.jsx)(C.l,{className:"d-flex flex-column flex-justify-end",children:(0,r.jsx)(C.l.Item,{"aria-label":x,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:g,children:c})}),m[11]=x,m[12]=c,m[13]=g,m[14]=d):d=m[14],m[15]!==t||m[16]!==o||m[17]!==d?(u=(0,r.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:n,children:[o,d]}),m[15]=t,m[16]=o,m[17]=d,m[18]=u):u=m[18],u});try{S.displayName||(S.displayName="PersonalInstructionsTemplates")}catch{}try{(n=PersonalInstructionsTemplatesWithRef).displayName||(n.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let w=({onDismiss:e,returnFocusRef:t})=>{let a=(0,_.Pk)(),n=(0,v.b)(),[j,C]=(0,y.useState)(a.personalInstructions??""),[N,w]=(0,y.useState)(void 0),[T,k]=(0,y.useState)(!1),E=(0,y.useRef)(null),A=(0,y.useRef)(null),[L,R]=(0,y.useState)(""),D=((e,t)=>{let a,n,r=(0,i.c)(4),[o,l]=(0,y.useState)(48);return r[0]!==e||500!==r[1]?(a=()=>{let t=(0,s.s)(()=>{e?.current&&l(e.current.clientHeight??48)},500),a=new ResizeObserver(t);return e?.current&&a.observe(e.current),()=>{t.cancel(),a?.disconnect?.()}},n=[e,500],r[0]=e,r[1]=500,r[2]=a,r[3]=n):(a=r[2],n=r[3]),(0,y.useEffect)(a,n),o})(A);(0,d.N)(()=>{E?.current&&(E.current.scrollTop=E.current.scrollHeight)},[j]);let P=(0,y.useCallback)(async()=>{if(!T){k(!0),L&&(0,o.BI)("copilot_personal_instruction_template_usage",{content:L});try{let t=await (0,u.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:j}});if(t.ok)(0,o.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),n.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:j}),(0,x.flushSync)(()=>e());else{let e=await t.json();w(String(e.errorMessage))}}catch{w("An error occurred while saving your personal instructions.")}finally{k(!1)}}},[T,j,n,e,L]),B=(e,t)=>{t&&(C(j?`${j}
${t}`:t),R(e),E?.current?.focus())},M=()=>{P()},O=(0,y.useCallback)(()=>{(0,o.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,x.flushSync)(()=>e())},[e]);return(0,r.jsx)(m.Z,{children:(0,r.jsx)(g.l,{onClose:O,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,r.jsx)(g.l.Body,{children:(0,r.jsx)("form",{onSubmit:P,children:(0,r.jsxs)(p.A,{children:[(0,r.jsx)(p.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,r.jsx)("div",{className:"width-full position-relative",children:(0,r.jsxs)(c.tL,{commands:{"github:submit-form":M},children:[(0,r.jsx)(h.Ay,{ref:E,className:"width-full",style:{paddingBottom:`${D}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:j,validationStatus:N||j.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{C(e.target.value),w(void 0)}}),(0,r.jsx)(S,{ref:A,onSelect:B})]})}),(0,r.jsx)(I,{text:j,promptCharLimit:4e3}),N&&(0,r.jsx)(p.A.Validation,{variant:"error",children:(0,r.jsx)("span",{...(0,l.G)("error-message"),children:N})})]})})}),renderFooter:()=>(0,r.jsxs)("div",{className:b.footerContainer,children:[(0,r.jsx)(f.Q,{variant:"default",onClick:O,children:"Cancel"}),(0,r.jsx)(f.Q,{loading:T,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:P,children:"Save"})]})})})};function I(e){let t,a,n,s,o=(0,i.c)(10),{text:c,promptCharLimit:d}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),o[0]=t):t=o[0],o[1]!==c.length?(a=(0,r.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),o[1]=c.length,o[2]=a):a=o[2],o[3]!==d||o[4]!==a?(n=(0,r.jsxs)(r.Fragment,{children:[a," ","/ ",d," characters"]}),o[3]=d,o[4]=a,o[5]=n):n=o[5];let u=n;return o[6]!==u||o[7]!==d||o[8]!==c.length?(s=(0,r.jsx)(r.Fragment,{children:c.length>d?(0,r.jsx)(p.A.Validation,{variant:"error",children:u}):(0,r.jsx)(p.A.Caption,{children:u})}),o[6]=u,o[7]=d,o[8]=c.length,o[9]=s):s=o[9],s}try{w.displayName||(w.displayName="PersonalInstructionsDialog")}catch{}try{I.displayName||(I.displayName="CharacterCount")}catch{}},45518:(e,t,a)=>{a.d(t,{X:()=>_});var n=a(74848),r=a(21728),i=a(38621),s=a(73451),o=a(19647),l=a(9591),c=a(46309),d=a(81679),u=a(87330),m=a(55847),p=a(16255),h=a(9852),f=a(96540),g=a(74244),y=a(47397);let x={Dialog:"PromptDialog-module__Dialog--s8Arq",systemInstructionsTextarea:"PromptDialog-module__systemInstructionsTextarea--ImhCS",temperatureFormControl:"PromptDialog-module__temperatureFormControl--WQLdS",toolsSectionHeader:"PromptDialog-module__toolsSectionHeader--RRrpT",deleteToolButton:"PromptDialog-module__deleteToolButton--weBVY"},_=e=>{let t,a,_,b,j,C,N,S,w,I,T,k,E,A,L,R,D,P,B,M,O,F,$,U=(0,r.c)(53),{onDismiss:V,promptDialogRef:W}=e,z=(0,y.b)(),H=g.Jt.settings,[q,G]=(0,f.useState)(H?.instructionPrompt||void 0);U[0]===Symbol.for("react.memo_cache_sentinel")?(t=H?.skillOverrides??[],U[0]=t):t=U[0];let[K,Q]=(0,f.useState)(t),[Y,J]=(0,f.useState)(H?.temperature||.7),X=(0,f.useRef)(void 0);U[1]!==z||U[2]!==V||U[3]!==q||U[4]!==Y||U[5]!==K?(a=()=>{let e=K.filter(v);z.setCopilotSettings({instructionPrompt:q||"",skillOverrides:e,temperature:Y}),V()},U[1]=z,U[2]=V,U[3]=q,U[4]=Y,U[5]=K,U[6]=a):a=U[6];let Z=a;U[7]!==z?(_=async()=>{if(X.current)return void G(X.current);let e=await z.getSystemPrompt();X.current=e,G(e)},U[7]=z,U[8]=_):_=U[8];let ee=_;U[9]!==ee||U[10]!==q?(b=()=>{(async()=>{void 0===q&&await ee()})()},U[9]=ee,U[10]=q,U[11]=b):b=U[11],U[12]!==ee||U[13]!==z||U[14]!==q?(j=[ee,z,q],U[12]=ee,U[13]=z,U[14]=q,U[15]=j):j=U[15],(0,f.useEffect)(b,j),U[16]!==ee?(C=()=>{ee(),Q([]),J(.7)},U[16]=ee,U[17]=C):C=U[17];let et=C;return U[18]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)(s.A.Label,{children:"System Instructions"}),U[18]=N):N=U[18],U[19]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsx)(s.A.Caption,{children:(0,n.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),U[19]=S):S=U[19],U[20]===Symbol.for("react.memo_cache_sentinel")?(w=e=>G(e.target.value),U[20]=w):w=U[20],U[21]!==q?(I=(0,n.jsxs)(s.A,{children:[N,S,(0,n.jsx)(o.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:q,onChange:w,className:x.systemInstructionsTextarea})]}),U[21]=q,U[22]=I):I=U[22],U[23]===Symbol.for("react.memo_cache_sentinel")?(T=(0,n.jsx)(s.A.Label,{children:"Temperature"}),k=(0,n.jsx)(s.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),U[23]=T,U[24]=k):(T=U[23],k=U[24]),U[25]===Symbol.for("react.memo_cache_sentinel")?(E=e=>J(Number(e.target.value)),U[25]=E):E=U[25],U[26]!==Y?(A=(0,n.jsxs)(s.A,{className:x.temperatureFormControl,children:[T,k,(0,n.jsx)(l.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:Y,onChange:E})]}),U[26]=Y,U[27]=A):A=U[27],U[28]===Symbol.for("react.memo_cache_sentinel")?(L=(0,n.jsx)("div",{className:x.toolsSectionHeader,children:"Tools"}),U[28]=L):L=U[28],U[29]!==K?(R=K.map((e,t)=>(0,n.jsxs)(f.Fragment,{children:[(0,n.jsxs)(c.B,{direction:"horizontal",className:"py-2",children:[(0,n.jsxs)(s.A,{children:[(0,n.jsx)(s.A.Label,{children:"Name"}),(0,n.jsx)(s.A.Caption,{children:(0,n.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,n.jsx)(l.A,{defaultValue:e.slug,onChange:e=>{K.map((a,n)=>{n===t&&(a.slug=e.target.value)})}})]}),(0,n.jsxs)(s.A,{children:[(0,n.jsx)(s.A.Label,{children:"Description"}),(0,n.jsx)(s.A.Caption,{children:(0,n.jsx)("span",{children:"Make changes to the tool description"})}),(0,n.jsx)(l.A,{defaultValue:e.description,onChange:a=>{K.map((n,r)=>{r===t&&(e.description=a.target.value)})}})]}),(0,n.jsxs)(s.A,{children:[(0,n.jsx)(s.A.Label,{id:"toggle",children:"Enabled?"}),(0,n.jsx)(d.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{K.map((a,n)=>{n===t&&(a.enabled=e)})}})]}),(0,n.jsx)(u.K,{icon:i.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...K];1===K.length?Q([]):(e.splice(t,1),Q(e))},className:x.deleteToolButton})]}),t===K.length-1&&(0,n.jsx)(m.Q,{leadingVisual:(0,n.jsx)(i.PlusIcon,{}),onClick:()=>Q([...K,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),U[29]=K,U[30]=R):R=U[30],U[31]!==K?(D=0===K.length&&(0,n.jsx)(m.Q,{leadingVisual:(0,n.jsx)(i.PlusIcon,{}),onClick:()=>Q([...K,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),U[31]=K,U[32]=D):D=U[32],U[33]!==I||U[34]!==A||U[35]!==R||U[36]!==D?(P=(0,n.jsxs)(h.l.Body,{children:[I,A,L,R,D]}),U[33]=I,U[34]=A,U[35]=R,U[36]=D,U[37]=P):P=U[37],U[38]!==V?(B={type:"button",onClick:V,content:"Cancel"},U[38]=V,U[39]=B):B=U[39],U[40]!==et?(M={type:"button",onClick:et,content:"Reset"},U[40]=et,U[41]=M):M=U[41],U[42]!==Z?(O={type:"button",onClick:Z,content:"Save",buttonType:"primary"},U[42]=Z,U[43]=O):O=U[43],U[44]!==B||U[45]!==M||U[46]!==O?(F=(0,n.jsx)(h.l.Footer,{children:(0,n.jsx)(h.l.Buttons,{buttons:[B,M,O]})}),U[44]=B,U[45]=M,U[46]=O,U[47]=F):F=U[47],U[48]!==V||U[49]!==W||U[50]!==P||U[51]!==F?($=(0,n.jsx)(p.Z,{children:(0,n.jsxs)(h.l,{ref:W,onClose:V,title:"Prompt Settings",width:"xlarge",className:x.Dialog,children:[P,F]})}),U[48]=V,U[49]=W,U[50]=P,U[51]=F,U[52]=$):$=U[52],$};try{_.displayName||(_.displayName="PromptDialog")}catch{}function v(e){return e.slug&&e.description}},87928:(e,t,a)=>{a.d(t,{$:()=>c});var n=a(74848),r=a(21728),i=a(38621),s=a(87330),o=a(31637),l=a(66912);function c(e){let t,a,c=(0,r.c)(11),{handleRetryMessage:d,disabled:u,showModelPicker:m,model:p,navigateToNewThread:h}=e,f=void 0!==u&&u,g=void 0!==m&&m;c[0]!==d||c[1]!==p?(t=()=>{d(p)},c[0]=d,c[1]=p,c[2]=t):t=c[2];let y=t,{isLicensedLimited:x}=(0,o.xR)();if(g&&(!h||!p))throw Error("navigateToNewThread and model must be provided in order to show the model picker");return c[3]!==f||c[4]!==y||c[5]!==d||c[6]!==x||c[7]!==p||c[8]!==h||c[9]!==g?(a=g?(0,n.jsx)(l.Yb,{onNewThreadSelected:h,limited:x,type:"message-retry",selectedModel:p,onModelSelected:d,disabled:f}):(0,n.jsx)(s.K,{variant:"invisible","aria-label":"Retry","data-testid":"retry-button",onClick:y,icon:i.SyncIcon,disabled:f}),c[3]=f,c[4]=y,c[5]=d,c[6]=x,c[7]=p,c[8]=h,c[9]=g,c[10]=a):a=c[10],a}try{c.displayName||(c.displayName="RetryButton")}catch{}},5279:(e,t,a)=>{a.d(t,{M:()=>l});var n=a(74848),r=a(21728),i=a(69676),s=a(82678),o=a(96540);function l(e){let t,a,l,c,d=(0,r.c)(8);d[0]!==e?({className:t,...a}=e,d[0]=e,d[1]=t,d[2]=a):(t=d[1],a=d[2]);let u=(0,o.useRef)(null);return d[3]===Symbol.for("react.memo_cache_sentinel")?(l={containerRef:u,focusInStrategy:"first",focusOutBehavior:"stop",bindKeys:i.z0.ArrowHorizontal|i.z0.HomeAndEnd},d[3]=l):l=d[3],(0,s.G)(l),d[4]!==t||d[5]!==e.children||d[6]!==a?(c=(0,n.jsx)("div",{ref:u,className:t,role:"toolbar",...a,children:e.children}),d[4]=t,d[5]=e.children,d[6]=a,d[7]=c):c=d[7],c}try{l.displayName||(l.displayName="Toolbar")}catch{}},85332:(e,t,a)=>{a.d(t,{R:()=>p});var n=a(74848),r=a(21728),i=a(34614),s=a(34164),o=a(7277),l=a(39818),c=a(36721),d=a(13897),u=a(83880),m=a(10370);function p(e){let t,a,i,p,f,g,y,x=(0,r.c)(24),{className:_,accessibleHeader:v}=e,{message:b}=(0,u.V)(),j=b.content??"";x[0]!==j?(t=(0,d._)(j),x[0]=j,x[1]=t):t=x[1];let{availableAgents:C}=(0,l.JE)(t);x[2]!==C?(a=void 0===C?[]:C,x[2]=C,x[3]=a):a=x[3];let N=a;if(x[4]!==v||x[5]!==N||x[6]!==_||x[7]!==b.references||x[8]!==j){let e;x[12]!==b.references?(e=b.references??[],x[12]=b.references,x[13]=e):e=x[13];let t=(0,o.l)().use(c.U,{references:e,agents:N}).parse(j);x[14]!==v?(f=v&&(0,n.jsx)("h3",{className:"sr-only",children:v}),x[14]=v,x[15]=f):f=x[15],x[16]!==_?(i=(0,s.$)(m.A.container,_),x[16]=_,x[17]=i):i=x[17],p=t.children.map(h),x[4]=v,x[5]=N,x[6]=_,x[7]=b.references,x[8]=j,x[9]=i,x[10]=p,x[11]=f}else i=x[9],p=x[10],f=x[11];return x[18]!==i||x[19]!==p?(g=(0,n.jsx)("div",{className:i,children:p}),x[18]=i,x[19]=p,x[20]=g):g=x[20],x[21]!==f||x[22]!==g?(y=(0,n.jsxs)(n.Fragment,{children:[f,g]}),x[21]=f,x[22]=g,x[23]=y):y=x[23],y}function h(e,t){switch(e.type){case"text":return e.value;case"agent-mention":return(0,n.jsx)(f,{agent:e.data.mentionedAgent,children:e.value},t);case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,n.jsx)("span",{className:m.A.mention,children:e.value},t):e.value}}function f(e){let t,a=(0,r.c)(4),{agent:s,children:o}=e,l=`/integrations/${s.slug}/hovercard`;return a[0]!==s.integrationUrl||a[1]!==o||a[2]!==l?(t=(0,n.jsx)(i.A,{href:s.integrationUrl,"data-hovercard-url":l,className:m.A.mention,children:o}),a[0]=s.integrationUrl,a[1]=o,a[2]=l,a[3]=t):t=a[3],t}try{p.displayName||(p.displayName="UserMessage")}catch{}try{f.displayName||(f.displayName="AgentLink")}catch{}},66837:(e,t,a)=>{a.d(t,{p:()=>b,V:()=>v});var n=a(74848),r=a(21728),i=a(34901),s=a(47397),o=a(22069),l=a(38007),c=a(64262),d=a(38621),u=a(15385),m=a(53526),p=a(73451),h=a(9591),f=a(9852),g=a(96540),y=a(3246);let x={hideOnDesktop:"ConversationActions-module__hideOnDesktop--XXDmE"};var _=a(58691);function v(e){let t,a,s,m,p,h,f,g,y,_=(0,r.c)(23),{onOpenDialog:v,showShare:b,hideShareOnDesktop:j,isShared:C}=e,N=void 0===b||b,S=void 0!==j&&j,w=void 0!==C&&C,{canShareThread:I}=(0,c.X)(),{isWaitingOnCopilot:T,messages:k}=(0,i.Pk)(),E=(0,o.Q7)(k);_[0]!==k?(t=(0,o.UM)(k),_[0]=k,_[1]=t):t=_[1];let A=t,L=E.length>0||T||A;return _[2]!==v?(a=()=>{(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_CONTEXT_MENU_RENAME",mode:"immersive"}),v("rename")},_[2]=v,_[3]=a):a=_[3],_[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(d.PencilIcon,{})}),_[4]=s):s=_[4],_[5]!==a?(m=(0,n.jsxs)(u.l.Item,{onSelect:a,children:[s,"Rename"]}),_[5]=a,_[6]=m):m=_[6],_[7]!==I||_[8]!==S||_[9]!==w||_[10]!==v||_[11]!==L||_[12]!==N?(p=N&&I&&(0,n.jsxs)(u.l.Item,{className:S?x.hideOnDesktop:void 0,disabled:L,onSelect:()=>{(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_CONTEXT_MENU_SHARE",mode:"immersive"}),v("share")},children:[(0,n.jsx)(u.l.LeadingVisual,{children:w?(0,n.jsx)(d.UnlockIcon,{}):(0,n.jsx)(d.LockIcon,{})}),"Share"]}),_[7]=I,_[8]=S,_[9]=w,_[10]=v,_[11]=L,_[12]=N,_[13]=p):p=_[13],_[14]!==v?(h=()=>{(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_CONTEXT_MENU_DELETE",mode:"immersive"}),v("delete")},_[14]=v,_[15]=h):h=_[15],_[16]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(d.TrashIcon,{})}),_[16]=f):f=_[16],_[17]!==h?(g=(0,n.jsxs)(u.l.Item,{variant:"danger",onSelect:h,children:[f,"Delete"]}),_[17]=h,_[18]=g):g=_[18],_[19]!==g||_[20]!==m||_[21]!==p?(y=(0,n.jsxs)(n.Fragment,{children:[m,p,g]}),_[19]=g,_[20]=m,_[21]=p,_[22]=y):y=_[22],y}function b(e){let t,a,o,c,d,u=(0,r.c)(29),{visibleDialog:m,onClose:p,threadName:h,threadId:f,selectedThreadId:g,onStartLoading:x,onFinishLoading:v,returnFocusRef:b}=e,{threads:N}=(0,i.Pk)(),S=(0,s.b)(),w=(0,y.G)();u[0]!==p?(t=()=>{(0,l.BI)("dotcom_chat.activate",{target:"COPILOT_SHARE_DIALOG_CLOSE",mode:"immersive"}),p()},u[0]=p,u[1]=t):t=u[1];let I=t;u[2]!==S||u[3]!==w||u[4]!==p||u[5]!==v||u[6]!==x||u[7]!==g||u[8]!==f||u[9]!==N?(a=async()=>{(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_LIST_ACTION_DELETE",mode:"immersive"}),x();let e=N.get(f);e&&(f===g&&await w({clearTopic:!0,includeThreads:!1}),await S.deleteThread(e)),v(),p()},u[2]=S,u[3]=w,u[4]=p,u[5]=v,u[6]=x,u[7]=g,u[8]=f,u[9]=N,u[10]=a):a=u[10];let T=a;u[11]!==S||u[12]!==p||u[13]!==v||u[14]!==x||u[15]!==f||u[16]!==N?(o=async e=>{(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_LIST_ACTION_RENAME",mode:"immersive"}),x();let t=N.get(f);t&&await S.renameThread(t,e),v(),p()},u[11]=S,u[12]=p,u[13]=v,u[14]=x,u[15]=f,u[16]=N,u[17]=o):o=u[17];let k=o;return u[18]!==I||u[19]!==T||u[20]!==p||u[21]!==b||u[22]!==k||u[23]!==f||u[24]!==h||u[25]!==m?(c="delete"===m?(0,n.jsx)(j,{onCancel:p,onConfirm:T,returnFocusRef:b}):"rename"===m?(0,n.jsx)(C,{onCancel:p,currentName:h,onSubmit:k,returnFocusRef:b}):"share"===m?(0,n.jsx)(_.S,{closeDialog:I,threadId:f,returnFocusRef:b}):null,u[18]=I,u[19]=T,u[20]=p,u[21]=b,u[22]=k,u[23]=f,u[24]=h,u[25]=m,u[26]=c):c=u[26],u[27]!==c?(d=(0,n.jsx)(n.Fragment,{children:c}),u[27]=c,u[28]=d):d=u[28],d}let j=e=>{let t,a=(0,r.c)(4),{onConfirm:i,onCancel:s,returnFocusRef:o}=e;return a[0]!==s||a[1]!==i||a[2]!==o?(t=(0,n.jsx)(m.K,{title:"Delete conversation",onClose:e=>{if("confirm"===e){(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_DIALOG_DELETE_CONFIRM",mode:"immersive"});let e=o.current?.closest("nav,aside,section");i(),window.setTimeout(()=>{e instanceof HTMLElement&&e.focus()},0)}else(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_DIALOG_DELETE_CANCEL",mode:"immersive"}),s(),window.setTimeout(()=>o.current?.focus(),0)},confirmButtonContent:"Delete",confirmButtonType:"danger",children:"Are you sure you want to delete this conversation? This action cannot be undone."}),a[0]=s,a[1]=i,a[2]=o,a[3]=t):t=a[3],t},C=e=>{let t,a,i,s,o,c,d,u,m,y,x,_,v=(0,r.c)(34),{currentName:b,onCancel:j,onSubmit:C,returnFocusRef:S}=e,[w,I]=(0,g.useState)(void 0),T=(0,g.useRef)(null),k=(0,g.useId)(),E=(0,g.useId)();v[0]!==C?(t=e=>{e.preventDefault();let t=T.current?.value?.trim()??"";t?t.length>100?(I("max_length"),T.current?.focus()):(I(void 0),C(t)):(I("required"),T.current?.focus())},v[0]=C,v[1]=t):t=v[1];let A=t;v[2]!==j?(a=()=>{(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_DIALOG_RENAME_CANCEL",mode:"immersive"}),j()},v[2]=j,v[3]=a):a=v[3];let L=a;v[4]!==E?(i=(0,n.jsx)("span",{id:E,children:"Rename conversation"}),v[4]=E,v[5]=i):i=v[5],v[6]!==L?(s={content:"Cancel",onClick:L},v[6]=L,v[7]=s):s=v[7],v[8]!==k?(o={content:"Update",buttonType:"primary",type:"submit",form:k,onClick:N},v[8]=k,v[9]=o):o=v[9],v[10]!==s||v[11]!==o?(c=[s,o],v[10]=s,v[11]=o,v[12]=c):c=v[12],v[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(p.A.Label,{visuallyHidden:!0,children:"Rename conversation"}),v[13]=d):d=v[13];let R=w?"error-message":void 0,D=w?"true":void 0;return v[14]!==b||v[15]!==E||v[16]!==R||v[17]!==D?(u=(0,n.jsx)(h.A,{"aria-labelledby":E,"aria-describedby":R,"aria-invalid":D,ref:T,defaultValue:b,block:!0}),v[14]=b,v[15]=E,v[16]=R,v[17]=D,v[18]=u):u=v[18],v[19]!==w?(m=w&&(0,n.jsx)(p.A.Validation,{id:"error-message",variant:"error",children:"required"===w?"Enter a name":"Name cannot exceed 100 characters"}),v[19]=w,v[20]=m):m=v[20],v[21]!==u||v[22]!==m?(y=(0,n.jsxs)(p.A,{required:!0,children:[d,u,m]}),v[21]=u,v[22]=m,v[23]=y):y=v[23],v[24]!==k||v[25]!==A||v[26]!==y?(x=(0,n.jsx)("form",{id:k,onSubmit:A,children:y}),v[24]=k,v[25]=A,v[26]=y,v[27]=x):x=v[27],v[28]!==L||v[29]!==S||v[30]!==x||v[31]!==i||v[32]!==c?(_=(0,n.jsx)(f.l,{title:i,onClose:L,width:"small",footerButtons:c,initialFocusRef:T,returnFocusRef:S,children:x}),v[28]=L,v[29]=S,v[30]=x,v[31]=i,v[32]=c,v[33]=_):_=v[33],_};try{v.displayName||(v.displayName="ConversationActions")}catch{}try{b.displayName||(b.displayName="ConversationActionDialogs")}catch{}try{j.displayName||(j.displayName="DeleteDialog")}catch{}try{C.displayName||(C.displayName="RenameDialog")}catch{}function N(){return(0,l.BI)("dotcom_chat.activate",{target:"CONVERSATION_DIALOG_RENAME_CONFIRM",mode:"immersive"})}},58691:(e,t,a)=>{a.d(t,{S:()=>j});var n=a(74848),r=a(21728),i=a(34901),s=a(47397),o=a(48071),l=a(31971),c=a(640),d=a(38007),u=a(96679),m=a(38621),p=a(55847),h=a(63867),f=a(52464),g=a(46309),y=a(73451),x=a(9591),_=a(9852),v=a(96540);let b={container:"ConversationSharingDialog-module__container--H5hqT",innerContainer:"ConversationSharingDialog-module__innerContainer--V9On6",sharedLinkContainer:"ConversationSharingDialog-module__sharedLinkContainer--aVTdw",textInputContainer:"ConversationSharingDialog-module__textInputContainer--ZxFdI",textInput:"ConversationSharingDialog-module__textInput--A9a7q",success:"ConversationSharingDialog-module__success--y0cZq",spinner:"ConversationSharingDialog-module__spinner--dOElP",successIcon:"ConversationSharingDialog-module__successIcon--VU4pj",mutedText:"ConversationSharingDialog-module__mutedText--s9hgO",warningText:"ConversationSharingDialog-module__warningText--ls_e9",snapshotText:"ConversationSharingDialog-module__snapshotText--KHVR0",buttonStack:"ConversationSharingDialog-module__buttonStack--VRr9b",lockIcon:"ConversationSharingDialog-module__lockIcon--xEX8E",cancelButton:"ConversationSharingDialog-module__cancelButton--C0li6",quickFadeUp:"ConversationSharingDialog-module__quickFadeUp--tDjns"},j=e=>{let t,a,j,C,N,S,w,I,T,k,E,A,L,R,D,P,B,M,O,F,$,U,V,W,z,H,q,G,K,Q=(0,r.c)(93),{closeDialog:Y,threadId:J,returnFocusRef:X}=e,Z=(0,i.Pk)(),ee=(0,s.b)(),[et,ea]=(0,v.useState)(!1),[en,er]=(0,v.useState)(!1),[ei,es]=(0,v.useState)(!1),[eo,el]=(0,v.useState)(!1),{selectedThreadID:ec,ssoOrganizations:ed,apiUrl:eu,threads:em}=Z;Q[0]!==ec||Q[1]!==J||Q[2]!==em?(t=em.get(J||ec),Q[0]=ec,Q[1]=J,Q[2]=em,Q[3]=t):t=Q[3];let ep=t;Q[4]!==ep?.sharedID?(a=()=>ep?.sharedID||"",Q[4]=ep?.sharedID,Q[5]=a):a=Q[5];let[eh,ef]=(0,v.useState)(a);Q[6]!==ep?(j=()=>ep?.sharedMessageID?ep.sharedMessageID:"",Q[6]=ep,Q[7]=j):j=Q[7];let[eg,ey]=(0,v.useState)(j),ex=u.fV.origin,e_=`${ex}/copilot/share/${eh}`;Q[8]!==et?(C=()=>{if(et){let e=setTimeout(()=>ea(!1),1500);return()=>clearTimeout(e)}},N=[et],Q[8]=et,Q[9]=C,Q[10]=N):(C=Q[9],N=Q[10]),(0,v.useEffect)(C,N),Q[11]!==ei?(S=()=>{if(ei){let e=setTimeout(()=>es(!1),1500);return()=>clearTimeout(e)}},w=[ei],Q[11]=ei,Q[12]=S,Q[13]=w):(S=Q[12],w=Q[13]),(0,v.useEffect)(S,w),Q[14]!==e_?(I=async()=>{try{await (0,c.D)(e_),ea(!0),(0,d.BI)("dotcom_chat.activate",{target:"COPILOT_COPY_SHARED_CONVERSATION_LINK",mode:"immersive"})}catch{}},Q[14]=e_,Q[15]=I):I=Q[15];let ev=I;Q[16]!==ep?.sharedID||Q[17]!==ec||Q[18]!==J?(T=()=>{(J||ec)&&ef(ep?.sharedID||"")},Q[16]=ep?.sharedID,Q[17]=ec,Q[18]=J,Q[19]=T):T=Q[19];let eb=ep?.sharedID;Q[20]!==ec||Q[21]!==eb||Q[22]!==J?(k=[eb,ec,J],Q[20]=ec,Q[21]=eb,Q[22]=J,Q[23]=k):k=Q[23],(0,v.useEffect)(T,k),Q[24]!==eu||Q[25]!==ee||Q[26]!==ec||Q[27]!==ed||Q[28]!==J?(E=async()=>{er(!0);let e=J||ec,t=new o.k(eu,ed),a=await t.shareThread(e,l.W.copilotShareActiveSubthread&&e===ec?ee.FindLastMessageID():"");if(a.ok){er(!1);let{sharedAt:t,sharedID:n,sharedMessageID:r}=a.payload;ef(n),es(!0),ey(r),ee.dispatch({type:"SHARED_THREAD_UPDATED",thread:{id:e,sharedID:n,sharedAt:t,sharedMessageID:r}}),(0,d.BI)("dotcom_chat.activate",{target:"COPILOT_CREATE_SHARED_CONVERSATION",mode:"immersive",originalThreadId:e,sharedThreadId:n})}else er(!1)},Q[24]=eu,Q[25]=ee,Q[26]=ec,Q[27]=ed,Q[28]=J,Q[29]=E):E=Q[29];let ej=E;Q[30]!==eu||Q[31]!==ee||Q[32]!==ec||Q[33]!==eh||Q[34]!==eo||Q[35]!==ed||Q[36]!==J?(A=async()=>{if(!eo)return void el(!0);el(!1),er(!0);let e=J||ec,t=new o.k(eu,ed),a=await t.unshareThread(e);if(a.ok){er(!1),ey("");let{sharedID:t,sharedAt:n,sharedMessageID:r}=a.payload;ee.dispatch({type:"SHARED_THREAD_UPDATED",thread:{id:e,sharedID:t,sharedAt:n,sharedMessageID:r}}),(0,d.BI)("dotcom_chat.activate",{target:"COPILOT_UNSHARE_CONVERSATION",mode:"immersive",originalThreadId:e,sharedThreadId:eh})}else er(!1)},Q[30]=eu,Q[31]=ee,Q[32]=ec,Q[33]=eh,Q[34]=eo,Q[35]=ed,Q[36]=J,Q[37]=A):A=Q[37];let eC=A;Q[38]!==ej||Q[39]!==en||Q[40]!==eh?(L=()=>{if(!eh)return(0,n.jsx)(p.Q,{variant:"primary",disabled:en,onClick:ej,children:"Share"})},Q[38]=ej,Q[39]=en,Q[40]=eh,Q[41]=L):L=Q[41];let eN=L;Q[42]!==ev||Q[43]!==eh?(R=()=>{if(eh)return(0,n.jsx)(p.Q,{variant:"primary",autoFocus:!0,onClick:ev,children:"Copy link"})},Q[42]=ev,Q[43]=eh,Q[44]=R):R=Q[44];let eS=R;Q[45]!==eC||Q[46]!==en||Q[47]!==eh?(D=()=>{if(eh)return(0,n.jsx)(p.Q,{variant:"danger",disabled:en,onClick:eC,children:"Unshare"})},Q[45]=eC,Q[46]=en,Q[47]=eh,Q[48]=D):D=Q[48];let ew=D;Q[49]!==eh||Q[50]!==eo?(P=()=>{if(eh&&eo)return(0,n.jsx)(p.Q,{variant:"default",onClick:()=>el(!1),className:b.cancelButton,children:"Cancel"})},Q[49]=eh,Q[50]=eo,Q[51]=P):P=Q[51];let eI=P;Q[52]!==et||Q[53]!==en||Q[54]!==eh||Q[55]!==eo||Q[56]!==ei?(B=()=>en?(0,n.jsxs)("div",{className:b.quickFadeUp,children:[(0,n.jsx)(h.A,{size:"small",className:b.spinner}),eh?"Unsharing conversation...":"Sharing conversation..."]}):eo?(0,n.jsx)("div",{className:b.quickFadeUp,children:(0,n.jsx)(f.A,{size:"medium",className:b.warningText,children:"Confirm unsharing this conversation?"})}):et?(0,n.jsxs)("div",{className:b.quickFadeUp,children:[(0,n.jsx)(m.CheckIcon,{className:b.successIcon}),(0,n.jsx)(f.A,{size:"medium",className:b.success,children:"Copied to clipboard"})]}):ei?(0,n.jsxs)("div",{className:b.quickFadeUp,children:[(0,n.jsx)(m.CheckIcon,{className:b.successIcon}),(0,n.jsx)(f.A,{size:"medium",className:b.success,children:"Conversation shared"})]}):eh?(0,n.jsxs)("div",{children:[(0,n.jsx)(m.UnlockIcon,{className:b.lockIcon}),(0,n.jsx)(f.A,{size:"medium",className:b.mutedText,children:"Visible to anyone with the link"})]}):(0,n.jsx)("div",{}),Q[52]=et,Q[53]=en,Q[54]=eh,Q[55]=eo,Q[56]=ei,Q[57]=B):B=Q[57];let eT=B,ek=eh?"Conversation shared":"Share conversation";return Q[58]!==eg||Q[59]!==eh?(M=(0,n.jsx)(g.B,{direction:"horizontal",padding:"none",align:"center",justify:"start",gap:"condensed",children:eg?(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{className:b.snapshotText,children:"This shared conversation is a snapshot"}),", accessible to anyone with the link. It will not update with new messages."]}):eh?(0,n.jsx)("span",{children:"This conversation and future messages are visible to anyone with the link. If private repository content is included, repository access is required to view."}):(0,n.jsx)("span",{children:"When shared, this conversation and future messages will be visible to anyone with the link. If private repository content is included, repository access is required to view."})}),Q[58]=eg,Q[59]=eh,Q[60]=M):M=Q[60],Q[61]!==e_||Q[62]!==eh?(O=eh&&(0,n.jsx)("div",{className:b.innerContainer,children:(0,n.jsx)("div",{className:b.sharedLinkContainer,children:(0,n.jsxs)(y.A,{id:"share-link",className:b.textInputContainer,children:[(0,n.jsx)(y.A.Label,{children:"Share link"}),(0,n.jsx)(x.A,{size:"large",readOnly:!0,value:eh&&e_,className:b.textInput})]})})}),Q[61]=e_,Q[62]=eh,Q[63]=O):O=Q[63],Q[64]!==M||Q[65]!==O?(F=(0,n.jsxs)(g.B,{direction:"vertical",gap:"condensed",children:[M,O]}),Q[64]=M,Q[65]=O,Q[66]=F):F=Q[66],Q[67]!==eT?($=(0,n.jsx)("div",{role:"status",children:eT()}),Q[67]=eT,Q[68]=$):$=Q[68],Q[69]!==eN?(U=eN(),Q[69]=eN,Q[70]=U):U=Q[70],Q[71]!==eI?(V=eI(),Q[71]=eI,Q[72]=V):V=Q[72],Q[73]!==ew?(W=ew(),Q[73]=ew,Q[74]=W):W=Q[74],Q[75]!==eS?(z=eS(),Q[75]=eS,Q[76]=z):z=Q[76],Q[77]!==U||Q[78]!==V||Q[79]!==W||Q[80]!==z?(H=(0,n.jsxs)(g.B,{direction:"horizontal",gap:"condensed",align:"center",justify:"end",children:[U,V,W,z]}),Q[77]=U,Q[78]=V,Q[79]=W,Q[80]=z,Q[81]=H):H=Q[81],Q[82]!==$||Q[83]!==H?(q=(0,n.jsxs)(g.B,{direction:"horizontal",gap:"condensed",align:"center",justify:"space-between",className:b.buttonStack,children:[$,H]}),Q[82]=$,Q[83]=H,Q[84]=q):q=Q[84],Q[85]!==F||Q[86]!==q?(G=(0,n.jsxs)("div",{className:b.container,children:[F,q]}),Q[85]=F,Q[86]=q,Q[87]=G):G=Q[87],Q[88]!==Y||Q[89]!==X||Q[90]!==ek||Q[91]!==G?(K=(0,n.jsx)(_.l,{title:ek,onClose:Y,width:"large",returnFocusRef:X,children:G}),Q[88]=Y,Q[89]=X,Q[90]=ek,Q[91]=G,Q[92]=K):K=Q[92],K};try{j.displayName||(j.displayName="ConversationSharingDialog")}catch{}},83139:(e,t,a)=>{a.d(t,{b:()=>j});var n=a(74848),r=a(34901),i=a(47397),s=a(8579),o=a(38007),l=a(96679),c=a(38621),d=a(9852),u=a(46309),m=a(63867),p=a(34614),h=a(87330),f=a(32647),g=a(15101),y=a(56221),x=a(96540);let _={dialog:"ManageSharedConversationsDialog-module__dialog--gqShw",actionButtons:"ManageSharedConversationsDialog-module__actionButtons--dnllp",alertIcon:"ManageSharedConversationsDialog-module__alertIcon--ycpcb",footer:"ManageSharedConversationsDialog-module__footer--E9QfA",mutedText:"ManageSharedConversationsDialog-module__mutedText--Oojiq",footerContent:"ManageSharedConversationsDialog-module__footerContent--Y3u6a",footerLeft:"ManageSharedConversationsDialog-module__footerLeft--av8LO",footerRight:"ManageSharedConversationsDialog-module__footerRight--zFJoz",confirmationText:"ManageSharedConversationsDialog-module__confirmationText--aBG2L",quickFadeUp:"ManageSharedConversationsDialog-module__quickFadeUp--Gjoro",conversationLink:"ManageSharedConversationsDialog-module__conversationLink--FpBBC"};var v=a(94280);let b=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(t)},j=({closeDialog:e,returnFocusRef:t})=>{let a=(0,i.b)(),j=(0,r.Pk)(),[C,N]=(0,x.useState)(0),[S,w]=(0,x.useState)([]),[I,T]=(0,x.useState)(!0),[k,E]=(0,x.useState)(!1),[A,L]=(0,x.useState)(null),[R,D]=(0,x.useState)(!1),[P,B]=(0,x.useState)(5>S.length),M=5*C,O=S.slice(M,M+5);(0,x.useEffect)(()=>{(async()=>{let e=await a.fetchSharedThreads();e&&w(e.map(e=>({id:e.id,conversation:e.name||"New conversation",lastUpdated:b(e.updatedAt),sharedUrl:`${l.fV.origin}/copilot/share/${e.sharedID}`,threadUrl:`${l.fV.origin}/copilot/c/${e.id}`}))),T(!1)})()},[a]),(0,x.useEffect)(()=>{P&&C>0&&S.length<=5*C&&N(0);let e=5<S.length;e!==P&&B(e)},[S,C,5,P]);let F=(0,x.useCallback)(()=>{e()},[e]),$=(0,x.useCallback)(async()=>{if(!R)return void D(!0);D(!1),T(!0);try{(await a.unshareAllThreads()).ok&&(w([]),await a.fetchThreads())}finally{T(!1)}},[R,a]),U=async()=>{E(!1),L(null),T(!0);let e=await a.fetchSharedThreads();e&&w(e.map(e=>({id:e.id,conversation:e.name||"New conversation",lastUpdated:b(e.updatedAt),sharedUrl:`${l.fV.origin}/copilot/share/${e.sharedID}`,threadUrl:`${l.fV.origin}/copilot/c/${e.id}`}))),T(!1)},V=I||"error"===j.sharedThreadsLoading.state||0===S.length,W=(0,x.useMemo)(()=>{if(!S.length)return[];let e={buttonType:"danger",content:"Unshare all",onClick:()=>{R?$():D(!0)}};return R?[{buttonType:"default",content:"Cancel",onClick:()=>D(!1)},e]:[e]},[S.length,R,$]),z=(0,x.useMemo)(()=>I?{result:"loading",heading:"Loading shared conversations",description:"Your shared conversations will appear here.",isSpinner:!0}:"error"===j.sharedThreadsLoading.state?{result:"error",heading:"We couldn't load the shared conversations",description:"Try again or, if the problem persists, contact support."}:{result:"empty",heading:"No shared conversations",description:"Your shared conversations will appear here."},[I,j.sharedThreadsLoading.state]);return(0,n.jsxs)(d.l,{title:"Manage shared conversations",width:"xlarge",className:_.dialog,position:{narrow:"fullscreen",regular:"center"},onClose:F,returnFocusRef:t,renderFooter:()=>W?.length?(0,n.jsx)(d.l.Footer,{className:_.footer,children:(0,n.jsxs)("div",{className:_.footerContent,children:[(0,n.jsx)("div",{className:_.footerLeft,children:R&&(0,n.jsx)("div",{className:`${_.confirmationText} ${_.quickFadeUp}`,children:(e=>1===e?"Are you sure you want to unshare this conversation?":`Are you sure you want to unshare all ${e} conversations?`)(S.length)})}),(0,n.jsx)("div",{className:_.footerRight,children:(0,n.jsx)(d.l.Buttons,{buttons:W})})]})}):null,children:[V?(0,n.jsxs)(f.E,{children:[(0,n.jsx)(f.E.Visual,{children:z.isSpinner?(0,n.jsx)(u.B,{direction:"horizontal",align:"center",children:(0,n.jsx)(m.A,{size:"medium",srText:"Loading shared conversations\u2026"})}):(0,n.jsx)("div",{className:_.mutedText,children:"error"===z.result?(0,n.jsx)(c.AlertIcon,{size:"medium",className:_.alertIcon,"aria-label":"Error loading shared conversations"}):(0,n.jsx)(c.LinkIcon,{size:"medium","aria-label":"No shared conversations"})})}),(0,n.jsx)(f.E.Heading,{children:z.heading}),(0,n.jsx)(f.E.Description,{children:z.description})]}):(0,n.jsxs)(g.X.Container,{children:[(0,n.jsx)(y.b,{"aria-labelledby":"manage-shared-conversations",cellPadding:"normal",columns:[{header:"Conversation",field:"conversation",width:"growCollapse",minWidth:"60%",rowHeader:!0,renderCell:e=>(0,n.jsx)(p.A,{href:e.threadUrl,className:_.conversationLink,children:e.conversation})},{header:"Last updated",field:"lastUpdated",width:"growCollapse",renderCell:e=>(0,n.jsx)("span",{className:_.mutedText,children:e.lastUpdated})},{id:"actions",width:"growCollapse",align:"end",header:()=>(0,n.jsx)("div",{className:"sr-only",children:"Actions"}),renderCell:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:_.actionButtons,children:[(0,n.jsx)(s.T,{textToCopy:e.sharedUrl,onCopy:()=>{(0,o.BI)("dotcom_chat.activate",{target:"COPILOT_COPY_SHARED_CONVERSATION_LINK",mode:"immersive"})},ariaLabel:"Copy share link"}),(0,n.jsx)(h.K,{"aria-label":"Unshare conversation",title:"Unshare conversation",icon:c.UnlinkIcon,variant:"invisible",onClick:()=>{L(e),E(!0)}})]})})}],data:O}),S.length>5&&(0,n.jsx)(g.X.Pagination,{"aria-label":"Shared conversations pagination",pageSize:5,defaultPageIndex:C,totalCount:S.length,onChange:e=>{N(e.pageIndex)},showPages:!1})]}),k&&A&&(0,n.jsx)(v.Q,{threadId:A.id,closeDialog:U})]})};try{j.displayName||(j.displayName="ManageSharedConversationsDialog")}catch{}},94280:(e,t,a)=>{a.d(t,{Q:()=>h});var n=a(74848),r=a(21728),i=a(34901),s=a(47397),o=a(48071),l=a(38007),c=a(55847),d=a(46309),u=a(9852),m=a(96540);let p={container:"UnshareConversationDialog-module__container--o6oFz",buttonStack:"UnshareConversationDialog-module__buttonStack--j2D4B",threadInfoStack:"UnshareConversationDialog-module__threadInfoStack--GloZD",threadTitle:"UnshareConversationDialog-module__threadTitle--sFw3i",threadDescription:"UnshareConversationDialog-module__threadDescription--vJa2Q"},h=e=>{let t,a,h,f,g,y,x,_,v,b,j,C,N,S,w,I,T,k,E,A,L=(0,r.c)(60),{closeDialog:R,threadId:D}=e,P=(0,i.Pk)(),B=(0,s.b)(),{selectedThreadID:M,ssoOrganizations:O,apiUrl:F,threads:$}=P,[U,V]=(0,m.useState)(P.messages);L[0]!==D||L[1]!==$?(t=()=>{let e=$.get(D);return e?.sharedID||""},L[0]=D,L[1]=$,L[2]=t):t=L[2];let[W,z]=(0,m.useState)(t),H=(0,m.useRef)(""!==W),q=(0,m.useRef)("");L[3]!==U||L[4]!==W||L[5]!==P.apiUrl||L[6]!==P.ssoOrganizations||L[7]!==D?(a=()=>{let e=async()=>{if(0===U.filter(e=>e.threadID===D).length){let e=new o.k(P.apiUrl,P.ssoOrganizations),t=await e.listSharedThreadMessages(W);t.ok&&V(t.payload.messages)}};q.current!==W&&W&&(q.current=W,e())},h=[W,D,U,P.apiUrl,P.ssoOrganizations],L[3]=U,L[4]=W,L[5]=P.apiUrl,L[6]=P.ssoOrganizations,L[7]=D,L[8]=a,L[9]=h):(a=L[8],h=L[9]),(0,m.useEffect)(a,h),L[10]!==M||L[11]!==D||L[12]!==$?(f=$.get(D||M),L[10]=M,L[11]=D,L[12]=$,L[13]=f):f=L[13];let G=f,K=U[U.length-1],Q=K?.content||"";L[14]!==M||L[15]!==D||L[16]!==$?(g=()=>{let e=D||M;if(e){let t=$.get(e);z(t?.sharedID||"")}},L[14]=M,L[15]=D,L[16]=$,L[17]=g):g=L[17],L[18]!==B||L[19]!==M||L[20]!==D||L[21]!==$?(y=[B,z,M,$,D],L[18]=B,L[19]=M,L[20]=D,L[21]=$,L[22]=y):y=L[22],(0,m.useEffect)(g,y),L[23]!==F||L[24]!==R||L[25]!==B||L[26]!==M||L[27]!==W||L[28]!==O||L[29]!==D?(x=async()=>{let e=D||M,t=new o.k(F,O),a=await t.unshareThread(e);if(a.ok){let{sharedID:t,sharedAt:n,sharedMessageID:r}=a.payload;B.dispatch({type:"SHARED_THREAD_UPDATED",thread:{id:e,sharedID:t,sharedAt:n,sharedMessageID:r}}),H.current=!1,R(),(0,l.BI)("dotcom_chat.activate",{target:"COPILOT_UNSHARE_CONVERSATION",mode:"immersive",originalThreadId:e,sharedThreadId:W})}},L[23]=F,L[24]=R,L[25]=B,L[26]=M,L[27]=W,L[28]=O,L[29]=D,L[30]=x):x=L[30];let Y=x;L[31]!==R?(_=()=>{R()},L[31]=R,L[32]=_):_=L[32];let J=_;L[33]!==Y||L[34]!==W?(v=()=>{if(W)return(0,n.jsx)(c.Q,{onClick:Y,variant:"danger",children:"Unshare"})},L[33]=Y,L[34]=W,L[35]=v):v=L[35];let X=v;L[36]!==R?(b=()=>(0,n.jsx)(c.Q,{onClick:R,children:"Cancel"}),L[36]=R,L[37]=b):b=L[37];let Z=b;L[38]===Symbol.for("react.memo_cache_sentinel")?(j=(0,n.jsx)("span",{children:"You're about to unshare the link for the following conversation:"}),L[38]=j):j=L[38];let ee=G?.name||"";return L[39]!==ee?(C=(0,n.jsx)("span",{className:p.threadTitle,children:ee}),L[39]=ee,L[40]=C):C=L[40],L[41]!==Q?(N=(0,n.jsx)("span",{className:p.threadDescription,children:Q}),L[41]=Q,L[42]=N):N=L[42],L[43]!==C||L[44]!==N?(S=(0,n.jsxs)(d.B,{direction:"vertical",className:p.threadInfoStack,children:[C,N]}),L[43]=C,L[44]=N,L[45]=S):S=L[45],L[46]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsx)("span",{children:"Once unshared, the link will no longer be accessible."}),L[46]=w):w=L[46],L[47]!==Z?(I=Z(),L[47]=Z,L[48]=I):I=L[48],L[49]!==X?(T=X(),L[49]=X,L[50]=T):T=L[50],L[51]!==I||L[52]!==T?(k=(0,n.jsxs)(d.B,{direction:"horizontal",gap:"condensed",align:"end",justify:"end",className:p.buttonStack,children:[I,T]}),L[51]=I,L[52]=T,L[53]=k):k=L[53],L[54]!==S||L[55]!==k?(E=(0,n.jsxs)("div",{className:p.container,children:[j,S,w,k]}),L[54]=S,L[55]=k,L[56]=E):E=L[56],L[57]!==J||L[58]!==E?(A=(0,n.jsx)(u.l,{title:"Unshare conversation",onClose:J,width:"large",children:E}),L[57]=J,L[58]=E,L[59]=A):A=L[59],A};try{h.displayName||(h.displayName="UnshareConversationDialog")}catch{}},69179:(e,t,a)=>{a.d(t,{U:()=>Y});var n=a(74848),r=a(21728),i=a(31971),s=a(68714),o=a(44446),l=a(23986),c=a(70179),d=a(85788),u=a(38621),m=a(10569),p=a(15385),h=a(34164),f=a(96540),g=a(34901),y=a(47397),x=a(22069),_=a(38007),v=a(87330),b=a(84217),j=a(81007),C=a(40961),N=a(66837);let S={container:"ConversationListV2-module__container--XkM2p",condensed:"ConversationListV2-module__condensed--n231O",empty:"ConversationListV2-module__empty--MSgUu",list:"ConversationListV2-module__list--raT6V",section:"ConversationListV2-module__section--T3pv4",title:"ConversationListV2-module__title--TDXJO",item:"ConversationListV2-module__item--oOoGR",link:"ConversationListV2-module__link--plPHq",text:"ConversationListV2-module__text--SsBPV",context:"ConversationListV2-module__context--LMOMd",emptyStateHeading:"ConversationListV2-module__emptyStateHeading--WxkgT",emptyStateText:"ConversationListV2-module__emptyStateText--M2LL7"};function w({selectedItemID:e,loadingState:t,onConversationSelect:a,isSidebarCondensed:r}){let i=(0,y.b)(),{threads:s}=(0,g.Pk)(),o=(0,f.useMemo)(()=>i.sortAndFilterThreads(s).map(e=>({id:e.id,text:(0,x.CB)(e),href:`${x.Jz}/c/${e.id}`,date:new Date(e.updatedAt)})),[s,i]),l=function(e){let t=new Date,a=new Date(t);a.setDate(t.getDate()-1);let n=new Date(t);n.setDate(t.getDate()-7);let r=new Date(t);r.setDate(t.getDate()-30);let i=[],s=[],o=[],l=[];for(let c of e)c.date.toDateString()===t.toDateString()?i.push(c):c.date.toDateString()===a.toDateString()?s.push(c):c.date>n?o.push(c):c.date>r&&l.push(c);return{Today:i,Yesterday:s,"Last 7 days":o,"Last 30 days":l}}(o),c=0===o.length,d=(0,f.useId)();return(0,n.jsx)("nav",{"aria-labelledby":`${d}-conversations`,id:`${d}-conversation-list`,tabIndex:-1,className:(0,h.$)(S.container,r&&S.condensed),children:c&&("loading"===t||"pending"===t)?(0,n.jsx)(j.r,{lines:5}):c?(0,n.jsx)(k,{}):(0,n.jsxs)("div",{className:S.section,children:[(0,n.jsx)("h3",{id:`${d}-conversations`,className:"sr-only",children:"Conversations"}),Object.entries(l).map(([t,r])=>r.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{id:`${d}_${t}`,className:S.title,children:t}),(0,n.jsx)("ul",{className:S.list,children:r.map(t=>(0,n.jsx)(I,{item:t,selectedItemId:e??void 0,onSelect:a,threads:s},t.id))})]},t))]})})}function I(e){let t,a,i,s,o,l=(0,r.c)(17),{item:c,selectedItemId:h,onSelect:g,threads:y}=e,x=c.id===h,[b,j]=(0,f.useState)(null),[w,I]=(0,f.useState)(!1);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>I(!0),l[0]=t):t=l[0];let k=t;l[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>I(!1),l[1]=a):a=l[1];let E=a;l[2]!==h||l[3]!==y?(i=y.get(h),l[2]=h,l[3]=y,l[4]=i):i=l[4];let A=i,L=!!A?.customCopilotID,R=(0,f.useRef)(null);l[5]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{(0,C.flushSync)(()=>j(null)),R.current?.focus()},l[5]=s):s=l[5];let D=s;return l[6]!==b||l[7]!==L||l[8]!==c.href||l[9]!==c.id||l[10]!==c.text||l[11]!==w||l[12]!==g||l[13]!==x||l[14]!==h||l[15]!==y?(o=c.href&&(0,n.jsxs)("li",{className:S.item,children:[(0,n.jsx)(d.N_,{className:S.link,to:c.href,"aria-current":x?"page":void 0,onClick:()=>{g(),(0,_.BI)("dotcom_chat.activate",{target:"CONVERSATION_SELECT",threadId:c.id,mode:"immersive"})},children:(0,n.jsx)("span",{className:S.text,children:c.text})}),(0,n.jsx)("span",{className:S.context,children:(0,n.jsxs)(m.W,{anchorRef:R,children:[(0,n.jsx)(m.W.Anchor,{children:(0,n.jsx)(v.K,{loading:w,icon:u.KebabHorizontalIcon,"aria-label":"Manage conversation",variant:"invisible",onClick:T})}),(0,n.jsx)(m.W.Overlay,{children:(0,n.jsx)(p.l,{children:(0,n.jsx)(N.V,{onOpenDialog:j,isShared:!!y.get(c.id)?.sharedID,showShare:!L})})})]})}),(0,n.jsx)(N.p,{visibleDialog:b,onClose:D,threadName:c.text,threadId:c.id,selectedThreadId:h,onStartLoading:k,onFinishLoading:E,returnFocusRef:R})]},c.id),l[6]=b,l[7]=L,l[8]=c.href,l[9]=c.id,l[10]=c.text,l[11]=w,l[12]=g,l[13]=x,l[14]=h,l[15]=y,l[16]=o):o=l[16],o}function T(){return(0,_.BI)("dotcom_chat.activate",{target:"CONVERSATION_CONTEXT_MENU",mode:"immersive"})}function k(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("div",{className:S.empty,children:[(0,n.jsx)(b.A,{as:"h3",className:S.emptyStateHeading,children:"No conversations yet"}),(0,n.jsx)("span",{className:S.emptyStateText,children:"Ask Copilot anything on the right to start your first conversation."})]}),t[0]=e):e=t[0],e}try{w.displayName||(w.displayName="ConversationList")}catch{}try{I.displayName||(I.displayName="ConversationListEntry")}catch{}try{k.displayName||(k.displayName="EmptyState")}catch{}let E={quicklinks:"CopilotNavigation-module__quicklinks--fBcim",footer:"CopilotNavigation-module__footer--mzJuN",blankslateContainer:"CopilotNavigation-module__blankslateContainer--uaVTu",ssoButton:"CopilotNavigation-module__ssoButton--Hed9T",ssoContent:"CopilotNavigation-module__ssoContent--icnsX",condensed:"CopilotNavigation-module__condensed--WdJwM"};var A=a(38659),L=a(53207),R=a(6901),D=a(99038),P=a(10594),B=a(47139),M=a(3246);let O={list:"ServiceList-module__list--qM7Z0",section:"ServiceList-module__section--rH_HX",item:"ServiceList-module__item--BKNHQ",link:"ServiceList-module__link--gr4pE",content:"ServiceList-module__content--Ocu_6",textWrapper:"ServiceList-module__textWrapper--xQx11",text:"ServiceList-module__text--qq8vl",label:"ServiceList-module__label--SE7p6",externalLabel:"ServiceList-module__externalLabel--YDtIV",condensed:"ServiceList-module__condensed--I4xk8",previewLabel:"ServiceList-module__previewLabel--p9jmY",externalIcon:"ServiceList-module__externalIcon--ycKGQ"};function F(e){let t,a,i,s,l=(0,r.c)(17),{"aria-current":c,href:m,icon:p,onLinkClick:f,id:g,displayName:y,condensed:x,label:_,external:v}=e;l[0]!==g||l[1]!==f?(t=e=>{f?.(e,g)},l[0]=g,l[1]=f,l[2]=t):t=l[2];let b=t;l[3]!==c||l[4]!==b?(a={"aria-current":c,className:O.link,onClick:b},l[3]=c,l[4]=b,l[5]=a):a=l[5];let j=a;l[6]!==j||l[7]!==x||l[8]!==y||l[9]!==v||l[10]!==m||l[11]!==p||l[12]!==_?(i=v?(0,n.jsxs)("a",{href:m,className:O.link,"aria-label":y,rel:"noopener noreferrer",children:[(0,n.jsx)(o.I,{size:16,icon:p}),(0,n.jsxs)("div",{className:(0,h.$)(O.content,x&&O.condensed),children:[(0,n.jsx)("div",{className:O.textWrapper,children:(0,n.jsx)("div",{className:O.text,children:y})}),(0,n.jsx)("div",{className:O.label,children:(0,n.jsxs)("div",{className:O.externalLabel,children:[(0,n.jsx)("span",{className:O.previewLabel,children:_}),(0,n.jsx)(u.ArrowUpRightIcon,{className:O.externalIcon})]})})]})]}):(0,n.jsxs)(d.N_,{to:m,...j,"aria-label":y,children:[(0,n.jsx)(o.I,{size:16,icon:p}),(0,n.jsxs)("div",{className:(0,h.$)(O.content,x&&O.condensed),children:[(0,n.jsx)("div",{className:O.textWrapper,children:(0,n.jsx)("div",{className:O.text,children:y})}),(0,n.jsx)("div",{className:O.label,children:_})]})]}),l[6]=j,l[7]=x,l[8]=y,l[9]=v,l[10]=m,l[11]=p,l[12]=_,l[13]=i):i=l[13];let C=i,N=x?y:"";return l[14]!==C||l[15]!==N?(s=(0,n.jsx)("li",{className:O.section,children:(0,n.jsx)("div",{className:O.item,children:(0,n.jsx)(P.m,{text:N,children:C})})}),l[14]=C,l[15]=N,l[16]=s):s=l[16],s}function $({toggleFloatingSidebar:e,isSidebarCondensed:t}){let a=(0,g.Pk)(),{selectedThreadID:r}=a,i=(0,A.v)()?.id,o=(0,L.qw)(),l=(0,y.b)(),c=(0,M.G)(),d=(0,s.BV)(),u=(0,R.mM)(),m=!r&&!i&&!u,p=async t=>{t.metaKey||t.ctrlKey||(e(),await c({clearTopic:!0,includeThreads:!1}),(0,_.BI)("dotcom_chat.activate",{target:"SIDEBAR_CONVERSATION_NEW",mode:"immersive"}))},h=(0,f.useCallback)(t=>{t.metaKey||t.ctrlKey||e()},[e]),v=(0,f.useCallback)((t,a)=>{t.metaKey||t.ctrlKey||(e(),l.selectPlugin(a))},[e,l]),b=(0,f.useMemo)(()=>[...d?[{type:"spaces",component:(0,n.jsx)(F,{"aria-current":u?"page":void 0,displayName:"Spaces",href:x.VR,icon:D.Dy,condensed:t,id:"spaces",onLinkClick:h,label:(0,n.jsx)(B.A,{variant:"success",children:"Preview"})},"spaces"),displayName:"Spaces"}]:[],...o.flatMap(e=>e.navigationItems&&e.navigationItems.length>0?e.navigationItems.map(a=>({type:"plugin",component:(0,n.jsx)(F,{"aria-current":i===e.id?"page":void 0,displayName:a.displayName,href:a.href,icon:a.icon,condensed:t,id:a.id,onLinkClick:a.external?void 0:t=>v(t,e.id),label:a.label,external:a.external},`${e.id}-${a.id}`),displayName:a.displayName})):e.NavigationComponent?[{type:"plugin",component:(0,n.jsx)(e.NavigationComponent,{chatState:a,onLinkClick:v},e.id),displayName:e.displayName}]:[])].sort((e,t)=>e.displayName.localeCompare(t.displayName)),[d,u,t,h,o,i,v,a]);return(0,n.jsxs)("ul",{className:O.list,children:[(0,n.jsx)(F,{"aria-current":m?"page":void 0,displayName:"New chat",href:x.Jz,icon:D.KJ,condensed:t,id:"home",onLinkClick:p}),b.map(e=>e.component)]})}try{F.displayName||(F.displayName="ServiceListItem")}catch{}try{$.displayName||($.displayName="ServiceList")}catch{}var U=a(33484),V=a(75320),W=a(99377),z=a(39459),H=a(83139),q=a(63602);let G={userButton:"UserMenu-module__userButton--gnrvo",condensed:"UserMenu-module__condensed--CKugY",userContent:"UserMenu-module__userContent--rQccx",userAvatar:"UserMenu-module__userAvatar--yMyPX",menuItem:"UserMenu-module__menuItem--gW5Vg",userDetails:"UserMenu-module__userDetails--tymYC",username:"UserMenu-module__username--f_pAT",description:"UserMenu-module__description--Z9xoB"};function K(e){let t,a,i,s,o,l,c,d,y,x,v,b,j,C,N,S,w,I,T,k,E,A,L,D,P,B=(0,r.c)(52),{isCondensed:M}=e,O=void 0!==M&&M,F=(0,f.useRef)(null),$=(0,f.useRef)(null),[K,Y]=(0,f.useState)(!1),[J,X]=(0,f.useState)(!1),{currentUserLogin:Z,plan:ee}=(0,g.bP)("currentUserLogin","plan"),et=(0,R.mM)(),ea=O&&G.condensed;B[0]!==ea?(t=(0,h.$)(G.userButton,ea),B[0]=ea,B[1]=t):t=B[1];let en=O?"user":void 0,er=`/${Z}.png`;B[2]!==er?(a=(0,n.jsx)("div",{className:G.userAvatar,children:(0,n.jsx)(z.r,{src:er,size:20})}),B[2]=er,B[3]=a):a=B[3],B[4]!==Z?(i=(0,n.jsx)("div",{className:G.userContent,children:Z}),B[4]=Z,B[5]=i):i=B[5],B[6]!==t||B[7]!==en||B[8]!==a||B[9]!==i?(s=(0,n.jsx)(m.W.Anchor,{children:(0,n.jsxs)("button",{className:t,"aria-label":en,children:[a,i]})}),B[6]=t,B[7]=en,B[8]=a,B[9]=i,B[10]=s):s=B[10];let ei=`/${Z}`,es=`/${Z}.png`;return B[11]!==es?(o=(0,n.jsx)("div",{className:G.userAvatar,children:(0,n.jsx)(z.r,{src:es,size:32})}),B[11]=es,B[12]=o):o=B[12],B[13]!==Z?(l=(0,n.jsx)("div",{className:G.username,children:Z}),B[13]=Z,B[14]=l):l=B[14],B[15]!==ee?(c=function(e){switch(e){case W.UH.IndividualFree:return"Free";case W.UH.IndividualPro:return"Pro";case W.UH.IndividualProPlus:return"Pro+";case W.UH.Business:return"Business";case W.UH.Enterprise:return"Enterprise";default:return"Free"}}(ee),B[15]=ee,B[16]=c):c=B[16],B[17]!==c?(d=(0,n.jsxs)("span",{className:G.description,children:["Copilot ",c]}),B[17]=c,B[18]=d):d=B[18],B[19]!==l||B[20]!==d?(y=(0,n.jsxs)("div",{className:G.userDetails,children:[l,d]}),B[19]=l,B[20]=d,B[21]=y):y=B[21],B[22]!==o||B[23]!==y?(x=(0,n.jsxs)("div",{className:G.menuItem,children:[o,y]}),B[22]=o,B[23]=y,B[24]=x):x=B[24],B[25]!==x||B[26]!==ei?(v=(0,n.jsx)(p.l.LinkItem,{href:ei,children:x}),B[25]=x,B[26]=ei,B[27]=v):v=B[27],B[28]===Symbol.for("react.memo_cache_sentinel")?(b=(0,n.jsx)(p.l.Divider,{}),B[28]=b):b=B[28],B[29]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{X(!0),(0,_.BI)("dotcom_chat.activate",{target:"USER_MENU_PERSONAL_INSTRUCTIONS",mode:"immersive"})},B[29]=j):j=B[29],B[30]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsxs)(p.l.Item,{onSelect:j,children:[(0,n.jsx)(p.l.LeadingVisual,{children:(0,n.jsx)(u.NoteIcon,{})}),"Personal instructions"]}),B[30]=C):C=B[30],B[31]!==et?(N=!et&&(0,n.jsxs)(p.l.Item,{onSelect:()=>{Y(!0),(0,_.BI)("dotcom_chat.activate",{target:"USER_MENU_MANAGE_SHARED",mode:"immersive"})},children:[(0,n.jsx)(p.l.LeadingVisual,{children:(0,n.jsx)(u.ListUnorderedIcon,{})}),"Manage shared conversations"]}),B[31]=et,B[32]=N):N=B[32],B[33]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{$.current?.openDialog(),(0,_.BI)("dotcom_chat.activate",{target:"USER_MENU_GIVE_FEEDBACK",mode:"immersive"})},B[33]=S):S=B[33],B[34]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsxs)(p.l.Item,{onSelect:S,children:[(0,n.jsx)(p.l.LeadingVisual,{children:(0,n.jsx)(u.CommentIcon,{})}),"Give feedback"]}),B[34]=w):w=B[34],B[35]===Symbol.for("react.memo_cache_sentinel")?(I=(0,n.jsxs)(p.l.LinkItem,{href:"/settings/copilot",onClick:Q,children:[(0,n.jsx)(p.l.LeadingVisual,{children:(0,n.jsx)(u.GearIcon,{})}),"Settings"]}),T=(0,n.jsx)(q.k,{}),B[35]=I,B[36]=T):(I=B[35],T=B[36]),B[37]!==v||B[38]!==N?(k=(0,n.jsx)(m.W.Overlay,{width:"small",align:"end",children:(0,n.jsxs)(p.l,{children:[v,b,C,N,w,I,T]})}),B[37]=v,B[38]=N,B[39]=k):k=B[39],B[40]!==k||B[41]!==s?(E=(0,n.jsxs)(m.W,{anchorRef:F,children:[s,k]}),B[40]=k,B[41]=s,B[42]=E):E=B[42],B[43]===Symbol.for("react.memo_cache_sentinel")?(A=(0,n.jsx)(U.l,{ref:$,mode:"immersive",returnFocusRef:F}),B[43]=A):A=B[43],B[44]!==K?(L=K&&(0,n.jsx)(H.b,{closeDialog:()=>{Y(!1)},returnFocusRef:F}),B[44]=K,B[45]=L):L=B[45],B[46]!==J?(D=J&&(0,n.jsx)(V.Y,{onDismiss:()=>X(!1),returnFocusRef:F}),B[46]=J,B[47]=D):D=B[47],B[48]!==E||B[49]!==L||B[50]!==D?(P=(0,n.jsxs)(n.Fragment,{children:[E,A,L,D]}),B[48]=E,B[49]=L,B[50]=D,B[51]=P):P=B[51],P}function Q(){return(0,_.BI)("dotcom_chat.activate",{target:"USER_MENU_SETTINGS",mode:"immersive"})}try{K.displayName||(K.displayName="UserMenu")}catch{}function Y(){let e,t=(0,r.c)(5),{sidebarExpanded:a,sidebarVisible:i,layoutBreakpoint:s,toggleSidebar:o}=(0,l.L)();return t[0]!==s||t[1]!==a||t[2]!==i||t[3]!==o?(e=(0,n.jsx)(J,{sidebarExpanded:a,sidebarVisible:i,sidebarFloating:s,onToggleSidebar:o}),t[0]=s,t[1]=a,t[2]=i,t[3]=o,t[4]=e):e=t[4],e}function J(e){let t,a,l,x,_,v,b,j,C,N,S,I,T,k,A,L=(0,r.c)(46),{onSidebarClick:R,onToggleSidebar:D,sidebarExpanded:P,sidebarFloating:B,sidebarVisible:M}=e,O=!B&&!P,F=(0,y.b)(),{threadsLoading:U,threads:V,selectedThreadID:W,ssoOrganizations:z}=(0,g.bP)("threadsLoading","threads","selectedThreadID","ssoOrganizations"),H=(0,s.BV)(),q=i.W.immersiveServiceNavigation||H,G=(0,d.zy)(),Q=G.pathname.includes("/share/");L[0]!==F||L[1]!==V.size||L[2]!==U.state?(t=()=>{0===V.size&&"pending"===U.state&&F.fetchThreads()},a=[V.size,F,U.state],L[0]=F,L[1]=V.size,L[2]=U.state,L[3]=t,L[4]=a):(t=L[3],a=L[4]),(0,f.useEffect)(t,a),L[5]!==R||L[6]!==M||L[7]!==D?(l=()=>{R?.(),M&&D()},L[5]=R,L[6]=M,L[7]=D,L[8]=l):l=L[8];let Y=l,J=(0,f.useId)();L[9]!==G.hash||L[10]!==G.pathname||L[11]!==G.search?(x=e=>{let t=`/orgs/${encodeURIComponent(e)}/sso`,a=G.pathname+G.search+G.hash;return`${t}?return_to=${encodeURIComponent(a)}`},L[9]=G.hash,L[10]=G.pathname,L[11]=G.search,L[12]=x):x=L[12];let Z=x;L[13]!==Z||L[14]!==O||L[15]!==z?(_=()=>{if(0===z.length)return null;if(1===z.length){let e=z[0];return(0,n.jsxs)("a",{href:Z(e.login),className:E.ssoButton,children:[(0,n.jsx)(u.ShieldLockIcon,{size:16}),"Single sign-on"]})}return(0,n.jsxs)(m.W,{children:[(0,n.jsx)(m.W.Anchor,{children:(0,n.jsxs)("button",{className:E.ssoButton,children:[(0,n.jsx)(o.I,{icon:u.ShieldLockIcon,size:16}),(0,n.jsx)("div",{className:(0,h.$)(E.ssoContent,O&&E.condensed),children:"Single sign-on"})]})}),(0,n.jsx)(m.W.Overlay,{children:(0,n.jsx)(p.l,{children:z.map(e=>(0,n.jsx)(p.l.LinkItem,{href:Z(e.login),children:e.login},e.login))})})]})},L[13]=Z,L[14]=O,L[15]=z,L[16]=_):_=L[16];let ee=_;L[17]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)(X,{}),L[17]=v):v=L[17];let et=`${J}-quick-links`,ea=`${J}-quick-links`;L[18]!==ea?(b=(0,n.jsx)("h3",{id:ea,className:"sr-only",children:"Quick links"}),L[18]=ea,L[19]=b):b=L[19],L[20]!==Y||L[21]!==O||L[22]!==q?(j=q&&(0,n.jsx)($,{isSidebarCondensed:O,toggleFloatingSidebar:Y}),L[20]=Y,L[21]=O,L[22]=q,L[23]=j):j=L[23],L[24]!==j||L[25]!==et||L[26]!==b?(C=(0,n.jsxs)("nav",{"aria-labelledby":et,className:E.quicklinks,children:[b,j]}),L[24]=j,L[25]=et,L[26]=b,L[27]=C):C=L[27];let en=Q?null:W;return L[28]!==Y||L[29]!==O||L[30]!==en||L[31]!==U.state?(N=(0,n.jsx)(w,{selectedItemID:en,loadingState:U.state,onConversationSelect:Y,isSidebarCondensed:O}),L[28]=Y,L[29]=O,L[30]=en,L[31]=U.state,L[32]=N):N=L[32],L[33]!==C||L[34]!==N?(S=(0,n.jsxs)(c.t,{fallback:v,children:[C,N]}),L[33]=C,L[34]=N,L[35]=S):S=L[35],L[36]!==ee?(I=ee(),L[36]=ee,L[37]=I):I=L[37],L[38]!==O?(T=(0,n.jsx)(K,{isCondensed:O}),L[38]=O,L[39]=T):T=L[39],L[40]!==I||L[41]!==T?(k=(0,n.jsxs)("div",{className:E.footer,children:[I,T]}),L[40]=I,L[41]=T,L[42]=k):k=L[42],L[43]!==S||L[44]!==k?(A=(0,n.jsxs)(n.Fragment,{children:[S,k]}),L[43]=S,L[44]=k,L[45]=A):A=L[45],A}function X(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:E.blankslateContainer,children:(0,n.jsx)("div",{children:"Error loading conversations"})}),t[0]=e):e=t[0],e}try{Y.displayName||(Y.displayName="CopilotNavigationWithContext")}catch{}try{J.displayName||(J.displayName="CopilotNavigation")}catch{}try{X.displayName||(X.displayName="SidebarContentsFallback")}catch{}},63602:(e,t,a)=>{a.d(t,{k:()=>u});var n=a(74848),r=a(21728),i=a(34901),s=a(7479),o=a(15385),l=a(31971),c=a(74244),d=a(47397);function u(){let e,t,a,u,m,p=(0,r.c)(12),[h,f]=(0,c.iI)("getTracingRequestedFlag","setTracingRequestedFlag"),g=(0,d.b)(),{traceInfo:y}=(0,i.bP)("traceInfo");return(e=(0,s.X)(),l.W.requestTracing&&e)?(p[0]!==g||p[1]!==y?.roots?(t=y?.roots&&(0,n.jsx)(o.l.Item,{onSelect:()=>g.showTraceDisplay(!0),children:"Show Trace"}),p[0]=g,p[1]=y?.roots,p[2]=t):t=p[2],p[3]!==f||p[4]!==h?(a=()=>{f(!h)},p[3]=f,p[4]=h,p[5]=a):a=p[5],p[6]!==a||p[7]!==h?(u=(0,n.jsx)(o.l.Item,{onSelect:a,selected:h,children:"Request tracing"}),p[6]=a,p[7]=h,p[8]=u):u=p[8],p[9]!==t||p[10]!==u?(m=(0,n.jsxs)(o.l.Group,{selectionVariant:"multiple",children:[t,u]}),p[9]=t,p[10]=u,p[11]=m):m=p[11],m):null}try{u.displayName||(u.displayName="TracingMenuItems")}catch{}},33005:(e,t,a)=>{a.d(t,{BH:()=>A,xx:()=>P,tZ:()=>B});var n=a(74848),r=a(21728),i=a(34901),s=a(31971),o=a(58779),l=a(31075),c=a(23812),d=a(96540),u=a(84464),m=a(67621),p=a(99168),h=a(47397),f=a(22069),g=a(85351),y=a(46996);let x=["thread-scoped-file","draft-issue"],_=e=>!!e.isUserEdited,v=(e,t)=>e.size===t.size&&Array.from(e).every(([e,a])=>(0,y.A)(t.get(e),a)),b=(e,t)=>!v(new Map(e.filter(e=>x.includes(e.type)).map(e=>[(0,f.Vb)(e),e])),new Map(t.filter(e=>x.includes(e.type)).map(e=>[(0,f.Vb)(e),e]))),j=(e,t)=>!v(new Map(Array.from(e).filter(([,e])=>_(e))),new Map(Array.from(t).filter(([,e])=>_(e))));function C(e){return[e.id,e]}function N(e){return null!=e}function S(e){return[(0,f.Vb)(e),e]}function w(e){return null!=e}function I(e){return(0,p.g)(e)}let T=(0,d.createContext)(void 0),k=new Map,E=[];function A(e){let t,a,c,y,v,A,P,B,M,O,F,$,U,V,W,z=(0,r.c)(45),{children:H}=e,q=(0,o.AI)(!1),[G,K]=(0,d.useState)(k),[Q,Y]=(0,d.useState)(E),[J,X]=(0,d.useState)(E),[Z,ee]=(0,d.useState)(void 0),[et,ea,en]=(0,u.B)(!1),er=(0,l.S)((0,i.pn)(R)),ei=(0,i.pn)(L);z[0]!==q||z[1]!==er||z[2]!==ei?(t=()=>{er&&er!==ei&&(K(k),Y(E),ee(void 0),null===ei&&q.setValue(!1))},a=[ei,er,q],z[0]=q,z[1]=er,z[2]=ei,z[3]=t,z[4]=a):(t=z[3],a=z[4]),(0,d.useEffect)(t,a),z[5]===Symbol.for("react.memo_cache_sentinel")?(c=(e,t)=>{let a=void 0===t||t;Y(t=>{if(t.includes(e))return t;let a=(0,p.oy)(e),n=t.findIndex(e=>(0,p.oy)(e)===a),r=[...t];return -1===n?r.push(e):r.splice(n,1,e),r}),ee(t=>a||void 0===t||(0,p.oy)(t)===(0,p.oy)(e)?e:t)},z[5]=c):c=z[5];let es=c;z[6]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{K(t=>{let a=new Map(t);return a.set(e.id,e),a})},z[6]=y):y=z[6];let eo=y;z[7]!==Q||z[8]!==Z?(v=e=>{let t=Q.indexOf(e);if(-1===t)return;let a=Q.toSpliced(t,1);Z===e&&ee(a[t-1]??a[0]),Y(a)},z[7]=Q,z[8]=Z,z[9]=v):v=z[9];let el=(0,m.K)(v);z[10]!==Q||z[11]!==Z?(A=e=>{if(e){let t=Q;for(let a of e){let e=t.indexOf(a);-1!==e&&(t=t.toSpliced(e,1),Z===a&&ee(t[e-1]??t[0]))}Y(t)}else Y(E),ee(void 0)},z[10]=Q,z[11]=Z,z[12]=A):A=z[12];let ec=(0,m.K)(A);if(z[13]!==G){for(let[e,t]of(B=new Map,G)){let a=(0,p.oy)(e),n=B.get(a)??[];n.push(t.id),B.set(a,n)}for(let e of B.values())e.sort((e,t)=>{let a=G.get(e),n=G.get(t);return"timestamp"in a&&"timestamp"in n?a.timestamp.valueOf()-n.timestamp.valueOf():0});z[13]=G,z[14]=B}else B=z[14];P=B,z[15]!==el||z[16]!==Q||z[17]!==P?(M=e=>{if(e){for(let t of e)if(K(e=>{let a=new Map(e);return a.delete(t)?a:e}),Q.includes(t)){let e=(0,p.oy)(t),a=P.get(e),n=a?.indexOf(t)??-1,r=a?.[n-1];r?es(r,!1):el(t)}}else K(k),Y(E),ee(void 0)},z[15]=el,z[16]=Q,z[17]=P,z[18]=M):M=z[18];let ed=(0,m.K)(M);z[19]!==q.value||z[20]!==Q?(O=()=>q.value?Q:E,z[19]=q.value,z[20]=Q,z[21]=O):O=z[21];let eu=(0,m.K)(O);z[22]!==q?(F=()=>q.setValue(!0),z[22]=q,z[23]=F):F=z[23];let em=F;z[24]!==q?($=()=>q.setValue(!1),z[24]=q,z[25]=$):$=z[25];let ep=$;return z[26]!==el||z[27]!==ec||z[28]!==ep||z[29]!==en||z[30]!==ea||z[31]!==eu||z[32]!==q||z[33]!==G||z[34]!==Q||z[35]!==J||z[36]!==em||z[37]!==ed||z[38]!==Z||z[39]!==et||z[40]!==P?(V={items:G,versionedItems:P,isContentPreviewOpen:q,getOpenItems:eu,allOpenItems:Q,openItemsBeforeSubthreadChange:J,selectedItem:Z,updateItem:eo,setOpenItemsBeforeSubthreadChange:X,openItem:es,closeItem:el,closeItems:ec,openPreviewPane:em,closePreviewPane:ep,removeItems:ed,showLoadingState:et,enableLoadingState:ea,disableLoadingState:en},z[26]=el,z[27]=ec,z[28]=ep,z[29]=en,z[30]=ea,z[31]=eu,z[32]=q,z[33]=G,z[34]=Q,z[35]=J,z[36]=em,z[37]=ed,z[38]=Z,z[39]=et,z[40]=P,z[41]=V):V=z[41],D(U=V),!function(e){let t,a,n,o=(0,r.c)(10),{items:l,removeItems:c,updateItem:u}=e,{currentReferences:m,messages:y,selectedThreadID:v}=(0,i.Pk)(),T=(0,h.b)(),k=(0,d.useRef)(l),E=(0,d.useRef)(m);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.A)("sessionStorage"),o[0]=t):t=o[0];let A=t;o[1]!==m||o[2]!==l||o[3]!==T||o[4]!==y.length||o[5]!==c||o[6]!==v||o[7]!==u?(a=()=>{let e=j(k.current,l);k.current=l;let t=b(E.current,m);if(E.current=m,e){let e=new Map(Array.from(l.values()).filter(_).map(I).filter(w).map(S)),t=new Set;for(let a of m)if(x.includes(a.type)){let n=(0,f.Vb)(a);t.add(n);let r=e.get(n);r?b([r],[a])&&T.addReference(r,"content-preview"):T.removeReference(a)}for(let[a,n]of e)t.has(a)||T.addReference(n,"content-preview")}else if(t){let e=new Map(m.map(e=>(0,p.oR)({ref:e,messageIndex:y.length})).filter(N).map(C)),t=new Set;for(let[a,n]of l)if(_(n)){t.add(a);let r=e.get(a);null!=r?j(new Map([[r.id,r]]),new Map([[n.id,n]]))&&u(r):(c([a]),s.W.copilotPersistEditedDraftIssues&&A.removeItem(`edited-${v}-${a}`))}for(let[a,n]of e)t.has(a)||u(n)}},n=[l,T,m,y.length,c,u,A,v],o[1]=m,o[2]=l,o[3]=T,o[4]=y.length,o[5]=c,o[6]=v,o[7]=u,o[8]=a,o[9]=n):(a=o[8],n=o[9]),(0,d.useEffect)(a,n)}(U),z[42]!==H||z[43]!==U?(W=(0,n.jsx)(T.Provider,{value:U,children:H}),z[42]=H,z[43]=U,z[44]=W):W=z[44],W}function L(e){return e.selectedThreadID}function R(e){return e.selectedThreadID}let D=e=>{let t,a,n,o=(0,r.c)(8),{updateItem:l}=e,{messagesLoading:u,selectedThreadID:m}=(0,i.Pk)(),p=`edited-${m}`;if(s.W.copilotPersistEditedDraftIssues){let e;o[0]!==p?(e=(0,c.MV)(p),o[0]=p,o[1]=e):e=o[1],t=e}else{let e;o[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],o[2]=e):e=o[2],t=e}let h=t;o[3]!==h||o[4]!==u.state||o[5]!==l?(a=()=>{if(h&&"loaded"===u.state)for(let e of h)l(e)},n=[h,l,u.state],o[3]=h,o[4]=u.state,o[5]=l,o[6]=a,o[7]=n):(a=o[6],n=o[7]),(0,d.useEffect)(a,n)};function P(){let e=(0,d.useContext)(T);if(!e)throw Error("useContentPreview must be used within ContentPreviewContextProvider");return e}function B(){let e=(0,d.useContext)(T);if(!e)throw Error("useContentPreviewOpen must be used within ContentPreviewContextProvider");return(0,o.HN)(e.isContentPreviewOpen)}try{T.displayName||(T.displayName="ContentPreviewContext")}catch{}try{A.displayName||(A.displayName="ContentPreviewProvider")}catch{}},94412:(e,t,a)=>{a.d(t,{T:()=>p});var n=a(74848),r=a(21728),i=a(10569),s=a(87330),o=a(15385),l=a(53526),c=a(96540),d=a(38621),u=a(57915),m=a(38007);function p(e){let t,a,p,h,f,g,y,x,_,v,b,j,C,N,S=(0,r.c)(36),{onDelete:w,onCopyLoop:I,onDuplicate:T,onShare:k,loopId:E,variant:A}=e,L=void 0===A?"invisible":A,[R,D]=(0,c.useState)(null),P=(0,c.useRef)(null),{mutate:B,isPending:M}=(0,u.h)();S[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{D("delete")},S[0]=t):t=S[0];let O=t;S[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{D(null)},S[1]=a):a=S[1];let F=a;S[2]!==B||S[3]!==E||S[4]!==w?(p=async()=>{E&&(D(null),B(E,{onSuccess:w}),w?.())},S[2]=B,S[3]=E,S[4]=w,S[5]=p):p=S[5];let $=p;S[6]!==E||S[7]!==T?(h=()=>{E&&T&&((0,m.BI)("dotcom_chat.activate",{target:"LOOP_DUPLICATE",mode:"loops"}),T(E))},S[6]=E,S[7]=T,S[8]=h):h=S[8];let U=h;S[9]!==k?(f=()=>{k?.()},S[9]=k,S[10]=f):f=S[10];let V=f;return E?(S[11]!==M||S[12]!==L?(g=(0,n.jsx)(i.W.Anchor,{children:(0,n.jsx)(s.K,{loading:M,icon:d.KebabHorizontalIcon,"aria-label":"Manage loop",variant:L})}),S[11]=M,S[12]=L,S[13]=g):g=S[13],S[14]!==U||S[15]!==T?(y=T&&(0,n.jsxs)(o.l.Item,{onSelect:U,children:[(0,n.jsx)(o.l.LeadingVisual,{children:(0,n.jsx)(d.DuplicateIcon,{})}),"Duplicate"]}),S[14]=U,S[15]=T,S[16]=y):y=S[16],S[17]!==V||S[18]!==k?(x=k&&(0,n.jsxs)(o.l.Item,{onSelect:V,children:[(0,n.jsx)(o.l.LeadingVisual,{children:(0,n.jsx)(d.LinkIcon,{})}),"Copy link"]}),S[17]=V,S[18]=k,S[19]=x):x=S[19],S[20]===Symbol.for("react.memo_cache_sentinel")?(_=(0,n.jsxs)(o.l.Item,{variant:"danger",onSelect:O,children:[(0,n.jsx)(o.l.LeadingVisual,{children:(0,n.jsx)(d.TrashIcon,{})}),"Delete"]}),S[20]=_):_=S[20],S[21]!==I?(v=I&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.l.Divider,{}),(0,n.jsxs)(o.l.Item,{onSelect:I,children:[(0,n.jsx)(o.l.LeadingVisual,{children:(0,n.jsx)(d.CopyIcon,{})}),"Copy JSON"]})]}),S[21]=I,S[22]=v):v=S[22],S[23]!==v||S[24]!==y||S[25]!==x?(b=(0,n.jsx)(i.W.Overlay,{align:"end",children:(0,n.jsxs)(o.l,{children:[y,x,_,v]})}),S[23]=v,S[24]=y,S[25]=x,S[26]=b):b=S[26],S[27]!==b||S[28]!==g?(j=(0,n.jsxs)(i.W,{anchorRef:P,children:[g,b]}),S[27]=b,S[28]=g,S[29]=j):j=S[29],S[30]!==$||S[31]!==R?(C="delete"===R&&(0,n.jsx)(l.K,{title:"Delete loop",onClose:e=>{"confirm"===e?$():F()},confirmButtonContent:"Delete",confirmButtonType:"danger",children:"Are you sure you want to delete this loop? This action cannot be undone."}),S[30]=$,S[31]=R,S[32]=C):C=S[32],S[33]!==j||S[34]!==C?(N=(0,n.jsxs)(n.Fragment,{children:[j,C]}),S[33]=j,S[34]=C,S[35]=N):N=S[35],N):null}try{p.displayName||(p.displayName="LoopsActionMenu")}catch{}},5204:(e,t,a)=>{a.d(t,{Ak:()=>o,EY:()=>s,qT:()=>i});var n=a(96540);let r=(0,n.createContext)(null),i=r.Provider;function s(){let e=(0,n.useContext)(r);if(!e)throw Error("useLoopsService must be used inside a LoopsServiceProvider");return e}function o(){return(0,n.useContext)(r)}try{r.displayName||(r.displayName="LoopsServiceContext")}catch{}},89787:(e,t,a)=>{a.d(t,{Mr:()=>g,NY:()=>x,Ud:()=>y});var n=a(74848),r=a(11303),i=a(96540),s=a(58779),o=a(17515),l=a(47912),c=a(21728),d=a(26807),u=a(5160);function m(e,t){switch(t.type){case"FOCUS_NODE":return{...e,focusedNodeId:t.nodeId};case"HOVER_NODE":return{...e,hoveredNodeId:t.nodeId};case"SET_VIEW":return{...e,view:t.view};case"SET_SIDE_PANEL_VIEW":return{...e,sidePanelView:t.view};case"SET_VERSION":return{...e,version:t.version};case"SET_STATE":return{...e,...t.state};default:return e}}var p=a(66871);let h=(0,i.createContext)(new r.Lj(l.qB)),f=(0,i.createContext)(()=>{});function g({children:e}){let[t,a]=function(){let e,t,a,n,r=(0,c.c)(8),[s]=(0,d.o)();r[0]!==s?(e=(0,u.hW)(s),r[0]=s,r[1]=e):e=r[1];let[o,l]=(0,i.useReducer)(m,e);return r[2]!==s||r[3]!==o?(t=()=>{let e=(0,u.Ts)(o);e.toString()!==s.toString()&&(0,p.MM)(e)},a=[o,s],r[2]=s,r[3]=o,r[4]=t,r[5]=a):(t=r[4],a=r[5]),(0,i.useEffect)(t,a),r[6]!==o?(n=[o,l],r[6]=o,r[7]=n):n=r[7],n}(),r=(0,s.AI)(t);(0,o.N)(()=>{r.value=t},[t,r]);let l=(0,i.useCallback)(e=>{a(e)},[a]);return(0,n.jsx)(h.Provider,{value:r,children:(0,n.jsx)(f.Provider,{value:l,children:e})})}function y(e){let t=(0,i.useContext)(h);if(!t)throw Error("useLoopsStateLens can only be used inside a PipesProvider");let a=(0,s.Sk)(t,e);return(0,s.HN)(a)}function x(){return(0,i.useContext)(f)}try{h.displayName||(h.displayName="LoopsStateContext")}catch{}try{f.displayName||(f.displayName="LoopsDispatchContext")}catch{}try{g.displayName||(g.displayName="LoopsStateProvider")}catch{}},93955:(e,t,a)=>{a.d(t,{Q:()=>o,i:()=>l});var n=a(74848),r=a(21728),i=a(96540);let s=i.createContext(void 0);function o(e){let t,a=(0,r.c)(3),{user:i,children:o}=e;return a[0]!==o||a[1]!==i?(t=(0,n.jsxs)(s.Provider,{value:i,children:[" ",o," "]}),a[0]=o,a[1]=i,a[2]=t):t=a[2],t}function l(){return i.useContext(s)}try{s.displayName||(s.displayName="CurrentUserContext")}catch{}try{o.displayName||(o.displayName="CurrentUserProvider")}catch{}},23985:(e,t,a)=>{a.d(t,{B:()=>f});var n=a(74848),r=a(31971),i=a(38007),s=a(38621),o=a(91321),l=a(10871),c=a(10569),d=a(87330),u=a(15385);let m={actions:"EditorMenu-module__actions--AddF7",editorButton:"EditorMenu-module__editorButton--_thrU"};var p=a(33036),h=a(88245);function f({menuLocation:e,mode:t,onButtonClick:a}){let f=(a,n)=>{r.W.freeToPaidTelemetry?(0,p.F)({eventName:a,menuLocation:e,mode:t,action:n}):(0,i.BI)("dotcom_chat.activate",{target:`EDITOR_UPSELL_BANNER_${a.toUpperCase()}`,mode:t})};return(0,n.jsxs)(o.A,{className:m.actions,children:[(0,n.jsx)(l.z,{className:m.editorButton,href:h.A.vscode.url,leadingVisual:(0,n.jsx)("img",{src:h.A.vscode.icon,alt:"",height:"20",width:"20"}),onClick:()=>{a?.(),f("vscode","ide_menu_primary_button_click")},children:h.A.vscode.name}),(0,n.jsxs)(c.W,{children:[(0,n.jsx)(c.W.Anchor,{children:(0,n.jsx)(d.K,{"aria-label":"More editors",icon:s.TriangleDownIcon,unsafeDisableTooltip:!0,onClick:()=>{f("menu","ide_menu_open")},"data-testid":"editor-dropdown-button"})}),(0,n.jsx)(c.W.Overlay,{align:"end",children:(0,n.jsx)(u.l,{children:(0,n.jsx)(p.t,{menuLocation:e,mode:t,onItemClick:a})})})]})]})}try{f.displayName||(f.displayName="EditorMenu")}catch{}},3607:(e,t,a)=>{a.d(t,{Y0:()=>T,$I:()=>w});var n=a(74848),r=a(21728),i=a(96540),s=a(55847),o=a(10569),l=a(15385),c=a(38911),d=a(38621),u=a(39459),m=a(85788),p=a(8367),h=a(27851),f=a(40319),g=a(7479),y=a(75367);let x={bannerOuterWrapper:"GlobalSSOBanner-module__bannerOuterWrapper--gIJGf",bannerInnerWrapper:"GlobalSSOBanner-module__bannerInnerWrapper--EKrn4",banner:"GlobalSSOBanner-module__banner--HjESa"};function _({children:e,hidden:t}){let[a,r]=i.useState("visible"),s=i.useRef(null),o=i.useRef(void 0);return(i.useEffect(()=>{if(t&&"visible"===a){r("collapsing");let e=s.current;if(e){let t=e.getBoundingClientRect().height;o.current=t,e.style.height=`${t}px`}}else if("collapsing"===a){let e=setTimeout(()=>{r("hidden")},300);return()=>{clearTimeout(e)}}},[t,a]),"hidden"===a)?null:(0,n.jsx)("div",{ref:s,style:{height:"visible"===a?o.current??"auto":0},className:x.bannerOuterWrapper,children:(0,n.jsx)("div",{className:x.bannerInnerWrapper,style:{transform:"visible"===a?void 0:`translateY(-${o.current??0}px)`},children:e})})}try{300..displayName||(300..displayName="ANIMATION_DURATION")}catch{}try{_.displayName||(_.displayName="SlideDismiss")}catch{}var v=a(64262);let b="dismissed_sso_orgs",j="global_sso_banner";function C(e){return"object"==typeof e&&null!==e&&"id"in e&&"name"in e&&"login"in e}function N(e,t){let a=`/orgs/${encodeURIComponent(e)}/sso`,n=t.pathname+t.search+t.hash;return`${a}?return_to=${encodeURIComponent(n)}`}function S(e){let t,a,i,c,d,m=(0,r.c)(20),{ssoOrgs:p,redirectLocation:h}=e,{sendClickAnalyticsEvent:f}=(0,y.S)();if(0===p.length)return null;m[0]!==f?(t=()=>{f({category:j,action:"click_single_sso_button",label:"sso_authentication"})},m[0]=f,m[1]=t):t=m[1];let g=t;m[2]!==f?(a=e=>{f({category:j,action:"click_sso_dropdown_item",label:`org:${e}`})},m[2]=f,m[3]=a):a=m[3];let x=a;if(1===p.length){let e,t,a=p[0];return void 0===a?null:(m[4]!==a.login||m[5]!==h?(e=N(a.login,h),m[4]=a.login,m[5]=h,m[6]=e):e=m[6],m[7]!==g||m[8]!==e?(t=(0,n.jsx)(s.Q,{as:"a",href:e,onClick:g,children:"Single sign-on"}),m[7]=g,m[8]=e,m[9]=t):t=m[9],t)}if(m[10]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(o.W.Button,{size:"small",children:"Single sign-on"}),m[10]=i):i=m[10],m[11]!==x||m[12]!==h||m[13]!==p){let e;m[15]!==x||m[16]!==h?(e=e=>(0,n.jsxs)(l.l.LinkItem,{href:N(e.login,h),onClick:()=>x(e.name),children:[e.avatar_url&&(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(u.r,{size:24,src:e.avatar_url})}),e.name]},e.login),m[15]=x,m[16]=h,m[17]=e):e=m[17],c=p.map(e),m[11]=x,m[12]=h,m[13]=p,m[14]=c}else c=m[14];return m[18]!==c?(d=(0,n.jsxs)(o.W,{children:[i,(0,n.jsx)(o.W.Overlay,{children:(0,n.jsx)(l.l,{children:c})})]}),m[18]=c,m[19]=d):d=m[19],d}function w(e){let t,a,s,o,l,u,f,v,C,N=(0,r.c)(22),{ssoOrgs:w}=e,T=(0,m.zy)(),[k,E]=i.useState("visible"),A=i.useRef(!1),{sendClickAnalyticsEvent:L}=(0,y.S)();if(N[0]!==w.length?(t=()=>{!A.current&&w.length>0&&((0,h.G7)("record_sso_banner_metrics")&&(0,g.i)({incrementKey:"GLOBAL_SSO_BANNER_DISPLAYED",requestUrl:window.location.href}),A.current=!0)},N[0]=w.length,N[1]=t):t=N[1],N[2]!==w?(a=[w],N[2]=w,N[3]=a):a=N[3],i.useEffect(t,a),0===w.length)return null;N[4]!==L||N[5]!==w?(s=()=>{L({category:j,action:"click_dismiss_button",label:"banner_dismissed"}),E("hidden");let e=w.map(e=>e.id).sort(),t=new Date(Date.now()+2592e6).toUTCString();(0,p.Yj)(b),(0,p.TV)(b,JSON.stringify(e),t)},N[4]=L,N[5]=w,N[6]=s):s=N[6];let R=s;N[7]!==w?(o=()=>{if(0===w.length)return"Single sign-on to see results";let e=w.slice(0,3),t=w.length-3,a=1===w.length?"organization":"organizations";return(0,n.jsxs)(n.Fragment,{children:["Single sign-on to see results in the ",(()=>{let a=e.map(I);if(1===a.length)return a[0];{if(2===a.length)return(0,n.jsxs)(n.Fragment,{children:[a[0]," and ",a[1]]});let e=a.length-1,r=(0,n.jsxs)(n.Fragment,{children:[a[0],", ",a[1],", and ",a[e]]});return t>0?(0,n.jsxs)(n.Fragment,{children:[r,", and ",t," more"]}):r}})()," ",a]})},N[7]=w,N[8]=o):o=N[8];let D=o,P="visible"!==k;return N[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n.jsx)(d.ShieldLockIcon,{}),N[9]=l):l=N[9],N[10]!==D?(u=D(),N[10]=D,N[11]=u):u=N[11],N[12]!==T||N[13]!==w?(f=(0,n.jsx)(S,{ssoOrgs:w,redirectLocation:T}),N[12]=T,N[13]=w,N[14]=f):f=N[14],N[15]!==R||N[16]!==u||N[17]!==f?(v=(0,n.jsx)(c.l,{title:"Single-sign on",className:x.banner,hideTitle:!0,icon:l,description:u,onDismiss:R,primaryAction:f,"data-testid":"global-sso-banner"}),N[15]=R,N[16]=u,N[17]=f,N[18]=v):v=N[18],N[19]!==P||N[20]!==v?(C=(0,n.jsx)(_,{hidden:P,children:v}),N[19]=P,N[20]=v,N[21]=C):C=N[21],C}function I(e){return(0,n.jsx)("strong",{children:e.name},e.login)}function T(){let e,t=(0,r.c)(2),{ssoOrgs:a,suppressBanner:s}=function(){let{ssoOrgs:e,baseAvatarUrl:t}=(0,f.N)(),{current_sso_orgs_match_dismissed_cookie:a}=(0,v.X)()??{},n=i.useMemo(()=>e.filter(C).map(e=>({...e,avatar_url:`${t}/u/${e.id}`})),[e,t]);return{suppressBanner:!0===a||function(e){let t=function(){let e=(0,p.Ri)(b);if(e?.value)try{let t=JSON.parse(e.value);return Array.isArray(t)?t:[]}catch(e){(0,p.Yj)(b)}return[]}();return e.length===t.length&&e.every(e=>t.includes(e.id))}(n),ssoOrgs:n,baseAvatarUrl:t}}();return 0===a.length||!(0,h.G7)("global_sso_banner")||s?null:(t[0]!==a?(e=(0,n.jsx)(w,{ssoOrgs:a}),t[0]=a,t[1]=e):e=t[1],e)}try{S.displayName||(S.displayName="SSOActionMenu")}catch{}try{w.displayName||(w.displayName="GlobalSsoBanner")}catch{}try{T.displayName||(T.displayName="ContextualGlobalSsoBanner")}catch{}},66839:(e,t,a)=>{a.d(t,{B:()=>m});var n=a(74848),r=a(21728),i=a(96540),s=a(85788),o=a(55847),l=a(10569),c=a(15385);let d={container:"Breadcrumbs-module__container--YKNHG",list:"Breadcrumbs-module__list--TnuV6",item:"Breadcrumbs-module__item--_vfSo",link:"Breadcrumbs-module__link--mbjKG",text:"Breadcrumbs-module__text--GhYWN",icon:"Breadcrumbs-module__icon--_xcXd",condensed:"Breadcrumbs-module__condensed--KZIuk",condensedList:"Breadcrumbs-module__condensedList--T81hu",alwaysVisible:"Breadcrumbs-module__alwaysVisible--fSIsP",fullList:"Breadcrumbs-module__fullList--soXW5"};var u=a(38621);let m=e=>{let t,a,s,u,m,y=(0,r.c)(31),{children:x,"aria-label":_,condensed:v}=e,b=void 0===_?"Breadcrumbs":_;if(y[0]!==x){t=[];let e=(a,n)=>{let r=void 0===n?"":n;for(let[n,s]of i.Children.toArray(a).entries())(0,i.isValidElement)(s)&&(s.type===i.Fragment||"Symbol(react.fragment)"===s.type.toString()?e(s.props.children,`${r}fragment-${n}-`):s.type===p?t.push({key:s.key?.toString()||`${r}item-${n}`,href:s.props.href,children:s.props.children,hasMenu:!1}):s.type===h&&t.push({key:s.key?.toString()||`${r}item-${n}`,children:s.props.children,hasMenu:!0,menuOverlay:s.props.menuOverlay}))};e(x),y[0]=x,y[1]=t}else t=y[1];let j=t[t.length-1];y[2]!==t?(a=t.slice(0,-1),y[2]=t,y[3]=a):a=y[3];let C=a,N=t.length>=3,S=void 0!==v&&v&&N,w=i.useRef(null);if(void 0!==v)if(S){let e,t,a,r,i;return y[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.Q,{ref:w,className:d.link,children:"..."}),y[4]=e):e=y[4],y[5]!==C?(t=(0,n.jsx)("li",{className:d.item,children:(0,n.jsxs)(l.W,{children:[e,(0,n.jsx)(l.W.Overlay,{children:(0,n.jsx)(c.l,{children:C.map(f)})})]})}),y[5]=C,y[6]=t):t=y[6],y[7]!==j?(a=j&&(j.hasMenu&&j.menuOverlay?(0,n.jsx)(h,{menuOverlay:j.menuOverlay,children:j.children}):j.href?(0,n.jsx)(p,{href:j.href,children:j.children}):null),y[7]=j,y[8]=a):a=y[8],y[9]!==t||y[10]!==a?(r=(0,n.jsxs)("ol",{className:d.list,children:[t,a]}),y[9]=t,y[10]=a,y[11]=r):r=y[11],y[12]!==b||y[13]!==r?(i=(0,n.jsx)("nav",{className:`${d.container} ${d.condensed}`,"aria-label":b,children:r}),y[12]=b,y[13]=r,y[14]=i):i=y[14],i}else{let e,t;return y[15]!==x?(e=(0,n.jsx)("ol",{className:d.list,children:x}),y[15]=x,y[16]=e):e=y[16],y[17]!==b||y[18]!==e?(t=(0,n.jsx)("nav",{className:d.container,"aria-label":b,children:e}),y[17]=b,y[18]=e,y[19]=t):t=y[19],t}let I=`${d.list} ${N?d.fullList:d.alwaysVisible}`;return y[20]!==x||y[21]!==I?(s=(0,n.jsx)("ol",{className:I,children:x}),y[20]=x,y[21]=I,y[22]=s):s=y[22],y[23]!==N||y[24]!==j||y[25]!==C?(u=N&&(0,n.jsxs)("ol",{className:`${d.list} ${d.condensedList}`,children:[(0,n.jsx)("li",{className:d.item,children:(0,n.jsxs)(l.W,{children:[(0,n.jsx)(o.Q,{ref:w,className:d.link,children:"..."}),(0,n.jsx)(l.W.Overlay,{children:(0,n.jsx)(c.l,{children:C.map(g)})})]})}),j&&(j.hasMenu&&j.menuOverlay?(0,n.jsx)(h,{menuOverlay:j.menuOverlay,children:j.children}):j.href?(0,n.jsx)(p,{href:j.href,children:j.children}):null)]}),y[23]=N,y[24]=j,y[25]=C,y[26]=u):u=y[26],y[27]!==b||y[28]!==s||y[29]!==u?(m=(0,n.jsxs)("nav",{className:d.container,"aria-label":b,children:[s,u]}),y[27]=b,y[28]=s,y[29]=u,y[30]=m):m=y[30],m},p=e=>{let t,a,i,o,l,c=(0,r.c)(10);return c[0]!==e?({href:a,children:t,...i}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=i):(t=c[1],a=c[2],i=c[3]),c[4]!==t?(o=(0,n.jsx)("span",{className:d.text,children:t}),c[4]=t,c[5]=o):o=c[5],c[6]!==a||c[7]!==i||c[8]!==o?(l=(0,n.jsx)("li",{className:d.item,children:(0,n.jsx)(s.N_,{...i,to:a,className:d.link,"aria-current":"page",children:o})}),c[6]=a,c[7]=i,c[8]=o,c[9]=l):l=c[9],l},h=e=>{let t,a,i,s,o=(0,r.c)(8),{children:c,menuOverlay:m}=e;return o[0]!==c?(t=(0,n.jsx)("span",{className:d.text,children:c}),o[0]=c,o[1]=t):t=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)("span",{className:d.icon,children:(0,n.jsx)(u.TriangleDownIcon,{})}),o[2]=a):a=o[2],o[3]!==t?(i=(0,n.jsx)(l.W.Anchor,{children:(0,n.jsxs)("button",{className:d.link,"aria-current":"page","aria-haspopup":"true",children:[t,a]})}),o[3]=t,o[4]=i):i=o[4],o[5]!==m||o[6]!==i?(s=(0,n.jsx)("li",{className:d.item,children:(0,n.jsxs)(l.W,{children:[i,m]})}),o[5]=m,o[6]=i,o[7]=s):s=o[7],s};m.Item=p,m.ItemWithMenu=h;try{m.displayName||(m.displayName="Breadcrumbs")}catch{}try{p.displayName||(p.displayName="Item")}catch{}try{h.displayName||(h.displayName="ItemWithMenu")}catch{}function f(e){return(0,n.jsx)(c.l.LinkItem,{href:e.href,children:e.children},e.key)}function g(e){return(0,n.jsx)(c.l.LinkItem,{href:e.href,children:e.children},e.key)}},17632:(e,t,a)=>{a.d(t,{$:()=>l});var n=a(74848),r=a(21728),i=a(34164),s=a(96540);let o={button:"Button-module__button--oN3h4",small:"Button-module__small--qotqc",medium:"Button-module__medium--pecoT",condensed:"Button-module__condensed--zi3wB",iconOnly:"Button-module__iconOnly--PqsOb",default:"Button-module__default--chSnG",disabled:"Button-module__disabled--Ln5Cr",invisible:"Button-module__invisible--CwIoP",icon:"Button-module__icon--Hjqau",text:"Button-module__text--yk7xW"},l=(0,s.forwardRef)((e,t)=>{let a,s,l,c,d,u,m,p,h,f,g,y,x,_,v,b,j,C=(0,r.c)(51);C[0]!==e?({size:u,variant:m,condensed:p,iconOnly:h,icon:c,className:s,children:a,disabled:l,...d}=e,C[0]=e,C[1]=a,C[2]=s,C[3]=l,C[4]=c,C[5]=d,C[6]=u,C[7]=m,C[8]=p,C[9]=h):(a=C[1],s=C[2],l=C[3],c=C[4],d=C[5],u=C[6],m=C[7],p=C[8],h=C[9]);let N=void 0===m?"default":m,S=void 0!==p&&p,w=void 0!==h&&h,I=o[void 0===u?"small":u],T=o[N],k=S&&o.condensed,E=w&&o.iconOnly,A=l&&o.disabled;C[10]!==s||C[11]!==I||C[12]!==T||C[13]!==k||C[14]!==E||C[15]!==A?(f=(0,i.$)(o.button,I,T,k,E,A,s),C[10]=s,C[11]=I,C[12]=T,C[13]=k,C[14]=E,C[15]=A,C[16]=f):f=C[16];let L=f;C[17]!==c?(g=null!=c?(0,n.jsx)("span",{className:o.icon,children:c}):null,C[17]=c,C[18]=g):g=C[18],C[19]!==a||C[20]!==w?(y=!w&&a?(0,n.jsx)("span",{className:o.text,children:a}):null,C[19]=a,C[20]=w,C[21]=y):y=C[21],C[22]!==g||C[23]!==y?(x=(0,n.jsxs)(n.Fragment,{children:[g,y]}),C[22]=g,C[23]=y,C[24]=x):x=C[24];let R=x;if("href"in d){let e,a,r,i,s;return C[25]!==d?({href:e,target:i,rel:a,...r}=d,C[25]=d,C[26]=e,C[27]=a,C[28]=r,C[29]=i):(e=C[26],a=C[27],r=C[28],i=C[29]),C[30]!==L||C[31]!==R||C[32]!==l||C[33]!==e||C[34]!==a||C[35]!==r||C[36]!==t||C[37]!==i?(s=(0,n.jsx)("a",{ref:t,href:e,target:i,rel:a,className:L,"aria-disabled":l,...r,children:R}),C[30]=L,C[31]=R,C[32]=l,C[33]=e,C[34]=a,C[35]=r,C[36]=t,C[37]=i,C[38]=s):s=C[38],s}C[39]!==d?({onClick:_,type:b,...v}=d,C[39]=d,C[40]=_,C[41]=v,C[42]=b):(_=C[40],v=C[41],b=C[42]);let D=void 0===b?"button":b;return C[43]!==L||C[44]!==R||C[45]!==l||C[46]!==_||C[47]!==v||C[48]!==t||C[49]!==D?(j=(0,n.jsx)("button",{ref:t,type:D,onClick:_,disabled:l,className:L,...v,children:R}),C[43]=L,C[44]=R,C[45]=l,C[46]=_,C[47]=v,C[48]=t,C[49]=D,C[50]=j):j=C[50],j});l.displayName="Button"},82563:(e,t,a)=>{a.d(t,{P:()=>A});var n=a(74848),r=a(21728),i=a(34164),s=a(96540),o=a(24021),l=a(27851),c=a(3607);let d={container:"Layout-module__container--wWrV1",banner:"Layout-module__banner--k1Rlk",sidebar:"Layout-module__sidebar--VKjtn",mainColumn:"Layout-module__mainColumn--yKV1L",secondaryColumn:"Layout-module__secondaryColumn--AHY2h",monoView:"Layout-module__monoView--g8BmP",sidebarCondensed:"Layout-module__sidebarCondensed--NQ81Q",panelView:"Layout-module__panelView--IFDHJ",columnLeft:"Layout-module__columnLeft--cNsfU",secondaryColumnVisible:"Layout-module__secondaryColumnVisible--A6B6v",splitView:"Layout-module__splitView--QyzVT",columnRight:"Layout-module__columnRight--YsLHy",mainColumnRight:"Layout-module__mainColumnRight--sNFeT"},u={header:"Header-module__header--pNLJD",columnHeader:"Header-module__columnHeader--Zh34u",sidebarToggleButton:"Header-module__sidebarToggleButton--e8Aaq",column:"Header-module__column--GYJF6",leftColumn:"Header-module__leftColumn--DcQb_",rightColumn:"Header-module__rightColumn--GMw7Z"};var m=a(38621),p=a(23986),h=a(17632);function f(){let e,t,a=(0,r.c)(3),{toggleSidebar:i}=(0,p.L)();return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(m.ThreeBarsIcon,{}),a[0]=e):e=a[0],a[1]!==i?(t=(0,n.jsx)("div",{className:u.sidebarToggleButton,children:(0,n.jsx)(h.$,{icon:e,iconOnly:!0,onClick:i,"aria-label":"Toggle sidebar"})}),a[1]=i,a[2]=t):t=a[2],t}function g(e){let t,a,s,o,l,c=(0,r.c)(10);return c[0]!==e?({children:t,className:a,...s}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=s):(t=c[1],a=c[2],s=c[3]),c[4]!==a?(o=(0,i.$)(u.column,u.leftColumn,a),c[4]=a,c[5]=o):o=c[5],c[6]!==t||c[7]!==s||c[8]!==o?(l=(0,n.jsx)("div",{className:o,...s,children:t}),c[6]=t,c[7]=s,c[8]=o,c[9]=l):l=c[9],l}function y(e){let t,a,s,o,l,c=(0,r.c)(10);return c[0]!==e?({children:t,className:a,...s}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=s):(t=c[1],a=c[2],s=c[3]),c[4]!==a?(o=(0,i.$)(u.column,u.rightColumn,a),c[4]=a,c[5]=o):o=c[5],c[6]!==t||c[7]!==s||c[8]!==o?(l=(0,n.jsx)("div",{className:o,...s,children:t}),c[6]=t,c[7]=s,c[8]=o,c[9]=l):l=c[9],l}function x(e){let t,a,s,l,c,d,m,p=(0,r.c)(20);p[0]!==e?({children:t,className:a,...s}=e,p[0]=e,p[1]=t,p[2]=a,p[3]=s):(t=p[1],a=p[2],s=p[3]),p[4]===Symbol.for("react.memo_cache_sentinel")?(l={leftColumn:g,rightColumn:y},p[4]=l):l=p[4];let[h]=(0,o.H)(t,l);if(h.leftColumn&&h.rightColumn){let e,t,r;return p[5]!==a?(e=(0,i.$)(u.columnHeader,a),p[5]=a,p[6]=e):e=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(f,{}),p[7]=t):t=p[7],p[8]!==s||p[9]!==h.leftColumn||p[10]!==h.rightColumn||p[11]!==e?(r=(0,n.jsxs)("header",{className:e,...s,children:[t,h.leftColumn,h.rightColumn]}),p[8]=s,p[9]=h.leftColumn,p[10]=h.rightColumn,p[11]=e,p[12]=r):r=p[12],r}return p[13]!==a?(c=(0,i.$)(u.header,a),p[13]=a,p[14]=c):c=p[14],p[15]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(f,{}),p[15]=d):d=p[15],p[16]!==t||p[17]!==s||p[18]!==c?(m=(0,n.jsxs)("header",{className:c,...s,children:[d,t]}),p[16]=t,p[17]=s,p[18]=c,p[19]=m):m=p[19],m}try{f.displayName||(f.displayName="SidebarToggle")}catch{}try{g.displayName||(g.displayName="HeaderLeft")}catch{}try{y.displayName||(y.displayName="HeaderRight")}catch{}try{x.displayName||(x.displayName="Header")}catch{}let _={container:"Sidebar-module__container--Wtiix",header:"Sidebar-module__header--xPCkT",sidebar:"Sidebar-module__sidebar--JqNqi",toggleSidebarFloating:"Sidebar-module__toggleSidebarFloating--DAm2o",toggleSidebarVertical:"Sidebar-module__toggleSidebarVertical--odMrI",githubLogo:"Sidebar-module__githubLogo--nHuic",visible:"Sidebar-module__visible--k1p47",iconLineTop:"Sidebar-module__iconLineTop--Jnxra",iconLineBottom:"Sidebar-module__iconLineBottom--BspWM",condensed:"Sidebar-module__condensed--sIHa_"};var v=a(81425),b=a(10594);function j(e){let t,a,o,l,c,d,u,p,f,g,y,x,j,C=(0,r.c)(42),{children:N,className:S,isFloating:w,isVisible:I,isExpanded:T,sidebarRef:k,onToggle:E,"data-testid":A}=e,L=!T,R=(0,v.L)(k);C[0]!==L||C[1]!==T||C[2]!==E||C[3]!==R?(t=e=>{R.current?.contains(e.target)&&!e.target.closest('a, button, [role="button"], [role="link"], [role="menuitem"], [role="menuitemcheckbox"], [role="dialog"]')&&(L||T)&&E()},C[0]=L,C[1]=T,C[2]=E,C[3]=R,C[4]=t):t=C[4];let D=t,P=(0,s.useId)();C[5]!==I?(a=()=>I?(0,n.jsx)(m.XIcon,{}):(0,n.jsx)(m.ThreeBarsIcon,{}),C[5]=I,C[6]=a):a=C[6];let B=a,M=`${P}-copilot-navigation`;C[7]!==S||C[8]!==L||C[9]!==I?(o=(0,i.$)(_.container,S,{[_.visible]:I,[_.condensed]:L}),C[7]=S,C[8]=L,C[9]=I,C[10]=o):o=C[10];let O=w?void 0:D,F=`${P}-copilot-navigation`;C[11]!==F?(l=(0,n.jsx)("h2",{id:F,className:"sr-only",children:"Copilot navigation"}),C[11]=F,C[12]=l):l=C[12],C[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)("a",{href:"/",target:"_self",className:_.githubLogo,"aria-label":"GitHub homepage",children:(0,n.jsx)(m.MarkGithubIcon,{size:32})}),C[13]=c):c=C[13];let $=I?"Close sidebar":"Open sidebar",U=I?"invisible":"default";C[14]!==B?(d=B(),C[14]=B,C[15]=d):d=C[15],C[16]!==E||C[17]!==U||C[18]!==d||C[19]!==$?(u=(0,n.jsx)(h.$,{className:_.toggleSidebarFloating,"aria-label":$,onClick:E,iconOnly:!0,variant:U,icon:d}),C[16]=E,C[17]=U,C[18]=d,C[19]=$,C[20]=u):u=C[20],C[21]!==u||C[22]!==l?(p=(0,n.jsxs)("div",{className:_.header,children:[l,c,u]}),C[21]=u,C[22]=l,C[23]=p):p=C[23],C[24]!==N||C[25]!==p?(f=(0,n.jsxs)("div",{className:_.sidebar,children:[p,N]}),C[24]=N,C[25]=p,C[26]=f):f=C[26];let V=I||T?"Condense":"Expand",W=I||T?"Condense sidebar":"Expand sidebar";return C[27]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M8 2.75 L8 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",className:_.iconLineTop}),(0,n.jsx)("path",{d:"M8 13.25 L8 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",className:_.iconLineBottom})]}),C[27]=g):g=C[27],C[28]!==E||C[29]!==W?(y=(0,n.jsx)("button",{className:_.toggleSidebarVertical,"aria-label":W,onClick:E,children:g}),C[28]=E,C[29]=W,C[30]=y):y=C[30],C[31]!==V||C[32]!==y?(x=(0,n.jsx)(b.m,{text:V,children:y}),C[31]=V,C[32]=y,C[33]=x):x=C[33],C[34]!==A||C[35]!==R||C[36]!==f||C[37]!==x||C[38]!==M||C[39]!==o||C[40]!==O?(j=(0,n.jsxs)("aside",{"aria-labelledby":M,ref:R,className:o,onClick:O,"data-testid":A,children:[f,x]}),C[34]=A,C[35]=R,C[36]=f,C[37]=x,C[38]=M,C[39]=o,C[40]=O,C[41]=j):j=C[41],j}try{j.displayName||(j.displayName="Sidebar")}catch{}function C(e){let t,a,s,o,l,c,u=(0,r.c)(17);if(u[0]!==e){let{children:n,className:r,onToggle:i,"data-testid":l,...c}=e;t=n,a=r,s=l,o=c,u[0]=e,u[1]=t,u[2]=a,u[3]=s,u[4]=o}else t=u[1],a=u[2],s=u[3],o=u[4];let{sidebarExpanded:m,sidebarVisible:h,layoutBreakpoint:f,toggleSidebar:g,sidebarRef:y}=(0,p.L)();return u[5]!==a?(l=(0,i.$)(d.sidebar,a),u[5]=a,u[6]=l):l=u[6],u[7]!==t||u[8]!==s||u[9]!==f||u[10]!==o||u[11]!==m||u[12]!==y||u[13]!==h||u[14]!==l||u[15]!==g?(c=(0,n.jsx)(j,{className:l,isFloating:f,isVisible:h,isExpanded:m,onToggle:g,sidebarRef:y,"data-testid":s,...o,children:t}),u[7]=t,u[8]=s,u[9]=f,u[10]=o,u[11]=m,u[12]=y,u[13]=h,u[14]=l,u[15]=g,u[16]=c):c=u[16],c}function N(e){let t,a,s,o,l,c=(0,r.c)(11);c[0]!==e?({children:t,className:a,...s}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=s):(t=c[1],a=c[2],s=c[3]);let{mainColumn:u}=(0,p.L)(),m="left"===u?d.mainColumn:d.secondaryColumn;return c[4]!==a||c[5]!==m?(o=(0,i.$)(d.columnLeft,m,a),c[4]=a,c[5]=m,c[6]=o):o=c[6],c[7]!==t||c[8]!==s||c[9]!==o?(l=(0,n.jsx)("div",{className:o,"data-column-position":"left",...s,children:t}),c[7]=t,c[8]=s,c[9]=o,c[10]=l):l=c[10],l}function S(e){let t,a,s,o,l,c,u=(0,r.c)(13);u[0]!==e?({children:t,className:a,"data-testid":s,...o}=e,u[0]=e,u[1]=t,u[2]=a,u[3]=s,u[4]=o):(t=u[1],a=u[2],s=u[3],o=u[4]);let{mainColumn:m}=(0,p.L)(),h="right"===m?d.mainColumn:d.secondaryColumn;return u[5]!==a||u[6]!==h?(l=(0,i.$)(d.columnRight,h,a),u[5]=a,u[6]=h,u[7]=l):l=u[7],u[8]!==t||u[9]!==s||u[10]!==o||u[11]!==l?(c=(0,n.jsx)("div",{className:l,"data-testid":s,"data-column-position":"right",...o,children:t}),u[8]=t,u[9]=s,u[10]=o,u[11]=l,u[12]=c):c=u[12],c}function w(){let e,t=(0,r.c)(1);return(0,l.G7)("global_sso_banner")?(t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:d.banner,children:(0,n.jsx)(c.Y0,{})}),t[0]=e):e=t[0],e):null}let I="(max-width: 1024px)",T="COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY";function k(){return function(){if("undefined"==typeof window)return null;try{let e=localStorage.getItem(T);return null===e?null:JSON.parse(e)}catch{return null}}()??!0}function E(e){let t,a,l,c,u,m,h,f,_,v,b,j=(0,r.c)(24);j[0]!==e?({children:t,className:a,mainColumn:m,"data-testid":l,secondaryColumnState:u,...c}=e,j[0]=e,j[1]=t,j[2]=a,j[3]=l,j[4]=c,j[5]=u,j[6]=m):(t=j[1],a=j[2],l=j[3],c=j[4],u=j[5],m=j[6]);let E=void 0===m?"left":m;j[7]===Symbol.for("react.memo_cache_sentinel")?(h={banner:w,header:x,sidebar:C,columnLeft:N,columnRight:S},j[7]=h):h=j[7];let[A]=(0,o.H)(t,h),L=function(e){if(!e||!(0,s.isValidElement)(e))return!1;let t=!1,a=!1,n=e.props.children;for(let e of s.Children.toArray(n))(0,s.isValidElement)(e)&&(e.type===g&&(t=!0),e.type===y&&(a=!0));return t&&a}(A.header||null),R=!!A.columnLeft&&!A.columnRight||!A.columnLeft&&!!A.columnRight,D=!!A.columnLeft&&!!A.columnRight,P=!L&&!R,B=function(e,t){let a,n,i,o,l,c,d=(0,r.c)(20),[u,m]=(0,s.useState)(k),[p,h]=(0,s.useState)(!1),f=(0,s.useState)(!1),[g,y]=t??f;d[0]!==y?(a=e=>{e?y(!1):h(!1)},d[0]=y,d[1]=a):a=d[1];let x=function(e,t){let a,n,i,o=(0,r.c)(6);o[0]!==e?(a=()=>"undefined"!=typeof window&&window.matchMedia(e).matches,o[0]=e,o[1]=a):a=o[1];let[l,c]=(0,s.useState)(a);return o[2]!==t||o[3]!==e?(n=()=>{let a=window.matchMedia(e),n=e=>{c(e.matches),t&&t(e.matches)};return c(a.matches),a.addEventListener("change",n),()=>{a.removeEventListener("change",n)}},i=[e,t],o[2]=t,o[3]=e,o[4]=n,o[5]=i):(n=o[4],i=o[5]),(0,s.useEffect)(n,i),l}(I,a),_=(0,s.useRef)(null),v=(0,s.useRef)(null);d[2]!==x||d[3]!==u||d[4]!==p?(n=()=>{if(x)h(!p);else{let e=!u;m(e);if("undefined"!=typeof window)try{localStorage.setItem(T,JSON.stringify(e))}catch{}}},d[2]=x,d[3]=u,d[4]=p,d[5]=n):n=d[5];let b=n;d[6]!==g||d[7]!==y?(i=()=>{y(!g)},d[6]=g,d[7]=y,d[8]=i):i=d[8];let j=i;return d[9]!==p?(o=()=>{if(p&&v.current){let e=e=>{v.current&&!v.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}},l=[p],d[9]=p,d[10]=o,d[11]=l):(o=d[10],l=d[11]),(0,s.useEffect)(o,l),d[12]!==x||d[13]!==e||d[14]!==g||d[15]!==u||d[16]!==p||d[17]!==j||d[18]!==b?(c={sidebarExpanded:u,sidebarVisible:p,toggleSidebar:b,secondaryColumnVisible:g,toggleSecondaryColumn:j,layoutBreakpoint:x,mainColumn:e,containerRef:_,sidebarRef:v},d[12]=x,d[13]=e,d[14]=g,d[15]=u,d[16]=p,d[17]=j,d[18]=b,d[19]=c):c=d[19],c}(E,u),{containerRef:M,secondaryColumnVisible:O,sidebarExpanded:F}=B,$=p.M,U=(0,i.$)(d.container,P&&d.panelView,L&&d.splitView,L&&"right"===E&&d.mainColumnRight,O&&d.secondaryColumnVisible,!O&&D&&"secondaryColumnHidden",R&&d.monoView,!F&&d.sidebarCondensed,a);return j[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(w,{}),j[8]=f):f=j[8],j[9]!==A.header?(_=A.header||(0,n.jsx)(x,{}),j[9]=A.header,j[10]=_):_=j[10],j[11]!==M||j[12]!==l||j[13]!==c||j[14]!==A.columnLeft||j[15]!==A.columnRight||j[16]!==A.sidebar||j[17]!==U||j[18]!==_?(v=(0,n.jsxs)("div",{className:U,"data-testid":l,ref:M,...c,children:[f,_,A.sidebar,A.columnLeft,A.columnRight]}),j[11]=M,j[12]=l,j[13]=c,j[14]=A.columnLeft,j[15]=A.columnRight,j[16]=A.sidebar,j[17]=U,j[18]=_,j[19]=v):v=j[19],j[20]!==B||j[21]!==$.Provider||j[22]!==v?(b=(0,n.jsx)($.Provider,{value:B,children:v}),j[20]=B,j[21]=$.Provider,j[22]=v,j[23]=b):b=j[23],b}let A=Object.assign(E,{Banner:w,Sidebar:C,ColumnLeft:N,ColumnRight:S,Header:x,HeaderLeft:g,HeaderRight:y});try{C.displayName||(C.displayName="LayoutSidebar")}catch{}try{N.displayName||(N.displayName="ColumnLeft")}catch{}try{S.displayName||(S.displayName="ColumnRight")}catch{}try{w.displayName||(w.displayName="Banner")}catch{}try{I.displayName||(I.displayName="LAYOUT_BREAKPOINT")}catch{}try{E.displayName||(E.displayName="LayoutRoot")}catch{}try{A.displayName||(A.displayName="Layout")}catch{}},10594:(e,t,a)=>{a.d(t,{m:()=>u});var n=a(74848),r=a(21728),i=a(34164),s=a(34743),o=a(71988),l=a(37367),c=a(96540);let d={tooltip:"Tooltip-module__tooltip--zoYnd"},u=e=>{let t,a,u,m,p,h,f,g,y,x=(0,r.c)(33),{text:_,position:v,children:b,relationship:j}=e,C=void 0===j?"description":j,[N,S]=(0,c.useState)(!1);x[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.cY)(8),x[0]=t):t=x[0],x[1]!==v?(a=[t,...v?[]:[(0,s.RK)()]],x[1]=v,x[2]=a):a=x[2],x[3]!==N||x[4]!==v||x[5]!==a?(u={open:N,onOpenChange:S,placement:v,middleware:a,whileElementsMounted:o.ll},x[3]=N,x[4]=v,x[5]=a,x[6]=u):u=x[6];let{refs:w,floatingStyles:I,context:T,isPositioned:k}=(0,l.we)(u);x[7]===Symbol.for("react.memo_cache_sentinel")?(m={move:!1,delay:{open:200,close:0}},x[7]=m):m=x[7];let E=(0,l.Mk)(T,m),A=(0,l.iQ)(T),L=(0,l.s9)(T),R="description"===C;x[8]!==R?(p={role:"tooltip",enabled:R},x[8]=R,x[9]=p):p=x[9];let D=(0,l.It)(T,p);x[10]!==L||x[11]!==A||x[12]!==E||x[13]!==D?(h=[E,A,L,D],x[10]=L,x[11]=A,x[12]=E,x[13]=D,x[14]=h):h=x[14];let{getReferenceProps:P,getFloatingProps:B}=(0,l.bv)(h);if(x[15]!==b||x[16]!==T||x[17]!==P||x[18]!==w.setReference||x[19]!==C||x[20]!==_){let e=P(),t={};"label"===C?t["aria-label"]=_:"description"===C&&(t["aria-describedby"]=T.floatingId),f=(0,c.cloneElement)(b,{...e,...t,ref:w.setReference}),x[15]=b,x[16]=T,x[17]=P,x[18]=w.setReference,x[19]=C,x[20]=_,x[21]=f}else f=x[21];let M=f;return x[22]!==T||x[23]!==I||x[24]!==B||x[25]!==N||x[26]!==k||x[27]!==w.setFloating||x[28]!==_?(g=N&&(0,n.jsx)(l.XF,{children:(0,n.jsx)("div",{ref:w.setFloating,id:T.floatingId,style:{...I,visibility:k?"visible":"hidden"},className:(0,i.$)(d.tooltip),...B(),children:_})}),x[22]=T,x[23]=I,x[24]=B,x[25]=N,x[26]=k,x[27]=w.setFloating,x[28]=_,x[29]=g):g=x[29],x[30]!==M||x[31]!==g?(y=(0,n.jsxs)(n.Fragment,{children:[M,g]}),x[30]=M,x[31]=g,x[32]=y):y=x[32],y};try{u.displayName||(u.displayName="Tooltip")}catch{}},68415:(e,t,a)=>{a.d(t,{Gy:()=>c,LB:()=>h,nn:()=>f,lm:()=>m});var n=a(74848),r=a(96540);let i=null,s=null,o=new Set;function l(e){return o.add(e),i||(i=new ResizeObserver(()=>{s||(s=requestAnimationFrame(()=>{for(let e of(s=null,o))e()}))})).observe(document.documentElement),()=>{o.delete(e),0===o.size&&i&&(i.disconnect(),i=null)}}let c={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},d=[c.xxxxlarge,c.xxxlarge,c.xxlarge,c.xlarge,c.large,c.medium,c.small],u=r.createContext({screenSize:c.small});function m(){return r.useContext(u)}function p(){return f(window.innerWidth)}function h({children:e,initialValue:t=c.small}){let a=(0,r.useSyncExternalStore)(l,p,(0,r.useCallback)(()=>t,[t])),i=(0,r.useMemo)(()=>({screenSize:a}),[a]);return(0,n.jsx)(u.Provider,{value:i,children:e})}function f(e){for(let t of d)if(e>=t)return t;return c.small}try{u.displayName||(u.displayName="ScreenContext")}catch{}try{h.displayName||(h.displayName="ScreenSizeProvider")}catch{}},94232:(e,t,a)=>{a.d(t,{O:()=>u});var n=a(75177),r=a(59299),i=a(44999),s=a(38267);let o=(0,s.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),l=(0,s.AH)(["animation:"," 1.5s infinite linear;"],o),c=(0,s.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),d=(0,s.AH)(["animation:"," 2s infinite linear;"],c),u=(0,s.Ay)(n.A).withConfig({displayName:"LoadingSkeleton",componentId:"sc-bcbf24f9-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&d,({animationStyle:e})=>"pulse"!==e&&l,(0,r.Jt)("colors.neutral.subtle"),(0,r.Jt)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,r.Jt)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},i.A);try{u.displayName||(u.displayName="LoadingSkeleton")}catch{}},13455:(e,t,a)=>{a.d(t,{NE:()=>g,Mm:()=>x,YS:()=>y,mN:()=>b,XF:()=>_,Cf:()=>v});var n=a(74848),r=a(96540),i=a(73451),s=a(19647),o=a(34614),l=a(18828),c=a(55847),d=a(9852),u=a(38621);let m={bodyContainer:"UserFeedback-module__bodyContainer--O4i85",ratingContainer:"UserFeedback-module__ratingContainer--i0uZJ",ratingOption:"UserFeedback-module__ratingOption--hic5K",ratingButton:"UserFeedback-module__ratingButton--HsIWu",ratingCaption:"UserFeedback-module__ratingCaption--qUJIU",footerContainer:"UserFeedback-module__footerContainer--u06YH",footerActionButtonGroup:"UserFeedback-module__footerActionButtonGroup--t8_wz",copyLogsSuccessIcon:"UserFeedback-module__copyLogsSuccessIcon--zNnJA",messageContainer:"UserFeedback-module__messageContainer--cT4Rk",validationError:"UserFeedback-module__validationError--zjQhN",privacyText:"UserFeedback-module__privacyText--qSsVA",Dialog:"UserFeedback-module__Dialog--d4Z0e"},p={verySatisfied:"UserFeedbackColors-module__verySatisfied--Ypo1v",good:"UserFeedbackColors-module__good--iI67T",satisfied:"UserFeedbackColors-module__satisfied--MpwOG",dissatisfied:"UserFeedbackColors-module__dissatisfied--Kuqhh",veryDissatisfied:"UserFeedbackColors-module__veryDissatisfied--m5jfW",bad:"UserFeedbackColors-module__bad--TcLP4"};var h=a(34164);function f({title:e="Give feedback",requestID:t,options:a,returnFocusRef:f,onSubmit:g,onClose:y},x){let[_,v]=(0,r.useState)(null),[b,j]=(0,r.useState)(""),[C,N]=(0,r.useState)([]),[S,w]=(0,r.useState)(0),[I,T]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{C.length>0&&w(e=>e+1)},[C]),(0,r.useImperativeHandle)(x,()=>({openDialog:e=>{if(null!=e){if(!a.some(t=>t.value===e))throw Error("invalid initial option value");v(e)}T(!0)}}));let A=async e=>{e.preventDefault();let t=[];try{t=await g(_,b)}catch{t=["An error occurred while submitting your feedback."]}N(t),0===t.length&&L()},L=()=>{v(null),j(""),N([]),T(!1),y?.()},R=e=>{j(e.target.value),N([])},D=async()=>{if(t){try{await navigator.clipboard.writeText(`Request ID: ${t}`)}catch{N(e=>[...e,"Failed to copy logs."]);return}E(!0),setTimeout(()=>{E(!1)},1e3)}};return(0,n.jsx)(n.Fragment,{children:I&&(0,n.jsx)(d.l,{onClose:L,title:e,renderBody:()=>(0,n.jsxs)("div",{className:m.bodyContainer,children:[(0,n.jsxs)(i.A,{required:!0,children:[(0,n.jsx)(i.A.Label,{visuallyHidden:!0,children:"Rating"}),(0,n.jsx)("div",{className:m.ratingContainer,children:a.map(e=>(0,n.jsxs)("div",{className:m.ratingOption,children:[(0,n.jsx)("button",{type:"button",role:"radio","aria-label":e.name,"aria-checked":_===e.value,onClick:()=>{v(e.value),N([])},className:(0,h.$)(m.ratingButton,p[e.color]),children:e.icon}),(0,n.jsx)("span",{className:m.ratingCaption,children:e.name})]},e.name))})]}),(0,n.jsxs)("div",{className:m.messageContainer,children:[(0,n.jsxs)(i.A,{children:[(0,n.jsx)(i.A.Label,{children:"Message"}),(0,n.jsx)(s.Ay,{placeholder:"Tell us what you liked or what could be better",value:b,onChange:R,resize:"vertical",block:!0,rows:5})]}),(0,n.jsxs)("span",{className:m.privacyText,children:["Please don\u2019t include sensitive, confidential, or personal data. Your feedback helps us improve our services in line with our"," ",(0,n.jsx)(o.A,{href:"https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement",inline:!0,muted:!0,children:"Privacy Policy"}),"."]}),(0,n.jsx)("div",{className:m.validationError,role:"alert",children:C.map(e=>(0,n.jsx)("div",{children:e},e))},S)]})]}),renderFooter:()=>(0,n.jsxs)("div",{className:m.footerContainer,children:[(0,n.jsx)("div",{children:t&&(0,n.jsx)(l.m,{text:"Copy logs to add in feedback",direction:"n",children:(0,n.jsx)(c.Q,{leadingVisual:k?(0,n.jsx)(u.CheckIcon,{className:m.copyLogsSuccessIcon,size:16}):(0,n.jsx)(u.CopyIcon,{size:16}),onClick:D,variant:"default",children:k?"Copied!":"Copy logs"})})}),(0,n.jsxs)("div",{className:m.footerActionButtonGroup,children:[(0,n.jsx)(c.Q,{onClick:L,children:"Cancel"}),(0,n.jsx)(c.Q,{variant:"primary",type:"submit",onClick:A,children:"Send"})]})]}),className:m.Dialog,returnFocusRef:f})})}let g=(0,r.forwardRef)(f),y=(0,n.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.7C6.15313 9.85483 7.09616 9.3 8 9.3C8.47794 9.3 9.0345 9.50535 9.54632 9.9146C9.83116 10.1424 10.0753 10.4124 10.2645 10.7H5.65646ZM11.8447 11.016C11.3379 9.39273 9.66897 8 8 8C6.30092 8 4.60185 9.23723 4.12902 11.011C3.98676 11.5446 4.44771 12 5 12H11C11.5523 12 12.0093 11.5432 11.8447 11.016Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.89649 4.7586C4.02981 4.42529 4.40809 4.26317 4.7414 4.39649L7.00928 5.30364C7.63789 5.55509 7.6379 6.44491 7.00928 6.69636L4.7414 7.60351C4.40809 7.73683 4.02981 7.57471 3.89649 7.2414C3.76317 6.90809 3.92529 6.52981 4.2586 6.39649L5.24982 6L4.2586 5.60351C3.92529 5.47019 3.76317 5.09191 3.89649 4.7586Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1035 4.7586C11.9702 4.42529 11.5919 4.26317 11.2586 4.39649L8.99072 5.30364C8.36211 5.55509 8.3621 6.44491 8.99072 6.69636L11.2586 7.60351C11.5919 7.73683 11.9702 7.57471 12.1035 7.2414C12.2368 6.90809 12.0747 6.52981 11.7414 6.39649L10.7502 6L11.7414 5.60351C12.0747 5.47019 12.2368 5.09191 12.1035 4.7586Z"})]}),x=(0,n.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,n.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,n.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3416 11.8591C9.33064 10.0058 6.66936 10.0058 5.65842 11.8591C5.46007 12.2228 5.0045 12.3568 4.64086 12.1584C4.27722 11.9601 4.14323 11.5045 4.34158 11.1409C5.92104 8.24518 10.079 8.24518 11.6584 11.1409C11.8568 11.5045 11.7228 11.9601 11.3591 12.1584C10.9955 12.3568 10.5399 12.2228 10.3416 11.8591Z"})]}),_=(0,n.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,n.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,n.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 10.5858 5.33579 10.25 5.75 10.25H10.25C10.6642 10.25 11 10.5858 11 11C11 11.4142 10.6642 11.75 10.25 11.75H5.75C5.33579 11.75 5 11.4142 5 11Z"})]}),v=(0,n.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,n.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,n.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3569 9.61413C9.28933 11.3934 6.71067 11.3934 5.64312 9.61413C5.43001 9.25894 4.96931 9.14377 4.61413 9.35688C4.25894 9.56999 4.14377 10.0307 4.35688 10.3859C6.00704 13.1361 9.99296 13.1361 11.6431 10.3859C11.8562 10.0307 11.7411 9.56999 11.3859 9.35688C11.0307 9.14377 10.57 9.25894 10.3569 9.61413Z"})]}),b=(0,n.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.3C6.15313 11.1452 7.09616 11.7 8 11.7C8.47794 11.7 9.0345 11.4947 9.54632 11.0854C9.83116 10.8576 10.0753 10.5876 10.2645 10.3H5.65646ZM11.8447 9.98403C11.3379 11.6073 9.66897 13 8 13C6.30092 13 4.60185 11.7628 4.12902 9.98904C3.98676 9.45539 4.44771 9 5 9H11C11.5523 9 12.0093 9.45684 11.8447 9.98403Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3292 6.83541C10.9875 6.15213 10.0125 6.15213 9.67082 6.83541C9.48558 7.20589 9.03507 7.35606 8.66459 7.17082C8.29411 6.98558 8.14394 6.53507 8.32918 6.16459C9.22361 4.37574 11.7764 4.37574 12.6708 6.16459C12.8561 6.53507 12.7059 6.98558 12.3354 7.17082C11.9649 7.35606 11.5144 7.20589 11.3292 6.83541Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.32918 6.83541C5.98754 6.15213 5.01246 6.15213 4.67082 6.83541C4.48558 7.20589 4.03507 7.35606 3.66459 7.17082C3.29411 6.98558 3.14394 6.53507 3.32918 6.16459C4.22361 4.37574 6.77639 4.37574 7.67082 6.16459C7.85606 6.53507 7.70589 6.98558 7.33541 7.17082C6.96493 7.35606 6.51442 7.20589 6.32918 6.83541Z"})]});try{f.displayName||(f.displayName="UserFeedbackInner")}catch{}try{g.displayName||(g.displayName="UserFeedback")}catch{}}},e=>{e.O(0,["primer-react","react-lib","react-core","octicons-react","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-1fff13","vendors-node_modules_tanstack_query-core_build_modern_queryClient_js","vendors-node_modules_primer_live-region-element_dist_esm_index_js-node_modules_swc_helpers_es-b6e71e","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_tanstack_react-query_build_modern_useQuery_js","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_github_hotkey_dist_inde-336f14","vendors-node_modules_date-fns_getDaysInMonth_mjs-node_modules_date-fns_isAfter_mjs-node_modul-49f526","vendors-node_modules_github_hydro-analytics-client_dist_analytics-client_js-node_modules_gith-e334a0","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-8b7697","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_react-relay_index_js","vendors-node_modules_tanstack_react-virtual_dist_esm_index_js","vendors-node_modules_micromark-extension-gfm_index_js-node_modules_micromark_lib_parse_js-nod-18f315","vendors-node_modules_remark-gfm_lib_index_js-node_modules_remark-parse_lib_index_js-node_modu-44d0fc","vendors-node_modules_hastscript_lib_index_js-node_modules_lowlight_lib_all_js-node_modules_re-7714c4","vendors-node_modules_codemirror_language_dist_index_js","vendors-node_modules_codemirror_commands_dist_index_js","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-6ea9b0","vendors-node_modules_fzy_js_index_js-node_modules_react-relay_hooks_js-node_modules_github_g--885dc8","vendors-node_modules_codemirror_language-data_dist_index_js","vendors-node_modules_codemirror_autocomplete_dist_index_js-node_modules_codemirror_search_dis-aafe81","vendors-node_modules_js-yaml_dist_js-yaml_mjs","vendors-node_modules_github_catalyst_lib_index_js-node_modules_tanstack_react-query_build_mod-d1dec4","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_tanstack_react-query_b-28ef58","vendors-node_modules_emoji-regex_index_js-node_modules_codemirror_merge_dist_index_js-node_mo-02eed2","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_date-picker_components_DatePicker_tsx","ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts","ui_packages_list-view_src_hooks_use-next-header-tag_ts-ui_packages_list-view_src_ListItem_Lis-0a5d95","ui_packages_ref-selector_RefSelector_tsx","ui_packages_copilot-chat_utils_copilot-chat-helpers_ts","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_copilot-markdown_MarkdownRenderer_tsx","ui_packages_copilot-chat_utils_CopilotChatContext_tsx","ui_packages_document-metadata_document-metadata_ts-ui_packages_fetch-headers_fetch-headers_ts-ae5464","ui_packages_copilot-chat_components_ModelPicker_tsx","ui_packages_relay-environment_relay-environment_ts-ui_packages_lifecycle-labels_internal-comp-50711d","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx-ui_packages_copy-to-clipboard_Copy-1ea606","ui_packages_commenting_constants_values_ts-ui_packages_commenting_components_ActivityHeader_t-8a1940","ui_packages_agent-sessions_components_NewTaskChatInput_tsx-ui_packages_agent-sessions_compone-a98eee","ui_packages_copilot-chat_components_CopilotIconAnimation_tsx","ui_packages_signed-commit-badge_index_ts","ui_packages_app-uuid_app-uuid_ts-ui_packages_commenting_hooks_use-markdown-body_ts-ui_package-535bbd","ui_packages_markdown-viewer_NewMarkdownViewer_tsx","ui_packages_issue-viewer_components_IssueViewer_tsx-ui_packages_issue-viewer_contexts_IssueVi-df51bd"],()=>e(e.s=48236)),e.O()}]);
//# sourceMappingURL=copilot-immersive-v1-0a42e45c085f.js.map